return {
	Play411121001 = function(arg_1_0, arg_1_1)
		arg_1_1.time_ = 0
		arg_1_1.frameCnt_ = 0
		arg_1_1.state_ = "playing"
		arg_1_1.curTalkId_ = 411121001
		arg_1_1.duration_ = 5.966

		local var_1_0 = {
			zh = 5.966,
			ja = 5.533
		}
		local var_1_1 = manager.audio:GetLocalizationFlag()

		if var_1_0[var_1_1] ~= nil then
			arg_1_1.duration_ = var_1_0[var_1_1]
		end

		SetActive(arg_1_1.tipsGo_, false)

		function arg_1_1.onSingleLineFinish_()
			arg_1_1.onSingleLineUpdate_ = nil
			arg_1_1.onSingleLineFinish_ = nil
			arg_1_1.state_ = "waiting"
		end

		function arg_1_1.playNext_(arg_3_0)
			if arg_3_0 == 1 then
				arg_1_0:Play411121002(arg_1_1)
			end
		end

		function arg_1_1.onSingleLineUpdate_(arg_4_0)
			local var_4_0 = "B04g"

			if arg_1_1.bgs_[var_4_0] == nil then
				local var_4_1 = Object.Instantiate(arg_1_1.paintGo_)

				var_4_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_4_0)
				var_4_1.name = var_4_0
				var_4_1.transform.parent = arg_1_1.stage_.transform
				var_4_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_1_1.bgs_[var_4_0] = var_4_1
			end

			local var_4_2 = 0

			if var_4_2 < arg_1_1.time_ and arg_1_1.time_ <= var_4_2 + arg_4_0 then
				local var_4_3 = manager.ui.mainCamera.transform.localPosition
				local var_4_4 = Vector3.New(0, 0, 10) + Vector3.New(var_4_3.x, var_4_3.y, 0)
				local var_4_5 = arg_1_1.bgs_.B04g

				var_4_5.transform.localPosition = var_4_4
				var_4_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_4_6 = var_4_5:GetComponent("SpriteRenderer")

				if var_4_6 and var_4_6.sprite then
					local var_4_7 = (var_4_5.transform.localPosition - var_4_3).z
					local var_4_8 = manager.ui.mainCameraCom_
					local var_4_9 = 2 * var_4_7 * Mathf.Tan(var_4_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_4_10 = var_4_9 * var_4_8.aspect
					local var_4_11 = var_4_6.sprite.bounds.size.x
					local var_4_12 = var_4_6.sprite.bounds.size.y
					local var_4_13 = var_4_10 / var_4_11
					local var_4_14 = var_4_9 / var_4_12
					local var_4_15 = var_4_14 < var_4_13 and var_4_13 or var_4_14

					var_4_5.transform.localScale = Vector3.New(var_4_15, var_4_15, 0)
				end

				for iter_4_0, iter_4_1 in pairs(arg_1_1.bgs_) do
					if iter_4_0 ~= "B04g" then
						iter_4_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_4_16 = 0

			if var_4_16 < arg_1_1.time_ and arg_1_1.time_ <= var_4_16 + arg_4_0 then
				arg_1_1.mask_.enabled = true
				arg_1_1.mask_.raycastTarget = true

				arg_1_1:SetGaussion(false)
			end

			local var_4_17 = 2

			if var_4_16 <= arg_1_1.time_ and arg_1_1.time_ < var_4_16 + var_4_17 then
				local var_4_18 = (arg_1_1.time_ - var_4_16) / var_4_17
				local var_4_19 = Color.New(0, 0, 0)

				var_4_19.a = Mathf.Lerp(1, 0, var_4_18)
				arg_1_1.mask_.color = var_4_19
			end

			if arg_1_1.time_ >= var_4_16 + var_4_17 and arg_1_1.time_ < var_4_16 + var_4_17 + arg_4_0 then
				local var_4_20 = Color.New(0, 0, 0)
				local var_4_21 = 0

				arg_1_1.mask_.enabled = false
				var_4_20.a = var_4_21
				arg_1_1.mask_.color = var_4_20
			end

			local var_4_22 = 0
			local var_4_23 = 0.366666666666667

			if var_4_22 < arg_1_1.time_ and arg_1_1.time_ <= var_4_22 + arg_4_0 then
				local var_4_24 = "play"
				local var_4_25 = "music"

				arg_1_1:AudioAction(var_4_24, var_4_25, "ui_battle", "ui_battle_stopbgm", "")
			end

			local var_4_26 = 0.6
			local var_4_27 = 1

			if var_4_26 < arg_1_1.time_ and arg_1_1.time_ <= var_4_26 + arg_4_0 then
				local var_4_28 = "play"
				local var_4_29 = "music"

				arg_1_1:AudioAction(var_4_28, var_4_29, "bgm_activity_1_5_story_1", "bgm_activity_1_5_story_1", "bgm_activity_1_5_story_1.awb")
			end

			if arg_1_1.frameCnt_ <= 1 then
				arg_1_1.dialog_:SetActive(false)
			end

			local var_4_30 = 2
			local var_4_31 = 0.525

			if var_4_30 < arg_1_1.time_ and arg_1_1.time_ <= var_4_30 + arg_4_0 then
				arg_1_1.talkMaxDuration = 0

				arg_1_1.dialog_:SetActive(true)

				local var_4_32 = LeanTween.value(arg_1_1.dialog_, 0, 1, 0.3)

				var_4_32:setOnUpdate(LuaHelper.FloatAction(function(arg_5_0)
					arg_1_1.dialogCg_.alpha = arg_5_0
				end))
				var_4_32:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_1_1.dialog_)
					var_4_32:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_1_1.duration_ = arg_1_1.duration_ + 0.3

				SetActive(arg_1_1.leftNameGo_, true)

				local var_4_33 = arg_1_1:FormatText(StoryNameCfg[679].name)

				arg_1_1.leftNameTxt_.text = var_4_33

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_1_1.leftNameTxt_.transform)

				arg_1_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_1_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_1_1:RecordName(arg_1_1.leftNameTxt_.text)
				SetActive(arg_1_1.iconTrs_.gameObject, true)
				arg_1_1.iconController_:SetSelectedState("hero")

				arg_1_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_1_1.callingController_:SetSelectedState("normal")

				local var_4_34 = arg_1_1:GetWordFromCfg(411121001)
				local var_4_35 = arg_1_1:FormatText(var_4_34.content)

				arg_1_1.text_.text = var_4_35

				LuaForUtil.ClearLinePrefixSymbol(arg_1_1.text_)

				local var_4_36 = 21
				local var_4_37 = utf8.len(var_4_35)
				local var_4_38 = var_4_36 <= 0 and var_4_31 or var_4_31 * (var_4_37 / var_4_36)

				if var_4_38 > 0 and var_4_31 < var_4_38 then
					arg_1_1.talkMaxDuration = var_4_38
					var_4_30 = var_4_30 + 0.3

					if var_4_38 + var_4_30 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_38 + var_4_30
					end
				end

				arg_1_1.text_.text = var_4_35
				arg_1_1.typewritter.percent = 0

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121001", "story_v_out_411121.awb") ~= 0 then
					local var_4_39 = manager.audio:GetVoiceLength("story_v_out_411121", "411121001", "story_v_out_411121.awb") / 1000

					if var_4_39 + var_4_30 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_39 + var_4_30
					end

					if var_4_34.prefab_name ~= "" and arg_1_1.actors_[var_4_34.prefab_name] ~= nil then
						local var_4_40 = LuaForUtil.PlayVoiceWithCriLipsync(arg_1_1.actors_[var_4_34.prefab_name].transform, "story_v_out_411121", "411121001", "story_v_out_411121.awb")

						arg_1_1:RecordAudio("411121001", var_4_40)
						arg_1_1:RecordAudio("411121001", var_4_40)
					else
						arg_1_1:AudioAction("play", "voice", "story_v_out_411121", "411121001", "story_v_out_411121.awb")
					end

					arg_1_1:RecordHistoryTalkVoice("story_v_out_411121", "411121001", "story_v_out_411121.awb")
				end

				arg_1_1:RecordContent(arg_1_1.text_.text)
			end

			local var_4_41 = var_4_30 + 0.3
			local var_4_42 = math.max(var_4_31, arg_1_1.talkMaxDuration)

			if var_4_41 <= arg_1_1.time_ and arg_1_1.time_ < var_4_41 + var_4_42 then
				arg_1_1.typewritter.percent = (arg_1_1.time_ - var_4_41) / var_4_42

				arg_1_1.typewritter:SetDirty()
			end

			if arg_1_1.time_ >= var_4_41 + var_4_42 and arg_1_1.time_ < var_4_41 + var_4_42 + arg_4_0 then
				arg_1_1.typewritter.percent = 1

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(true)
			end
		end
	end,
	Play411121002 = function(arg_7_0, arg_7_1)
		arg_7_1.time_ = 0
		arg_7_1.frameCnt_ = 0
		arg_7_1.state_ = "playing"
		arg_7_1.curTalkId_ = 411121002
		arg_7_1.duration_ = 3.9

		local var_7_0 = {
			zh = 2.933,
			ja = 3.9
		}
		local var_7_1 = manager.audio:GetLocalizationFlag()

		if var_7_0[var_7_1] ~= nil then
			arg_7_1.duration_ = var_7_0[var_7_1]
		end

		SetActive(arg_7_1.tipsGo_, false)

		function arg_7_1.onSingleLineFinish_()
			arg_7_1.onSingleLineUpdate_ = nil
			arg_7_1.onSingleLineFinish_ = nil
			arg_7_1.state_ = "waiting"
		end

		function arg_7_1.playNext_(arg_9_0)
			if arg_9_0 == 1 then
				arg_7_0:Play411121003(arg_7_1)
			end
		end

		function arg_7_1.onSingleLineUpdate_(arg_10_0)
			local var_10_0 = "10014ui_story"

			if arg_7_1.actors_[var_10_0] == nil then
				local var_10_1 = Object.Instantiate(Asset.Load("Char/" .. var_10_0), arg_7_1.stage_.transform)

				var_10_1.name = var_10_0
				var_10_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_7_1.actors_[var_10_0] = var_10_1

				local var_10_2 = var_10_1:GetComponentInChildren(typeof(CharacterEffect))

				var_10_2.enabled = true

				local var_10_3 = GameObjectTools.GetOrAddComponent(var_10_1, typeof(DynamicBoneHelper))

				if var_10_3 then
					var_10_3:EnableDynamicBone(false)
				end

				arg_7_1:ShowWeapon(var_10_2.transform, false)

				arg_7_1.var_[var_10_0 .. "Animator"] = var_10_2.gameObject:GetComponent(typeof(UnityEngine.Animator))
				arg_7_1.var_[var_10_0 .. "Animator"].applyRootMotion = true
				arg_7_1.var_[var_10_0 .. "LipSync"] = var_10_2.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
			end

			local var_10_4 = arg_7_1.actors_["10014ui_story"].transform
			local var_10_5 = 0

			if var_10_5 < arg_7_1.time_ and arg_7_1.time_ <= var_10_5 + arg_10_0 then
				arg_7_1.var_.moveOldPos10014ui_story = var_10_4.localPosition
			end

			local var_10_6 = 0.001

			if var_10_5 <= arg_7_1.time_ and arg_7_1.time_ < var_10_5 + var_10_6 then
				local var_10_7 = (arg_7_1.time_ - var_10_5) / var_10_6
				local var_10_8 = Vector3.New(0, -1.06, -6.2)

				var_10_4.localPosition = Vector3.Lerp(arg_7_1.var_.moveOldPos10014ui_story, var_10_8, var_10_7)

				local var_10_9 = manager.ui.mainCamera.transform.position - var_10_4.position

				var_10_4.forward = Vector3.New(var_10_9.x, var_10_9.y, var_10_9.z)

				local var_10_10 = var_10_4.localEulerAngles

				var_10_10.z = 0
				var_10_10.x = 0
				var_10_4.localEulerAngles = var_10_10
			end

			if arg_7_1.time_ >= var_10_5 + var_10_6 and arg_7_1.time_ < var_10_5 + var_10_6 + arg_10_0 then
				var_10_4.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_10_11 = manager.ui.mainCamera.transform.position - var_10_4.position

				var_10_4.forward = Vector3.New(var_10_11.x, var_10_11.y, var_10_11.z)

				local var_10_12 = var_10_4.localEulerAngles

				var_10_12.z = 0
				var_10_12.x = 0
				var_10_4.localEulerAngles = var_10_12
			end

			local var_10_13 = arg_7_1.actors_["10014ui_story"]
			local var_10_14 = 0

			if var_10_14 < arg_7_1.time_ and arg_7_1.time_ <= var_10_14 + arg_10_0 and arg_7_1.var_.characterEffect10014ui_story == nil then
				arg_7_1.var_.characterEffect10014ui_story = var_10_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_10_15 = 0.200000002980232

			if var_10_14 <= arg_7_1.time_ and arg_7_1.time_ < var_10_14 + var_10_15 then
				local var_10_16 = (arg_7_1.time_ - var_10_14) / var_10_15

				if arg_7_1.var_.characterEffect10014ui_story then
					arg_7_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_7_1.time_ >= var_10_14 + var_10_15 and arg_7_1.time_ < var_10_14 + var_10_15 + arg_10_0 and arg_7_1.var_.characterEffect10014ui_story then
				arg_7_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_10_17 = 0

			if var_10_17 < arg_7_1.time_ and arg_7_1.time_ <= var_10_17 + arg_10_0 then
				arg_7_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action1_1")
			end

			local var_10_18 = 0

			if var_10_18 < arg_7_1.time_ and arg_7_1.time_ <= var_10_18 + arg_10_0 then
				arg_7_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_10_19 = 0
			local var_10_20 = 0.3

			if var_10_19 < arg_7_1.time_ and arg_7_1.time_ <= var_10_19 + arg_10_0 then
				arg_7_1.talkMaxDuration = 0
				arg_7_1.dialogCg_.alpha = 1

				arg_7_1.dialog_:SetActive(true)
				SetActive(arg_7_1.leftNameGo_, true)

				local var_10_21 = arg_7_1:FormatText(StoryNameCfg[264].name)

				arg_7_1.leftNameTxt_.text = var_10_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_7_1.leftNameTxt_.transform)

				arg_7_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_7_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_7_1:RecordName(arg_7_1.leftNameTxt_.text)
				SetActive(arg_7_1.iconTrs_.gameObject, false)
				arg_7_1.callingController_:SetSelectedState("normal")

				local var_10_22 = arg_7_1:GetWordFromCfg(411121002)
				local var_10_23 = arg_7_1:FormatText(var_10_22.content)

				arg_7_1.text_.text = var_10_23

				LuaForUtil.ClearLinePrefixSymbol(arg_7_1.text_)

				local var_10_24 = 12
				local var_10_25 = utf8.len(var_10_23)
				local var_10_26 = var_10_24 <= 0 and var_10_20 or var_10_20 * (var_10_25 / var_10_24)

				if var_10_26 > 0 and var_10_20 < var_10_26 then
					arg_7_1.talkMaxDuration = var_10_26

					if var_10_26 + var_10_19 > arg_7_1.duration_ then
						arg_7_1.duration_ = var_10_26 + var_10_19
					end
				end

				arg_7_1.text_.text = var_10_23
				arg_7_1.typewritter.percent = 0

				arg_7_1.typewritter:SetDirty()
				arg_7_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121002", "story_v_out_411121.awb") ~= 0 then
					local var_10_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121002", "story_v_out_411121.awb") / 1000

					if var_10_27 + var_10_19 > arg_7_1.duration_ then
						arg_7_1.duration_ = var_10_27 + var_10_19
					end

					if var_10_22.prefab_name ~= "" and arg_7_1.actors_[var_10_22.prefab_name] ~= nil then
						local var_10_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_7_1.actors_[var_10_22.prefab_name].transform, "story_v_out_411121", "411121002", "story_v_out_411121.awb")

						arg_7_1:RecordAudio("411121002", var_10_28)
						arg_7_1:RecordAudio("411121002", var_10_28)
					else
						arg_7_1:AudioAction("play", "voice", "story_v_out_411121", "411121002", "story_v_out_411121.awb")
					end

					arg_7_1:RecordHistoryTalkVoice("story_v_out_411121", "411121002", "story_v_out_411121.awb")
				end

				arg_7_1:RecordContent(arg_7_1.text_.text)
			end

			local var_10_29 = math.max(var_10_20, arg_7_1.talkMaxDuration)

			if var_10_19 <= arg_7_1.time_ and arg_7_1.time_ < var_10_19 + var_10_29 then
				arg_7_1.typewritter.percent = (arg_7_1.time_ - var_10_19) / var_10_29

				arg_7_1.typewritter:SetDirty()
			end

			if arg_7_1.time_ >= var_10_19 + var_10_29 and arg_7_1.time_ < var_10_19 + var_10_29 + arg_10_0 then
				arg_7_1.typewritter.percent = 1

				arg_7_1.typewritter:SetDirty()
				arg_7_1:ShowNextGo(true)
			end
		end
	end,
	Play411121003 = function(arg_11_0, arg_11_1)
		arg_11_1.time_ = 0
		arg_11_1.frameCnt_ = 0
		arg_11_1.state_ = "playing"
		arg_11_1.curTalkId_ = 411121003
		arg_11_1.duration_ = 4.133

		local var_11_0 = {
			zh = 3.8,
			ja = 4.133
		}
		local var_11_1 = manager.audio:GetLocalizationFlag()

		if var_11_0[var_11_1] ~= nil then
			arg_11_1.duration_ = var_11_0[var_11_1]
		end

		SetActive(arg_11_1.tipsGo_, false)

		function arg_11_1.onSingleLineFinish_()
			arg_11_1.onSingleLineUpdate_ = nil
			arg_11_1.onSingleLineFinish_ = nil
			arg_11_1.state_ = "waiting"
		end

		function arg_11_1.playNext_(arg_13_0)
			if arg_13_0 == 1 then
				arg_11_0:Play411121004(arg_11_1)
			end
		end

		function arg_11_1.onSingleLineUpdate_(arg_14_0)
			local var_14_0 = arg_11_1.actors_["10014ui_story"]
			local var_14_1 = 0

			if var_14_1 < arg_11_1.time_ and arg_11_1.time_ <= var_14_1 + arg_14_0 and arg_11_1.var_.characterEffect10014ui_story == nil then
				arg_11_1.var_.characterEffect10014ui_story = var_14_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_14_2 = 0.200000002980232

			if var_14_1 <= arg_11_1.time_ and arg_11_1.time_ < var_14_1 + var_14_2 then
				local var_14_3 = (arg_11_1.time_ - var_14_1) / var_14_2

				if arg_11_1.var_.characterEffect10014ui_story then
					local var_14_4 = Mathf.Lerp(0, 0.5, var_14_3)

					arg_11_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_11_1.var_.characterEffect10014ui_story.fillRatio = var_14_4
				end
			end

			if arg_11_1.time_ >= var_14_1 + var_14_2 and arg_11_1.time_ < var_14_1 + var_14_2 + arg_14_0 and arg_11_1.var_.characterEffect10014ui_story then
				local var_14_5 = 0.5

				arg_11_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_11_1.var_.characterEffect10014ui_story.fillRatio = var_14_5
			end

			local var_14_6 = 0
			local var_14_7 = 0.525

			if var_14_6 < arg_11_1.time_ and arg_11_1.time_ <= var_14_6 + arg_14_0 then
				arg_11_1.talkMaxDuration = 0
				arg_11_1.dialogCg_.alpha = 1

				arg_11_1.dialog_:SetActive(true)
				SetActive(arg_11_1.leftNameGo_, true)

				local var_14_8 = arg_11_1:FormatText(StoryNameCfg[679].name)

				arg_11_1.leftNameTxt_.text = var_14_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_11_1.leftNameTxt_.transform)

				arg_11_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_11_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_11_1:RecordName(arg_11_1.leftNameTxt_.text)
				SetActive(arg_11_1.iconTrs_.gameObject, true)
				arg_11_1.iconController_:SetSelectedState("hero")

				arg_11_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_11_1.callingController_:SetSelectedState("normal")

				local var_14_9 = arg_11_1:GetWordFromCfg(411121003)
				local var_14_10 = arg_11_1:FormatText(var_14_9.content)

				arg_11_1.text_.text = var_14_10

				LuaForUtil.ClearLinePrefixSymbol(arg_11_1.text_)

				local var_14_11 = 21
				local var_14_12 = utf8.len(var_14_10)
				local var_14_13 = var_14_11 <= 0 and var_14_7 or var_14_7 * (var_14_12 / var_14_11)

				if var_14_13 > 0 and var_14_7 < var_14_13 then
					arg_11_1.talkMaxDuration = var_14_13

					if var_14_13 + var_14_6 > arg_11_1.duration_ then
						arg_11_1.duration_ = var_14_13 + var_14_6
					end
				end

				arg_11_1.text_.text = var_14_10
				arg_11_1.typewritter.percent = 0

				arg_11_1.typewritter:SetDirty()
				arg_11_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121003", "story_v_out_411121.awb") ~= 0 then
					local var_14_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121003", "story_v_out_411121.awb") / 1000

					if var_14_14 + var_14_6 > arg_11_1.duration_ then
						arg_11_1.duration_ = var_14_14 + var_14_6
					end

					if var_14_9.prefab_name ~= "" and arg_11_1.actors_[var_14_9.prefab_name] ~= nil then
						local var_14_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_11_1.actors_[var_14_9.prefab_name].transform, "story_v_out_411121", "411121003", "story_v_out_411121.awb")

						arg_11_1:RecordAudio("411121003", var_14_15)
						arg_11_1:RecordAudio("411121003", var_14_15)
					else
						arg_11_1:AudioAction("play", "voice", "story_v_out_411121", "411121003", "story_v_out_411121.awb")
					end

					arg_11_1:RecordHistoryTalkVoice("story_v_out_411121", "411121003", "story_v_out_411121.awb")
				end

				arg_11_1:RecordContent(arg_11_1.text_.text)
			end

			local var_14_16 = math.max(var_14_7, arg_11_1.talkMaxDuration)

			if var_14_6 <= arg_11_1.time_ and arg_11_1.time_ < var_14_6 + var_14_16 then
				arg_11_1.typewritter.percent = (arg_11_1.time_ - var_14_6) / var_14_16

				arg_11_1.typewritter:SetDirty()
			end

			if arg_11_1.time_ >= var_14_6 + var_14_16 and arg_11_1.time_ < var_14_6 + var_14_16 + arg_14_0 then
				arg_11_1.typewritter.percent = 1

				arg_11_1.typewritter:SetDirty()
				arg_11_1:ShowNextGo(true)
			end
		end
	end,
	Play411121004 = function(arg_15_0, arg_15_1)
		arg_15_1.time_ = 0
		arg_15_1.frameCnt_ = 0
		arg_15_1.state_ = "playing"
		arg_15_1.curTalkId_ = 411121004
		arg_15_1.duration_ = 2.166

		local var_15_0 = {
			zh = 2.066,
			ja = 2.166
		}
		local var_15_1 = manager.audio:GetLocalizationFlag()

		if var_15_0[var_15_1] ~= nil then
			arg_15_1.duration_ = var_15_0[var_15_1]
		end

		SetActive(arg_15_1.tipsGo_, false)

		function arg_15_1.onSingleLineFinish_()
			arg_15_1.onSingleLineUpdate_ = nil
			arg_15_1.onSingleLineFinish_ = nil
			arg_15_1.state_ = "waiting"
		end

		function arg_15_1.playNext_(arg_17_0)
			if arg_17_0 == 1 then
				arg_15_0:Play411121005(arg_15_1)
			end
		end

		function arg_15_1.onSingleLineUpdate_(arg_18_0)
			local var_18_0 = arg_15_1.actors_["10014ui_story"]
			local var_18_1 = 0

			if var_18_1 < arg_15_1.time_ and arg_15_1.time_ <= var_18_1 + arg_18_0 and arg_15_1.var_.characterEffect10014ui_story == nil then
				arg_15_1.var_.characterEffect10014ui_story = var_18_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_18_2 = 0.200000002980232

			if var_18_1 <= arg_15_1.time_ and arg_15_1.time_ < var_18_1 + var_18_2 then
				local var_18_3 = (arg_15_1.time_ - var_18_1) / var_18_2

				if arg_15_1.var_.characterEffect10014ui_story then
					arg_15_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_15_1.time_ >= var_18_1 + var_18_2 and arg_15_1.time_ < var_18_1 + var_18_2 + arg_18_0 and arg_15_1.var_.characterEffect10014ui_story then
				arg_15_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_18_4 = 0
			local var_18_5 = 0.15

			if var_18_4 < arg_15_1.time_ and arg_15_1.time_ <= var_18_4 + arg_18_0 then
				arg_15_1.talkMaxDuration = 0
				arg_15_1.dialogCg_.alpha = 1

				arg_15_1.dialog_:SetActive(true)
				SetActive(arg_15_1.leftNameGo_, true)

				local var_18_6 = arg_15_1:FormatText(StoryNameCfg[264].name)

				arg_15_1.leftNameTxt_.text = var_18_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_15_1.leftNameTxt_.transform)

				arg_15_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_15_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_15_1:RecordName(arg_15_1.leftNameTxt_.text)
				SetActive(arg_15_1.iconTrs_.gameObject, false)
				arg_15_1.callingController_:SetSelectedState("normal")

				local var_18_7 = arg_15_1:GetWordFromCfg(411121004)
				local var_18_8 = arg_15_1:FormatText(var_18_7.content)

				arg_15_1.text_.text = var_18_8

				LuaForUtil.ClearLinePrefixSymbol(arg_15_1.text_)

				local var_18_9 = 6
				local var_18_10 = utf8.len(var_18_8)
				local var_18_11 = var_18_9 <= 0 and var_18_5 or var_18_5 * (var_18_10 / var_18_9)

				if var_18_11 > 0 and var_18_5 < var_18_11 then
					arg_15_1.talkMaxDuration = var_18_11

					if var_18_11 + var_18_4 > arg_15_1.duration_ then
						arg_15_1.duration_ = var_18_11 + var_18_4
					end
				end

				arg_15_1.text_.text = var_18_8
				arg_15_1.typewritter.percent = 0

				arg_15_1.typewritter:SetDirty()
				arg_15_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121004", "story_v_out_411121.awb") ~= 0 then
					local var_18_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121004", "story_v_out_411121.awb") / 1000

					if var_18_12 + var_18_4 > arg_15_1.duration_ then
						arg_15_1.duration_ = var_18_12 + var_18_4
					end

					if var_18_7.prefab_name ~= "" and arg_15_1.actors_[var_18_7.prefab_name] ~= nil then
						local var_18_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_15_1.actors_[var_18_7.prefab_name].transform, "story_v_out_411121", "411121004", "story_v_out_411121.awb")

						arg_15_1:RecordAudio("411121004", var_18_13)
						arg_15_1:RecordAudio("411121004", var_18_13)
					else
						arg_15_1:AudioAction("play", "voice", "story_v_out_411121", "411121004", "story_v_out_411121.awb")
					end

					arg_15_1:RecordHistoryTalkVoice("story_v_out_411121", "411121004", "story_v_out_411121.awb")
				end

				arg_15_1:RecordContent(arg_15_1.text_.text)
			end

			local var_18_14 = math.max(var_18_5, arg_15_1.talkMaxDuration)

			if var_18_4 <= arg_15_1.time_ and arg_15_1.time_ < var_18_4 + var_18_14 then
				arg_15_1.typewritter.percent = (arg_15_1.time_ - var_18_4) / var_18_14

				arg_15_1.typewritter:SetDirty()
			end

			if arg_15_1.time_ >= var_18_4 + var_18_14 and arg_15_1.time_ < var_18_4 + var_18_14 + arg_18_0 then
				arg_15_1.typewritter.percent = 1

				arg_15_1.typewritter:SetDirty()
				arg_15_1:ShowNextGo(true)
			end
		end
	end,
	Play411121005 = function(arg_19_0, arg_19_1)
		arg_19_1.time_ = 0
		arg_19_1.frameCnt_ = 0
		arg_19_1.state_ = "playing"
		arg_19_1.curTalkId_ = 411121005
		arg_19_1.duration_ = 0.999999999999

		SetActive(arg_19_1.tipsGo_, false)

		function arg_19_1.onSingleLineFinish_()
			arg_19_1.onSingleLineUpdate_ = nil
			arg_19_1.onSingleLineFinish_ = nil
			arg_19_1.state_ = "waiting"
		end

		function arg_19_1.playNext_(arg_21_0)
			if arg_21_0 == 1 then
				arg_19_0:Play411121006(arg_19_1)
			end
		end

		function arg_19_1.onSingleLineUpdate_(arg_22_0)
			local var_22_0 = arg_19_1.actors_["10014ui_story"]
			local var_22_1 = 0

			if var_22_1 < arg_19_1.time_ and arg_19_1.time_ <= var_22_1 + arg_22_0 and arg_19_1.var_.characterEffect10014ui_story == nil then
				arg_19_1.var_.characterEffect10014ui_story = var_22_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_22_2 = 0.200000002980232

			if var_22_1 <= arg_19_1.time_ and arg_19_1.time_ < var_22_1 + var_22_2 then
				local var_22_3 = (arg_19_1.time_ - var_22_1) / var_22_2

				if arg_19_1.var_.characterEffect10014ui_story then
					local var_22_4 = Mathf.Lerp(0, 0.5, var_22_3)

					arg_19_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_19_1.var_.characterEffect10014ui_story.fillRatio = var_22_4
				end
			end

			if arg_19_1.time_ >= var_22_1 + var_22_2 and arg_19_1.time_ < var_22_1 + var_22_2 + arg_22_0 and arg_19_1.var_.characterEffect10014ui_story then
				local var_22_5 = 0.5

				arg_19_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_19_1.var_.characterEffect10014ui_story.fillRatio = var_22_5
			end

			local var_22_6 = 0
			local var_22_7 = 0.05

			if var_22_6 < arg_19_1.time_ and arg_19_1.time_ <= var_22_6 + arg_22_0 then
				arg_19_1.talkMaxDuration = 0
				arg_19_1.dialogCg_.alpha = 1

				arg_19_1.dialog_:SetActive(true)
				SetActive(arg_19_1.leftNameGo_, true)

				local var_22_8 = arg_19_1:FormatText(StoryNameCfg[679].name)

				arg_19_1.leftNameTxt_.text = var_22_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_19_1.leftNameTxt_.transform)

				arg_19_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_19_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_19_1:RecordName(arg_19_1.leftNameTxt_.text)
				SetActive(arg_19_1.iconTrs_.gameObject, true)
				arg_19_1.iconController_:SetSelectedState("hero")

				arg_19_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_19_1.callingController_:SetSelectedState("normal")

				local var_22_9 = arg_19_1:GetWordFromCfg(411121005)
				local var_22_10 = arg_19_1:FormatText(var_22_9.content)

				arg_19_1.text_.text = var_22_10

				LuaForUtil.ClearLinePrefixSymbol(arg_19_1.text_)

				local var_22_11 = 2
				local var_22_12 = utf8.len(var_22_10)
				local var_22_13 = var_22_11 <= 0 and var_22_7 or var_22_7 * (var_22_12 / var_22_11)

				if var_22_13 > 0 and var_22_7 < var_22_13 then
					arg_19_1.talkMaxDuration = var_22_13

					if var_22_13 + var_22_6 > arg_19_1.duration_ then
						arg_19_1.duration_ = var_22_13 + var_22_6
					end
				end

				arg_19_1.text_.text = var_22_10
				arg_19_1.typewritter.percent = 0

				arg_19_1.typewritter:SetDirty()
				arg_19_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121005", "story_v_out_411121.awb") ~= 0 then
					local var_22_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121005", "story_v_out_411121.awb") / 1000

					if var_22_14 + var_22_6 > arg_19_1.duration_ then
						arg_19_1.duration_ = var_22_14 + var_22_6
					end

					if var_22_9.prefab_name ~= "" and arg_19_1.actors_[var_22_9.prefab_name] ~= nil then
						local var_22_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_19_1.actors_[var_22_9.prefab_name].transform, "story_v_out_411121", "411121005", "story_v_out_411121.awb")

						arg_19_1:RecordAudio("411121005", var_22_15)
						arg_19_1:RecordAudio("411121005", var_22_15)
					else
						arg_19_1:AudioAction("play", "voice", "story_v_out_411121", "411121005", "story_v_out_411121.awb")
					end

					arg_19_1:RecordHistoryTalkVoice("story_v_out_411121", "411121005", "story_v_out_411121.awb")
				end

				arg_19_1:RecordContent(arg_19_1.text_.text)
			end

			local var_22_16 = math.max(var_22_7, arg_19_1.talkMaxDuration)

			if var_22_6 <= arg_19_1.time_ and arg_19_1.time_ < var_22_6 + var_22_16 then
				arg_19_1.typewritter.percent = (arg_19_1.time_ - var_22_6) / var_22_16

				arg_19_1.typewritter:SetDirty()
			end

			if arg_19_1.time_ >= var_22_6 + var_22_16 and arg_19_1.time_ < var_22_6 + var_22_16 + arg_22_0 then
				arg_19_1.typewritter.percent = 1

				arg_19_1.typewritter:SetDirty()
				arg_19_1:ShowNextGo(true)
			end
		end
	end,
	Play411121006 = function(arg_23_0, arg_23_1)
		arg_23_1.time_ = 0
		arg_23_1.frameCnt_ = 0
		arg_23_1.state_ = "playing"
		arg_23_1.curTalkId_ = 411121006
		arg_23_1.duration_ = 5.566

		local var_23_0 = {
			zh = 3.6,
			ja = 5.566
		}
		local var_23_1 = manager.audio:GetLocalizationFlag()

		if var_23_0[var_23_1] ~= nil then
			arg_23_1.duration_ = var_23_0[var_23_1]
		end

		SetActive(arg_23_1.tipsGo_, false)

		function arg_23_1.onSingleLineFinish_()
			arg_23_1.onSingleLineUpdate_ = nil
			arg_23_1.onSingleLineFinish_ = nil
			arg_23_1.state_ = "waiting"
		end

		function arg_23_1.playNext_(arg_25_0)
			if arg_25_0 == 1 then
				arg_23_0:Play411121007(arg_23_1)
			end
		end

		function arg_23_1.onSingleLineUpdate_(arg_26_0)
			local var_26_0 = 0
			local var_26_1 = 0.45

			if var_26_0 < arg_23_1.time_ and arg_23_1.time_ <= var_26_0 + arg_26_0 then
				arg_23_1.talkMaxDuration = 0
				arg_23_1.dialogCg_.alpha = 1

				arg_23_1.dialog_:SetActive(true)
				SetActive(arg_23_1.leftNameGo_, true)

				local var_26_2 = arg_23_1:FormatText(StoryNameCfg[679].name)

				arg_23_1.leftNameTxt_.text = var_26_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_23_1.leftNameTxt_.transform)

				arg_23_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_23_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_23_1:RecordName(arg_23_1.leftNameTxt_.text)
				SetActive(arg_23_1.iconTrs_.gameObject, true)
				arg_23_1.iconController_:SetSelectedState("hero")

				arg_23_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_23_1.callingController_:SetSelectedState("normal")

				local var_26_3 = arg_23_1:GetWordFromCfg(411121006)
				local var_26_4 = arg_23_1:FormatText(var_26_3.content)

				arg_23_1.text_.text = var_26_4

				LuaForUtil.ClearLinePrefixSymbol(arg_23_1.text_)

				local var_26_5 = 18
				local var_26_6 = utf8.len(var_26_4)
				local var_26_7 = var_26_5 <= 0 and var_26_1 or var_26_1 * (var_26_6 / var_26_5)

				if var_26_7 > 0 and var_26_1 < var_26_7 then
					arg_23_1.talkMaxDuration = var_26_7

					if var_26_7 + var_26_0 > arg_23_1.duration_ then
						arg_23_1.duration_ = var_26_7 + var_26_0
					end
				end

				arg_23_1.text_.text = var_26_4
				arg_23_1.typewritter.percent = 0

				arg_23_1.typewritter:SetDirty()
				arg_23_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121006", "story_v_out_411121.awb") ~= 0 then
					local var_26_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121006", "story_v_out_411121.awb") / 1000

					if var_26_8 + var_26_0 > arg_23_1.duration_ then
						arg_23_1.duration_ = var_26_8 + var_26_0
					end

					if var_26_3.prefab_name ~= "" and arg_23_1.actors_[var_26_3.prefab_name] ~= nil then
						local var_26_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_23_1.actors_[var_26_3.prefab_name].transform, "story_v_out_411121", "411121006", "story_v_out_411121.awb")

						arg_23_1:RecordAudio("411121006", var_26_9)
						arg_23_1:RecordAudio("411121006", var_26_9)
					else
						arg_23_1:AudioAction("play", "voice", "story_v_out_411121", "411121006", "story_v_out_411121.awb")
					end

					arg_23_1:RecordHistoryTalkVoice("story_v_out_411121", "411121006", "story_v_out_411121.awb")
				end

				arg_23_1:RecordContent(arg_23_1.text_.text)
			end

			local var_26_10 = math.max(var_26_1, arg_23_1.talkMaxDuration)

			if var_26_0 <= arg_23_1.time_ and arg_23_1.time_ < var_26_0 + var_26_10 then
				arg_23_1.typewritter.percent = (arg_23_1.time_ - var_26_0) / var_26_10

				arg_23_1.typewritter:SetDirty()
			end

			if arg_23_1.time_ >= var_26_0 + var_26_10 and arg_23_1.time_ < var_26_0 + var_26_10 + arg_26_0 then
				arg_23_1.typewritter.percent = 1

				arg_23_1.typewritter:SetDirty()
				arg_23_1:ShowNextGo(true)
			end
		end
	end,
	Play411121007 = function(arg_27_0, arg_27_1)
		arg_27_1.time_ = 0
		arg_27_1.frameCnt_ = 0
		arg_27_1.state_ = "playing"
		arg_27_1.curTalkId_ = 411121007
		arg_27_1.duration_ = 4.533

		local var_27_0 = {
			zh = 3.5,
			ja = 4.533
		}
		local var_27_1 = manager.audio:GetLocalizationFlag()

		if var_27_0[var_27_1] ~= nil then
			arg_27_1.duration_ = var_27_0[var_27_1]
		end

		SetActive(arg_27_1.tipsGo_, false)

		function arg_27_1.onSingleLineFinish_()
			arg_27_1.onSingleLineUpdate_ = nil
			arg_27_1.onSingleLineFinish_ = nil
			arg_27_1.state_ = "waiting"
		end

		function arg_27_1.playNext_(arg_29_0)
			if arg_29_0 == 1 then
				arg_27_0:Play411121008(arg_27_1)
			end
		end

		function arg_27_1.onSingleLineUpdate_(arg_30_0)
			local var_30_0 = arg_27_1.actors_["10014ui_story"]
			local var_30_1 = 0

			if var_30_1 < arg_27_1.time_ and arg_27_1.time_ <= var_30_1 + arg_30_0 and arg_27_1.var_.characterEffect10014ui_story == nil then
				arg_27_1.var_.characterEffect10014ui_story = var_30_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_30_2 = 0.200000002980232

			if var_30_1 <= arg_27_1.time_ and arg_27_1.time_ < var_30_1 + var_30_2 then
				local var_30_3 = (arg_27_1.time_ - var_30_1) / var_30_2

				if arg_27_1.var_.characterEffect10014ui_story then
					arg_27_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_27_1.time_ >= var_30_1 + var_30_2 and arg_27_1.time_ < var_30_1 + var_30_2 + arg_30_0 and arg_27_1.var_.characterEffect10014ui_story then
				arg_27_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_30_4 = 0
			local var_30_5 = 0.475

			if var_30_4 < arg_27_1.time_ and arg_27_1.time_ <= var_30_4 + arg_30_0 then
				arg_27_1.talkMaxDuration = 0
				arg_27_1.dialogCg_.alpha = 1

				arg_27_1.dialog_:SetActive(true)
				SetActive(arg_27_1.leftNameGo_, true)

				local var_30_6 = arg_27_1:FormatText(StoryNameCfg[264].name)

				arg_27_1.leftNameTxt_.text = var_30_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_27_1.leftNameTxt_.transform)

				arg_27_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_27_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_27_1:RecordName(arg_27_1.leftNameTxt_.text)
				SetActive(arg_27_1.iconTrs_.gameObject, false)
				arg_27_1.callingController_:SetSelectedState("normal")

				local var_30_7 = arg_27_1:GetWordFromCfg(411121007)
				local var_30_8 = arg_27_1:FormatText(var_30_7.content)

				arg_27_1.text_.text = var_30_8

				LuaForUtil.ClearLinePrefixSymbol(arg_27_1.text_)

				local var_30_9 = 19
				local var_30_10 = utf8.len(var_30_8)
				local var_30_11 = var_30_9 <= 0 and var_30_5 or var_30_5 * (var_30_10 / var_30_9)

				if var_30_11 > 0 and var_30_5 < var_30_11 then
					arg_27_1.talkMaxDuration = var_30_11

					if var_30_11 + var_30_4 > arg_27_1.duration_ then
						arg_27_1.duration_ = var_30_11 + var_30_4
					end
				end

				arg_27_1.text_.text = var_30_8
				arg_27_1.typewritter.percent = 0

				arg_27_1.typewritter:SetDirty()
				arg_27_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121007", "story_v_out_411121.awb") ~= 0 then
					local var_30_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121007", "story_v_out_411121.awb") / 1000

					if var_30_12 + var_30_4 > arg_27_1.duration_ then
						arg_27_1.duration_ = var_30_12 + var_30_4
					end

					if var_30_7.prefab_name ~= "" and arg_27_1.actors_[var_30_7.prefab_name] ~= nil then
						local var_30_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_27_1.actors_[var_30_7.prefab_name].transform, "story_v_out_411121", "411121007", "story_v_out_411121.awb")

						arg_27_1:RecordAudio("411121007", var_30_13)
						arg_27_1:RecordAudio("411121007", var_30_13)
					else
						arg_27_1:AudioAction("play", "voice", "story_v_out_411121", "411121007", "story_v_out_411121.awb")
					end

					arg_27_1:RecordHistoryTalkVoice("story_v_out_411121", "411121007", "story_v_out_411121.awb")
				end

				arg_27_1:RecordContent(arg_27_1.text_.text)
			end

			local var_30_14 = math.max(var_30_5, arg_27_1.talkMaxDuration)

			if var_30_4 <= arg_27_1.time_ and arg_27_1.time_ < var_30_4 + var_30_14 then
				arg_27_1.typewritter.percent = (arg_27_1.time_ - var_30_4) / var_30_14

				arg_27_1.typewritter:SetDirty()
			end

			if arg_27_1.time_ >= var_30_4 + var_30_14 and arg_27_1.time_ < var_30_4 + var_30_14 + arg_30_0 then
				arg_27_1.typewritter.percent = 1

				arg_27_1.typewritter:SetDirty()
				arg_27_1:ShowNextGo(true)
			end
		end
	end,
	Play411121008 = function(arg_31_0, arg_31_1)
		arg_31_1.time_ = 0
		arg_31_1.frameCnt_ = 0
		arg_31_1.state_ = "playing"
		arg_31_1.curTalkId_ = 411121008
		arg_31_1.duration_ = 5.999999999999

		SetActive(arg_31_1.tipsGo_, false)

		function arg_31_1.onSingleLineFinish_()
			arg_31_1.onSingleLineUpdate_ = nil
			arg_31_1.onSingleLineFinish_ = nil
			arg_31_1.state_ = "waiting"
		end

		function arg_31_1.playNext_(arg_33_0)
			if arg_33_0 == 1 then
				arg_31_0:Play411121009(arg_31_1)
			end
		end

		function arg_31_1.onSingleLineUpdate_(arg_34_0)
			local var_34_0 = "B04f"

			if arg_31_1.bgs_[var_34_0] == nil then
				local var_34_1 = Object.Instantiate(arg_31_1.paintGo_)

				var_34_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_34_0)
				var_34_1.name = var_34_0
				var_34_1.transform.parent = arg_31_1.stage_.transform
				var_34_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_31_1.bgs_[var_34_0] = var_34_1
			end

			local var_34_2 = 2

			if var_34_2 < arg_31_1.time_ and arg_31_1.time_ <= var_34_2 + arg_34_0 then
				local var_34_3 = manager.ui.mainCamera.transform.localPosition
				local var_34_4 = Vector3.New(0, 0, 10) + Vector3.New(var_34_3.x, var_34_3.y, 0)
				local var_34_5 = arg_31_1.bgs_.B04f

				var_34_5.transform.localPosition = var_34_4
				var_34_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_34_6 = var_34_5:GetComponent("SpriteRenderer")

				if var_34_6 and var_34_6.sprite then
					local var_34_7 = (var_34_5.transform.localPosition - var_34_3).z
					local var_34_8 = manager.ui.mainCameraCom_
					local var_34_9 = 2 * var_34_7 * Mathf.Tan(var_34_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_34_10 = var_34_9 * var_34_8.aspect
					local var_34_11 = var_34_6.sprite.bounds.size.x
					local var_34_12 = var_34_6.sprite.bounds.size.y
					local var_34_13 = var_34_10 / var_34_11
					local var_34_14 = var_34_9 / var_34_12
					local var_34_15 = var_34_14 < var_34_13 and var_34_13 or var_34_14

					var_34_5.transform.localScale = Vector3.New(var_34_15, var_34_15, 0)
				end

				for iter_34_0, iter_34_1 in pairs(arg_31_1.bgs_) do
					if iter_34_0 ~= "B04f" then
						iter_34_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_34_16 = 0

			if var_34_16 < arg_31_1.time_ and arg_31_1.time_ <= var_34_16 + arg_34_0 then
				arg_31_1.mask_.enabled = true
				arg_31_1.mask_.raycastTarget = true

				arg_31_1:SetGaussion(false)
			end

			local var_34_17 = 2

			if var_34_16 <= arg_31_1.time_ and arg_31_1.time_ < var_34_16 + var_34_17 then
				local var_34_18 = (arg_31_1.time_ - var_34_16) / var_34_17
				local var_34_19 = Color.New(0, 0, 0)

				var_34_19.a = Mathf.Lerp(0, 1, var_34_18)
				arg_31_1.mask_.color = var_34_19
			end

			if arg_31_1.time_ >= var_34_16 + var_34_17 and arg_31_1.time_ < var_34_16 + var_34_17 + arg_34_0 then
				local var_34_20 = Color.New(0, 0, 0)

				var_34_20.a = 1
				arg_31_1.mask_.color = var_34_20
			end

			local var_34_21 = 2

			if var_34_21 < arg_31_1.time_ and arg_31_1.time_ <= var_34_21 + arg_34_0 then
				arg_31_1.mask_.enabled = true
				arg_31_1.mask_.raycastTarget = true

				arg_31_1:SetGaussion(false)
			end

			local var_34_22 = 2

			if var_34_21 <= arg_31_1.time_ and arg_31_1.time_ < var_34_21 + var_34_22 then
				local var_34_23 = (arg_31_1.time_ - var_34_21) / var_34_22
				local var_34_24 = Color.New(0, 0, 0)

				var_34_24.a = Mathf.Lerp(1, 0, var_34_23)
				arg_31_1.mask_.color = var_34_24
			end

			if arg_31_1.time_ >= var_34_21 + var_34_22 and arg_31_1.time_ < var_34_21 + var_34_22 + arg_34_0 then
				local var_34_25 = Color.New(0, 0, 0)
				local var_34_26 = 0

				arg_31_1.mask_.enabled = false
				var_34_25.a = var_34_26
				arg_31_1.mask_.color = var_34_25
			end

			local var_34_27 = arg_31_1.actors_["10014ui_story"].transform
			local var_34_28 = 4

			if var_34_28 < arg_31_1.time_ and arg_31_1.time_ <= var_34_28 + arg_34_0 then
				arg_31_1.var_.moveOldPos10014ui_story = var_34_27.localPosition
			end

			local var_34_29 = 0.001

			if var_34_28 <= arg_31_1.time_ and arg_31_1.time_ < var_34_28 + var_34_29 then
				local var_34_30 = (arg_31_1.time_ - var_34_28) / var_34_29
				local var_34_31 = Vector3.New(0, -1.06, -6.2)

				var_34_27.localPosition = Vector3.Lerp(arg_31_1.var_.moveOldPos10014ui_story, var_34_31, var_34_30)

				local var_34_32 = manager.ui.mainCamera.transform.position - var_34_27.position

				var_34_27.forward = Vector3.New(var_34_32.x, var_34_32.y, var_34_32.z)

				local var_34_33 = var_34_27.localEulerAngles

				var_34_33.z = 0
				var_34_33.x = 0
				var_34_27.localEulerAngles = var_34_33
			end

			if arg_31_1.time_ >= var_34_28 + var_34_29 and arg_31_1.time_ < var_34_28 + var_34_29 + arg_34_0 then
				var_34_27.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_34_34 = manager.ui.mainCamera.transform.position - var_34_27.position

				var_34_27.forward = Vector3.New(var_34_34.x, var_34_34.y, var_34_34.z)

				local var_34_35 = var_34_27.localEulerAngles

				var_34_35.z = 0
				var_34_35.x = 0
				var_34_27.localEulerAngles = var_34_35
			end

			local var_34_36 = arg_31_1.actors_["10014ui_story"]
			local var_34_37 = 4

			if var_34_37 < arg_31_1.time_ and arg_31_1.time_ <= var_34_37 + arg_34_0 and arg_31_1.var_.characterEffect10014ui_story == nil then
				arg_31_1.var_.characterEffect10014ui_story = var_34_36:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_34_38 = 0.200000002980232

			if var_34_37 <= arg_31_1.time_ and arg_31_1.time_ < var_34_37 + var_34_38 then
				local var_34_39 = (arg_31_1.time_ - var_34_37) / var_34_38

				if arg_31_1.var_.characterEffect10014ui_story then
					arg_31_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_31_1.time_ >= var_34_37 + var_34_38 and arg_31_1.time_ < var_34_37 + var_34_38 + arg_34_0 and arg_31_1.var_.characterEffect10014ui_story then
				arg_31_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_34_40 = 4

			if var_34_40 < arg_31_1.time_ and arg_31_1.time_ <= var_34_40 + arg_34_0 then
				arg_31_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_1")
			end

			local var_34_41 = 4

			if var_34_41 < arg_31_1.time_ and arg_31_1.time_ <= var_34_41 + arg_34_0 then
				arg_31_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0104cva")
			end

			local var_34_42 = arg_31_1.actors_["10014ui_story"].transform
			local var_34_43 = 2

			if var_34_43 < arg_31_1.time_ and arg_31_1.time_ <= var_34_43 + arg_34_0 then
				arg_31_1.var_.moveOldPos10014ui_story = var_34_42.localPosition
			end

			local var_34_44 = 0.001

			if var_34_43 <= arg_31_1.time_ and arg_31_1.time_ < var_34_43 + var_34_44 then
				local var_34_45 = (arg_31_1.time_ - var_34_43) / var_34_44
				local var_34_46 = Vector3.New(0, 100, 0)

				var_34_42.localPosition = Vector3.Lerp(arg_31_1.var_.moveOldPos10014ui_story, var_34_46, var_34_45)

				local var_34_47 = manager.ui.mainCamera.transform.position - var_34_42.position

				var_34_42.forward = Vector3.New(var_34_47.x, var_34_47.y, var_34_47.z)

				local var_34_48 = var_34_42.localEulerAngles

				var_34_48.z = 0
				var_34_48.x = 0
				var_34_42.localEulerAngles = var_34_48
			end

			if arg_31_1.time_ >= var_34_43 + var_34_44 and arg_31_1.time_ < var_34_43 + var_34_44 + arg_34_0 then
				var_34_42.localPosition = Vector3.New(0, 100, 0)

				local var_34_49 = manager.ui.mainCamera.transform.position - var_34_42.position

				var_34_42.forward = Vector3.New(var_34_49.x, var_34_49.y, var_34_49.z)

				local var_34_50 = var_34_42.localEulerAngles

				var_34_50.z = 0
				var_34_50.x = 0
				var_34_42.localEulerAngles = var_34_50
			end

			if arg_31_1.frameCnt_ <= 1 then
				arg_31_1.dialog_:SetActive(false)
			end

			local var_34_51 = 4
			local var_34_52 = 0.175

			if var_34_51 < arg_31_1.time_ and arg_31_1.time_ <= var_34_51 + arg_34_0 then
				arg_31_1.talkMaxDuration = 0

				arg_31_1.dialog_:SetActive(true)

				local var_34_53 = LeanTween.value(arg_31_1.dialog_, 0, 1, 0.3)

				var_34_53:setOnUpdate(LuaHelper.FloatAction(function(arg_35_0)
					arg_31_1.dialogCg_.alpha = arg_35_0
				end))
				var_34_53:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_31_1.dialog_)
					var_34_53:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_31_1.duration_ = arg_31_1.duration_ + 0.3

				SetActive(arg_31_1.leftNameGo_, true)

				local var_34_54 = arg_31_1:FormatText(StoryNameCfg[264].name)

				arg_31_1.leftNameTxt_.text = var_34_54

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_31_1.leftNameTxt_.transform)

				arg_31_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_31_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_31_1:RecordName(arg_31_1.leftNameTxt_.text)
				SetActive(arg_31_1.iconTrs_.gameObject, false)
				arg_31_1.callingController_:SetSelectedState("normal")

				local var_34_55 = arg_31_1:GetWordFromCfg(411121008)
				local var_34_56 = arg_31_1:FormatText(var_34_55.content)

				arg_31_1.text_.text = var_34_56

				LuaForUtil.ClearLinePrefixSymbol(arg_31_1.text_)

				local var_34_57 = 7
				local var_34_58 = utf8.len(var_34_56)
				local var_34_59 = var_34_57 <= 0 and var_34_52 or var_34_52 * (var_34_58 / var_34_57)

				if var_34_59 > 0 and var_34_52 < var_34_59 then
					arg_31_1.talkMaxDuration = var_34_59
					var_34_51 = var_34_51 + 0.3

					if var_34_59 + var_34_51 > arg_31_1.duration_ then
						arg_31_1.duration_ = var_34_59 + var_34_51
					end
				end

				arg_31_1.text_.text = var_34_56
				arg_31_1.typewritter.percent = 0

				arg_31_1.typewritter:SetDirty()
				arg_31_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121008", "story_v_out_411121.awb") ~= 0 then
					local var_34_60 = manager.audio:GetVoiceLength("story_v_out_411121", "411121008", "story_v_out_411121.awb") / 1000

					if var_34_60 + var_34_51 > arg_31_1.duration_ then
						arg_31_1.duration_ = var_34_60 + var_34_51
					end

					if var_34_55.prefab_name ~= "" and arg_31_1.actors_[var_34_55.prefab_name] ~= nil then
						local var_34_61 = LuaForUtil.PlayVoiceWithCriLipsync(arg_31_1.actors_[var_34_55.prefab_name].transform, "story_v_out_411121", "411121008", "story_v_out_411121.awb")

						arg_31_1:RecordAudio("411121008", var_34_61)
						arg_31_1:RecordAudio("411121008", var_34_61)
					else
						arg_31_1:AudioAction("play", "voice", "story_v_out_411121", "411121008", "story_v_out_411121.awb")
					end

					arg_31_1:RecordHistoryTalkVoice("story_v_out_411121", "411121008", "story_v_out_411121.awb")
				end

				arg_31_1:RecordContent(arg_31_1.text_.text)
			end

			local var_34_62 = var_34_51 + 0.3
			local var_34_63 = math.max(var_34_52, arg_31_1.talkMaxDuration)

			if var_34_62 <= arg_31_1.time_ and arg_31_1.time_ < var_34_62 + var_34_63 then
				arg_31_1.typewritter.percent = (arg_31_1.time_ - var_34_62) / var_34_63

				arg_31_1.typewritter:SetDirty()
			end

			if arg_31_1.time_ >= var_34_62 + var_34_63 and arg_31_1.time_ < var_34_62 + var_34_63 + arg_34_0 then
				arg_31_1.typewritter.percent = 1

				arg_31_1.typewritter:SetDirty()
				arg_31_1:ShowNextGo(true)
			end
		end
	end,
	Play411121009 = function(arg_37_0, arg_37_1)
		arg_37_1.time_ = 0
		arg_37_1.frameCnt_ = 0
		arg_37_1.state_ = "playing"
		arg_37_1.curTalkId_ = 411121009
		arg_37_1.duration_ = 5.766

		local var_37_0 = {
			zh = 4.6,
			ja = 5.766
		}
		local var_37_1 = manager.audio:GetLocalizationFlag()

		if var_37_0[var_37_1] ~= nil then
			arg_37_1.duration_ = var_37_0[var_37_1]
		end

		SetActive(arg_37_1.tipsGo_, false)

		function arg_37_1.onSingleLineFinish_()
			arg_37_1.onSingleLineUpdate_ = nil
			arg_37_1.onSingleLineFinish_ = nil
			arg_37_1.state_ = "waiting"
		end

		function arg_37_1.playNext_(arg_39_0)
			if arg_39_0 == 1 then
				arg_37_0:Play411121010(arg_37_1)
			end
		end

		function arg_37_1.onSingleLineUpdate_(arg_40_0)
			local var_40_0 = arg_37_1.actors_["10014ui_story"]
			local var_40_1 = 0

			if var_40_1 < arg_37_1.time_ and arg_37_1.time_ <= var_40_1 + arg_40_0 and arg_37_1.var_.characterEffect10014ui_story == nil then
				arg_37_1.var_.characterEffect10014ui_story = var_40_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_40_2 = 0.200000002980232

			if var_40_1 <= arg_37_1.time_ and arg_37_1.time_ < var_40_1 + var_40_2 then
				local var_40_3 = (arg_37_1.time_ - var_40_1) / var_40_2

				if arg_37_1.var_.characterEffect10014ui_story then
					local var_40_4 = Mathf.Lerp(0, 0.5, var_40_3)

					arg_37_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_37_1.var_.characterEffect10014ui_story.fillRatio = var_40_4
				end
			end

			if arg_37_1.time_ >= var_40_1 + var_40_2 and arg_37_1.time_ < var_40_1 + var_40_2 + arg_40_0 and arg_37_1.var_.characterEffect10014ui_story then
				local var_40_5 = 0.5

				arg_37_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_37_1.var_.characterEffect10014ui_story.fillRatio = var_40_5
			end

			local var_40_6 = 0
			local var_40_7 = 0.6

			if var_40_6 < arg_37_1.time_ and arg_37_1.time_ <= var_40_6 + arg_40_0 then
				arg_37_1.talkMaxDuration = 0
				arg_37_1.dialogCg_.alpha = 1

				arg_37_1.dialog_:SetActive(true)
				SetActive(arg_37_1.leftNameGo_, true)

				local var_40_8 = arg_37_1:FormatText(StoryNameCfg[689].name)

				arg_37_1.leftNameTxt_.text = var_40_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_37_1.leftNameTxt_.transform)

				arg_37_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_37_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_37_1:RecordName(arg_37_1.leftNameTxt_.text)
				SetActive(arg_37_1.iconTrs_.gameObject, true)
				arg_37_1.iconController_:SetSelectedState("hero")

				arg_37_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_37_1.callingController_:SetSelectedState("normal")

				local var_40_9 = arg_37_1:GetWordFromCfg(411121009)
				local var_40_10 = arg_37_1:FormatText(var_40_9.content)

				arg_37_1.text_.text = var_40_10

				LuaForUtil.ClearLinePrefixSymbol(arg_37_1.text_)

				local var_40_11 = 24
				local var_40_12 = utf8.len(var_40_10)
				local var_40_13 = var_40_11 <= 0 and var_40_7 or var_40_7 * (var_40_12 / var_40_11)

				if var_40_13 > 0 and var_40_7 < var_40_13 then
					arg_37_1.talkMaxDuration = var_40_13

					if var_40_13 + var_40_6 > arg_37_1.duration_ then
						arg_37_1.duration_ = var_40_13 + var_40_6
					end
				end

				arg_37_1.text_.text = var_40_10
				arg_37_1.typewritter.percent = 0

				arg_37_1.typewritter:SetDirty()
				arg_37_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121009", "story_v_out_411121.awb") ~= 0 then
					local var_40_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121009", "story_v_out_411121.awb") / 1000

					if var_40_14 + var_40_6 > arg_37_1.duration_ then
						arg_37_1.duration_ = var_40_14 + var_40_6
					end

					if var_40_9.prefab_name ~= "" and arg_37_1.actors_[var_40_9.prefab_name] ~= nil then
						local var_40_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_37_1.actors_[var_40_9.prefab_name].transform, "story_v_out_411121", "411121009", "story_v_out_411121.awb")

						arg_37_1:RecordAudio("411121009", var_40_15)
						arg_37_1:RecordAudio("411121009", var_40_15)
					else
						arg_37_1:AudioAction("play", "voice", "story_v_out_411121", "411121009", "story_v_out_411121.awb")
					end

					arg_37_1:RecordHistoryTalkVoice("story_v_out_411121", "411121009", "story_v_out_411121.awb")
				end

				arg_37_1:RecordContent(arg_37_1.text_.text)
			end

			local var_40_16 = math.max(var_40_7, arg_37_1.talkMaxDuration)

			if var_40_6 <= arg_37_1.time_ and arg_37_1.time_ < var_40_6 + var_40_16 then
				arg_37_1.typewritter.percent = (arg_37_1.time_ - var_40_6) / var_40_16

				arg_37_1.typewritter:SetDirty()
			end

			if arg_37_1.time_ >= var_40_6 + var_40_16 and arg_37_1.time_ < var_40_6 + var_40_16 + arg_40_0 then
				arg_37_1.typewritter.percent = 1

				arg_37_1.typewritter:SetDirty()
				arg_37_1:ShowNextGo(true)
			end
		end
	end,
	Play411121010 = function(arg_41_0, arg_41_1)
		arg_41_1.time_ = 0
		arg_41_1.frameCnt_ = 0
		arg_41_1.state_ = "playing"
		arg_41_1.curTalkId_ = 411121010
		arg_41_1.duration_ = 1.866

		local var_41_0 = {
			zh = 1.866,
			ja = 1.6
		}
		local var_41_1 = manager.audio:GetLocalizationFlag()

		if var_41_0[var_41_1] ~= nil then
			arg_41_1.duration_ = var_41_0[var_41_1]
		end

		SetActive(arg_41_1.tipsGo_, false)

		function arg_41_1.onSingleLineFinish_()
			arg_41_1.onSingleLineUpdate_ = nil
			arg_41_1.onSingleLineFinish_ = nil
			arg_41_1.state_ = "waiting"
		end

		function arg_41_1.playNext_(arg_43_0)
			if arg_43_0 == 1 then
				arg_41_0:Play411121011(arg_41_1)
			end
		end

		function arg_41_1.onSingleLineUpdate_(arg_44_0)
			local var_44_0 = arg_41_1.actors_["10014ui_story"]
			local var_44_1 = 0

			if var_44_1 < arg_41_1.time_ and arg_41_1.time_ <= var_44_1 + arg_44_0 and arg_41_1.var_.characterEffect10014ui_story == nil then
				arg_41_1.var_.characterEffect10014ui_story = var_44_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_44_2 = 0.200000002980232

			if var_44_1 <= arg_41_1.time_ and arg_41_1.time_ < var_44_1 + var_44_2 then
				local var_44_3 = (arg_41_1.time_ - var_44_1) / var_44_2

				if arg_41_1.var_.characterEffect10014ui_story then
					arg_41_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_41_1.time_ >= var_44_1 + var_44_2 and arg_41_1.time_ < var_44_1 + var_44_2 + arg_44_0 and arg_41_1.var_.characterEffect10014ui_story then
				arg_41_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_44_4 = 0
			local var_44_5 = 0.225

			if var_44_4 < arg_41_1.time_ and arg_41_1.time_ <= var_44_4 + arg_44_0 then
				arg_41_1.talkMaxDuration = 0
				arg_41_1.dialogCg_.alpha = 1

				arg_41_1.dialog_:SetActive(true)
				SetActive(arg_41_1.leftNameGo_, true)

				local var_44_6 = arg_41_1:FormatText(StoryNameCfg[264].name)

				arg_41_1.leftNameTxt_.text = var_44_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_41_1.leftNameTxt_.transform)

				arg_41_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_41_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_41_1:RecordName(arg_41_1.leftNameTxt_.text)
				SetActive(arg_41_1.iconTrs_.gameObject, false)
				arg_41_1.callingController_:SetSelectedState("normal")

				local var_44_7 = arg_41_1:GetWordFromCfg(411121010)
				local var_44_8 = arg_41_1:FormatText(var_44_7.content)

				arg_41_1.text_.text = var_44_8

				LuaForUtil.ClearLinePrefixSymbol(arg_41_1.text_)

				local var_44_9 = 9
				local var_44_10 = utf8.len(var_44_8)
				local var_44_11 = var_44_9 <= 0 and var_44_5 or var_44_5 * (var_44_10 / var_44_9)

				if var_44_11 > 0 and var_44_5 < var_44_11 then
					arg_41_1.talkMaxDuration = var_44_11

					if var_44_11 + var_44_4 > arg_41_1.duration_ then
						arg_41_1.duration_ = var_44_11 + var_44_4
					end
				end

				arg_41_1.text_.text = var_44_8
				arg_41_1.typewritter.percent = 0

				arg_41_1.typewritter:SetDirty()
				arg_41_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121010", "story_v_out_411121.awb") ~= 0 then
					local var_44_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121010", "story_v_out_411121.awb") / 1000

					if var_44_12 + var_44_4 > arg_41_1.duration_ then
						arg_41_1.duration_ = var_44_12 + var_44_4
					end

					if var_44_7.prefab_name ~= "" and arg_41_1.actors_[var_44_7.prefab_name] ~= nil then
						local var_44_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_41_1.actors_[var_44_7.prefab_name].transform, "story_v_out_411121", "411121010", "story_v_out_411121.awb")

						arg_41_1:RecordAudio("411121010", var_44_13)
						arg_41_1:RecordAudio("411121010", var_44_13)
					else
						arg_41_1:AudioAction("play", "voice", "story_v_out_411121", "411121010", "story_v_out_411121.awb")
					end

					arg_41_1:RecordHistoryTalkVoice("story_v_out_411121", "411121010", "story_v_out_411121.awb")
				end

				arg_41_1:RecordContent(arg_41_1.text_.text)
			end

			local var_44_14 = math.max(var_44_5, arg_41_1.talkMaxDuration)

			if var_44_4 <= arg_41_1.time_ and arg_41_1.time_ < var_44_4 + var_44_14 then
				arg_41_1.typewritter.percent = (arg_41_1.time_ - var_44_4) / var_44_14

				arg_41_1.typewritter:SetDirty()
			end

			if arg_41_1.time_ >= var_44_4 + var_44_14 and arg_41_1.time_ < var_44_4 + var_44_14 + arg_44_0 then
				arg_41_1.typewritter.percent = 1

				arg_41_1.typewritter:SetDirty()
				arg_41_1:ShowNextGo(true)
			end
		end
	end,
	Play411121011 = function(arg_45_0, arg_45_1)
		arg_45_1.time_ = 0
		arg_45_1.frameCnt_ = 0
		arg_45_1.state_ = "playing"
		arg_45_1.curTalkId_ = 411121011
		arg_45_1.duration_ = 7.633

		local var_45_0 = {
			zh = 7.633,
			ja = 7.433
		}
		local var_45_1 = manager.audio:GetLocalizationFlag()

		if var_45_0[var_45_1] ~= nil then
			arg_45_1.duration_ = var_45_0[var_45_1]
		end

		SetActive(arg_45_1.tipsGo_, false)

		function arg_45_1.onSingleLineFinish_()
			arg_45_1.onSingleLineUpdate_ = nil
			arg_45_1.onSingleLineFinish_ = nil
			arg_45_1.state_ = "waiting"
		end

		function arg_45_1.playNext_(arg_47_0)
			if arg_47_0 == 1 then
				arg_45_0:Play411121012(arg_45_1)
			end
		end

		function arg_45_1.onSingleLineUpdate_(arg_48_0)
			local var_48_0 = arg_45_1.actors_["10014ui_story"]
			local var_48_1 = 0

			if var_48_1 < arg_45_1.time_ and arg_45_1.time_ <= var_48_1 + arg_48_0 and arg_45_1.var_.characterEffect10014ui_story == nil then
				arg_45_1.var_.characterEffect10014ui_story = var_48_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_48_2 = 0.200000002980232

			if var_48_1 <= arg_45_1.time_ and arg_45_1.time_ < var_48_1 + var_48_2 then
				local var_48_3 = (arg_45_1.time_ - var_48_1) / var_48_2

				if arg_45_1.var_.characterEffect10014ui_story then
					local var_48_4 = Mathf.Lerp(0, 0.5, var_48_3)

					arg_45_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_45_1.var_.characterEffect10014ui_story.fillRatio = var_48_4
				end
			end

			if arg_45_1.time_ >= var_48_1 + var_48_2 and arg_45_1.time_ < var_48_1 + var_48_2 + arg_48_0 and arg_45_1.var_.characterEffect10014ui_story then
				local var_48_5 = 0.5

				arg_45_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_45_1.var_.characterEffect10014ui_story.fillRatio = var_48_5
			end

			local var_48_6 = 0
			local var_48_7 = 0.95

			if var_48_6 < arg_45_1.time_ and arg_45_1.time_ <= var_48_6 + arg_48_0 then
				arg_45_1.talkMaxDuration = 0
				arg_45_1.dialogCg_.alpha = 1

				arg_45_1.dialog_:SetActive(true)
				SetActive(arg_45_1.leftNameGo_, true)

				local var_48_8 = arg_45_1:FormatText(StoryNameCfg[689].name)

				arg_45_1.leftNameTxt_.text = var_48_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_45_1.leftNameTxt_.transform)

				arg_45_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_45_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_45_1:RecordName(arg_45_1.leftNameTxt_.text)
				SetActive(arg_45_1.iconTrs_.gameObject, true)
				arg_45_1.iconController_:SetSelectedState("hero")

				arg_45_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_45_1.callingController_:SetSelectedState("normal")

				local var_48_9 = arg_45_1:GetWordFromCfg(411121011)
				local var_48_10 = arg_45_1:FormatText(var_48_9.content)

				arg_45_1.text_.text = var_48_10

				LuaForUtil.ClearLinePrefixSymbol(arg_45_1.text_)

				local var_48_11 = 38
				local var_48_12 = utf8.len(var_48_10)
				local var_48_13 = var_48_11 <= 0 and var_48_7 or var_48_7 * (var_48_12 / var_48_11)

				if var_48_13 > 0 and var_48_7 < var_48_13 then
					arg_45_1.talkMaxDuration = var_48_13

					if var_48_13 + var_48_6 > arg_45_1.duration_ then
						arg_45_1.duration_ = var_48_13 + var_48_6
					end
				end

				arg_45_1.text_.text = var_48_10
				arg_45_1.typewritter.percent = 0

				arg_45_1.typewritter:SetDirty()
				arg_45_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121011", "story_v_out_411121.awb") ~= 0 then
					local var_48_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121011", "story_v_out_411121.awb") / 1000

					if var_48_14 + var_48_6 > arg_45_1.duration_ then
						arg_45_1.duration_ = var_48_14 + var_48_6
					end

					if var_48_9.prefab_name ~= "" and arg_45_1.actors_[var_48_9.prefab_name] ~= nil then
						local var_48_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_45_1.actors_[var_48_9.prefab_name].transform, "story_v_out_411121", "411121011", "story_v_out_411121.awb")

						arg_45_1:RecordAudio("411121011", var_48_15)
						arg_45_1:RecordAudio("411121011", var_48_15)
					else
						arg_45_1:AudioAction("play", "voice", "story_v_out_411121", "411121011", "story_v_out_411121.awb")
					end

					arg_45_1:RecordHistoryTalkVoice("story_v_out_411121", "411121011", "story_v_out_411121.awb")
				end

				arg_45_1:RecordContent(arg_45_1.text_.text)
			end

			local var_48_16 = math.max(var_48_7, arg_45_1.talkMaxDuration)

			if var_48_6 <= arg_45_1.time_ and arg_45_1.time_ < var_48_6 + var_48_16 then
				arg_45_1.typewritter.percent = (arg_45_1.time_ - var_48_6) / var_48_16

				arg_45_1.typewritter:SetDirty()
			end

			if arg_45_1.time_ >= var_48_6 + var_48_16 and arg_45_1.time_ < var_48_6 + var_48_16 + arg_48_0 then
				arg_45_1.typewritter.percent = 1

				arg_45_1.typewritter:SetDirty()
				arg_45_1:ShowNextGo(true)
			end
		end
	end,
	Play411121012 = function(arg_49_0, arg_49_1)
		arg_49_1.time_ = 0
		arg_49_1.frameCnt_ = 0
		arg_49_1.state_ = "playing"
		arg_49_1.curTalkId_ = 411121012
		arg_49_1.duration_ = 7.6

		local var_49_0 = {
			zh = 4.533,
			ja = 7.6
		}
		local var_49_1 = manager.audio:GetLocalizationFlag()

		if var_49_0[var_49_1] ~= nil then
			arg_49_1.duration_ = var_49_0[var_49_1]
		end

		SetActive(arg_49_1.tipsGo_, false)

		function arg_49_1.onSingleLineFinish_()
			arg_49_1.onSingleLineUpdate_ = nil
			arg_49_1.onSingleLineFinish_ = nil
			arg_49_1.state_ = "waiting"
		end

		function arg_49_1.playNext_(arg_51_0)
			if arg_51_0 == 1 then
				arg_49_0:Play411121013(arg_49_1)
			end
		end

		function arg_49_1.onSingleLineUpdate_(arg_52_0)
			local var_52_0 = arg_49_1.actors_["10014ui_story"].transform
			local var_52_1 = 0

			if var_52_1 < arg_49_1.time_ and arg_49_1.time_ <= var_52_1 + arg_52_0 then
				arg_49_1.var_.moveOldPos10014ui_story = var_52_0.localPosition
			end

			local var_52_2 = 0.001

			if var_52_1 <= arg_49_1.time_ and arg_49_1.time_ < var_52_1 + var_52_2 then
				local var_52_3 = (arg_49_1.time_ - var_52_1) / var_52_2
				local var_52_4 = Vector3.New(0, -1.06, -6.2)

				var_52_0.localPosition = Vector3.Lerp(arg_49_1.var_.moveOldPos10014ui_story, var_52_4, var_52_3)

				local var_52_5 = manager.ui.mainCamera.transform.position - var_52_0.position

				var_52_0.forward = Vector3.New(var_52_5.x, var_52_5.y, var_52_5.z)

				local var_52_6 = var_52_0.localEulerAngles

				var_52_6.z = 0
				var_52_6.x = 0
				var_52_0.localEulerAngles = var_52_6
			end

			if arg_49_1.time_ >= var_52_1 + var_52_2 and arg_49_1.time_ < var_52_1 + var_52_2 + arg_52_0 then
				var_52_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_52_7 = manager.ui.mainCamera.transform.position - var_52_0.position

				var_52_0.forward = Vector3.New(var_52_7.x, var_52_7.y, var_52_7.z)

				local var_52_8 = var_52_0.localEulerAngles

				var_52_8.z = 0
				var_52_8.x = 0
				var_52_0.localEulerAngles = var_52_8
			end

			local var_52_9 = arg_49_1.actors_["10014ui_story"]
			local var_52_10 = 0

			if var_52_10 < arg_49_1.time_ and arg_49_1.time_ <= var_52_10 + arg_52_0 and arg_49_1.var_.characterEffect10014ui_story == nil then
				arg_49_1.var_.characterEffect10014ui_story = var_52_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_52_11 = 0.200000002980232

			if var_52_10 <= arg_49_1.time_ and arg_49_1.time_ < var_52_10 + var_52_11 then
				local var_52_12 = (arg_49_1.time_ - var_52_10) / var_52_11

				if arg_49_1.var_.characterEffect10014ui_story then
					arg_49_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_49_1.time_ >= var_52_10 + var_52_11 and arg_49_1.time_ < var_52_10 + var_52_11 + arg_52_0 and arg_49_1.var_.characterEffect10014ui_story then
				arg_49_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_52_13 = 0

			if var_52_13 < arg_49_1.time_ and arg_49_1.time_ <= var_52_13 + arg_52_0 then
				arg_49_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_2")
			end

			local var_52_14 = 0

			if var_52_14 < arg_49_1.time_ and arg_49_1.time_ <= var_52_14 + arg_52_0 then
				arg_49_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_52_15 = 0
			local var_52_16 = 0.525

			if var_52_15 < arg_49_1.time_ and arg_49_1.time_ <= var_52_15 + arg_52_0 then
				arg_49_1.talkMaxDuration = 0
				arg_49_1.dialogCg_.alpha = 1

				arg_49_1.dialog_:SetActive(true)
				SetActive(arg_49_1.leftNameGo_, true)

				local var_52_17 = arg_49_1:FormatText(StoryNameCfg[264].name)

				arg_49_1.leftNameTxt_.text = var_52_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_49_1.leftNameTxt_.transform)

				arg_49_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_49_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_49_1:RecordName(arg_49_1.leftNameTxt_.text)
				SetActive(arg_49_1.iconTrs_.gameObject, false)
				arg_49_1.callingController_:SetSelectedState("normal")

				local var_52_18 = arg_49_1:GetWordFromCfg(411121012)
				local var_52_19 = arg_49_1:FormatText(var_52_18.content)

				arg_49_1.text_.text = var_52_19

				LuaForUtil.ClearLinePrefixSymbol(arg_49_1.text_)

				local var_52_20 = 21
				local var_52_21 = utf8.len(var_52_19)
				local var_52_22 = var_52_20 <= 0 and var_52_16 or var_52_16 * (var_52_21 / var_52_20)

				if var_52_22 > 0 and var_52_16 < var_52_22 then
					arg_49_1.talkMaxDuration = var_52_22

					if var_52_22 + var_52_15 > arg_49_1.duration_ then
						arg_49_1.duration_ = var_52_22 + var_52_15
					end
				end

				arg_49_1.text_.text = var_52_19
				arg_49_1.typewritter.percent = 0

				arg_49_1.typewritter:SetDirty()
				arg_49_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121012", "story_v_out_411121.awb") ~= 0 then
					local var_52_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121012", "story_v_out_411121.awb") / 1000

					if var_52_23 + var_52_15 > arg_49_1.duration_ then
						arg_49_1.duration_ = var_52_23 + var_52_15
					end

					if var_52_18.prefab_name ~= "" and arg_49_1.actors_[var_52_18.prefab_name] ~= nil then
						local var_52_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_49_1.actors_[var_52_18.prefab_name].transform, "story_v_out_411121", "411121012", "story_v_out_411121.awb")

						arg_49_1:RecordAudio("411121012", var_52_24)
						arg_49_1:RecordAudio("411121012", var_52_24)
					else
						arg_49_1:AudioAction("play", "voice", "story_v_out_411121", "411121012", "story_v_out_411121.awb")
					end

					arg_49_1:RecordHistoryTalkVoice("story_v_out_411121", "411121012", "story_v_out_411121.awb")
				end

				arg_49_1:RecordContent(arg_49_1.text_.text)
			end

			local var_52_25 = math.max(var_52_16, arg_49_1.talkMaxDuration)

			if var_52_15 <= arg_49_1.time_ and arg_49_1.time_ < var_52_15 + var_52_25 then
				arg_49_1.typewritter.percent = (arg_49_1.time_ - var_52_15) / var_52_25

				arg_49_1.typewritter:SetDirty()
			end

			if arg_49_1.time_ >= var_52_15 + var_52_25 and arg_49_1.time_ < var_52_15 + var_52_25 + arg_52_0 then
				arg_49_1.typewritter.percent = 1

				arg_49_1.typewritter:SetDirty()
				arg_49_1:ShowNextGo(true)
			end
		end
	end,
	Play411121013 = function(arg_53_0, arg_53_1)
		arg_53_1.time_ = 0
		arg_53_1.frameCnt_ = 0
		arg_53_1.state_ = "playing"
		arg_53_1.curTalkId_ = 411121013
		arg_53_1.duration_ = 1.466

		local var_53_0 = {
			zh = 1.033,
			ja = 1.466
		}
		local var_53_1 = manager.audio:GetLocalizationFlag()

		if var_53_0[var_53_1] ~= nil then
			arg_53_1.duration_ = var_53_0[var_53_1]
		end

		SetActive(arg_53_1.tipsGo_, false)

		function arg_53_1.onSingleLineFinish_()
			arg_53_1.onSingleLineUpdate_ = nil
			arg_53_1.onSingleLineFinish_ = nil
			arg_53_1.state_ = "waiting"
		end

		function arg_53_1.playNext_(arg_55_0)
			if arg_55_0 == 1 then
				arg_53_0:Play411121014(arg_53_1)
			end
		end

		function arg_53_1.onSingleLineUpdate_(arg_56_0)
			local var_56_0 = arg_53_1.actors_["10014ui_story"]
			local var_56_1 = 0

			if var_56_1 < arg_53_1.time_ and arg_53_1.time_ <= var_56_1 + arg_56_0 and arg_53_1.var_.characterEffect10014ui_story == nil then
				arg_53_1.var_.characterEffect10014ui_story = var_56_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_56_2 = 0.200000002980232

			if var_56_1 <= arg_53_1.time_ and arg_53_1.time_ < var_56_1 + var_56_2 then
				local var_56_3 = (arg_53_1.time_ - var_56_1) / var_56_2

				if arg_53_1.var_.characterEffect10014ui_story then
					local var_56_4 = Mathf.Lerp(0, 0.5, var_56_3)

					arg_53_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_53_1.var_.characterEffect10014ui_story.fillRatio = var_56_4
				end
			end

			if arg_53_1.time_ >= var_56_1 + var_56_2 and arg_53_1.time_ < var_56_1 + var_56_2 + arg_56_0 and arg_53_1.var_.characterEffect10014ui_story then
				local var_56_5 = 0.5

				arg_53_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_53_1.var_.characterEffect10014ui_story.fillRatio = var_56_5
			end

			local var_56_6 = 0
			local var_56_7 = 0.075

			if var_56_6 < arg_53_1.time_ and arg_53_1.time_ <= var_56_6 + arg_56_0 then
				arg_53_1.talkMaxDuration = 0
				arg_53_1.dialogCg_.alpha = 1

				arg_53_1.dialog_:SetActive(true)
				SetActive(arg_53_1.leftNameGo_, true)

				local var_56_8 = arg_53_1:FormatText(StoryNameCfg[689].name)

				arg_53_1.leftNameTxt_.text = var_56_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_53_1.leftNameTxt_.transform)

				arg_53_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_53_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_53_1:RecordName(arg_53_1.leftNameTxt_.text)
				SetActive(arg_53_1.iconTrs_.gameObject, true)
				arg_53_1.iconController_:SetSelectedState("hero")

				arg_53_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_53_1.callingController_:SetSelectedState("normal")

				local var_56_9 = arg_53_1:GetWordFromCfg(411121013)
				local var_56_10 = arg_53_1:FormatText(var_56_9.content)

				arg_53_1.text_.text = var_56_10

				LuaForUtil.ClearLinePrefixSymbol(arg_53_1.text_)

				local var_56_11 = 3
				local var_56_12 = utf8.len(var_56_10)
				local var_56_13 = var_56_11 <= 0 and var_56_7 or var_56_7 * (var_56_12 / var_56_11)

				if var_56_13 > 0 and var_56_7 < var_56_13 then
					arg_53_1.talkMaxDuration = var_56_13

					if var_56_13 + var_56_6 > arg_53_1.duration_ then
						arg_53_1.duration_ = var_56_13 + var_56_6
					end
				end

				arg_53_1.text_.text = var_56_10
				arg_53_1.typewritter.percent = 0

				arg_53_1.typewritter:SetDirty()
				arg_53_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121013", "story_v_out_411121.awb") ~= 0 then
					local var_56_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121013", "story_v_out_411121.awb") / 1000

					if var_56_14 + var_56_6 > arg_53_1.duration_ then
						arg_53_1.duration_ = var_56_14 + var_56_6
					end

					if var_56_9.prefab_name ~= "" and arg_53_1.actors_[var_56_9.prefab_name] ~= nil then
						local var_56_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_53_1.actors_[var_56_9.prefab_name].transform, "story_v_out_411121", "411121013", "story_v_out_411121.awb")

						arg_53_1:RecordAudio("411121013", var_56_15)
						arg_53_1:RecordAudio("411121013", var_56_15)
					else
						arg_53_1:AudioAction("play", "voice", "story_v_out_411121", "411121013", "story_v_out_411121.awb")
					end

					arg_53_1:RecordHistoryTalkVoice("story_v_out_411121", "411121013", "story_v_out_411121.awb")
				end

				arg_53_1:RecordContent(arg_53_1.text_.text)
			end

			local var_56_16 = math.max(var_56_7, arg_53_1.talkMaxDuration)

			if var_56_6 <= arg_53_1.time_ and arg_53_1.time_ < var_56_6 + var_56_16 then
				arg_53_1.typewritter.percent = (arg_53_1.time_ - var_56_6) / var_56_16

				arg_53_1.typewritter:SetDirty()
			end

			if arg_53_1.time_ >= var_56_6 + var_56_16 and arg_53_1.time_ < var_56_6 + var_56_16 + arg_56_0 then
				arg_53_1.typewritter.percent = 1

				arg_53_1.typewritter:SetDirty()
				arg_53_1:ShowNextGo(true)
			end
		end
	end,
	Play411121014 = function(arg_57_0, arg_57_1)
		arg_57_1.time_ = 0
		arg_57_1.frameCnt_ = 0
		arg_57_1.state_ = "playing"
		arg_57_1.curTalkId_ = 411121014
		arg_57_1.duration_ = 5.133

		local var_57_0 = {
			zh = 5.133,
			ja = 4.6
		}
		local var_57_1 = manager.audio:GetLocalizationFlag()

		if var_57_0[var_57_1] ~= nil then
			arg_57_1.duration_ = var_57_0[var_57_1]
		end

		SetActive(arg_57_1.tipsGo_, false)

		function arg_57_1.onSingleLineFinish_()
			arg_57_1.onSingleLineUpdate_ = nil
			arg_57_1.onSingleLineFinish_ = nil
			arg_57_1.state_ = "waiting"
		end

		function arg_57_1.playNext_(arg_59_0)
			if arg_59_0 == 1 then
				arg_57_0:Play411121015(arg_57_1)
			end
		end

		function arg_57_1.onSingleLineUpdate_(arg_60_0)
			local var_60_0 = manager.ui.mainCamera.transform
			local var_60_1 = 0

			if var_60_1 < arg_57_1.time_ and arg_57_1.time_ <= var_60_1 + arg_60_0 then
				arg_57_1.var_.shakeOldPos = var_60_0.localPosition
			end

			local var_60_2 = 0.3

			if var_60_1 <= arg_57_1.time_ and arg_57_1.time_ < var_60_1 + var_60_2 then
				local var_60_3 = (arg_57_1.time_ - var_60_1) / 0.066
				local var_60_4, var_60_5 = math.modf(var_60_3)

				var_60_0.localPosition = Vector3.New(var_60_5 * 0.13, var_60_5 * 0.13, var_60_5 * 0.13) + arg_57_1.var_.shakeOldPos
			end

			if arg_57_1.time_ >= var_60_1 + var_60_2 and arg_57_1.time_ < var_60_1 + var_60_2 + arg_60_0 then
				var_60_0.localPosition = arg_57_1.var_.shakeOldPos
			end

			local var_60_6 = arg_57_1.actors_["10014ui_story"].transform
			local var_60_7 = 0

			if var_60_7 < arg_57_1.time_ and arg_57_1.time_ <= var_60_7 + arg_60_0 then
				arg_57_1.var_.moveOldPos10014ui_story = var_60_6.localPosition
			end

			local var_60_8 = 0.001

			if var_60_7 <= arg_57_1.time_ and arg_57_1.time_ < var_60_7 + var_60_8 then
				local var_60_9 = (arg_57_1.time_ - var_60_7) / var_60_8
				local var_60_10 = Vector3.New(0, 100, 0)

				var_60_6.localPosition = Vector3.Lerp(arg_57_1.var_.moveOldPos10014ui_story, var_60_10, var_60_9)

				local var_60_11 = manager.ui.mainCamera.transform.position - var_60_6.position

				var_60_6.forward = Vector3.New(var_60_11.x, var_60_11.y, var_60_11.z)

				local var_60_12 = var_60_6.localEulerAngles

				var_60_12.z = 0
				var_60_12.x = 0
				var_60_6.localEulerAngles = var_60_12
			end

			if arg_57_1.time_ >= var_60_7 + var_60_8 and arg_57_1.time_ < var_60_7 + var_60_8 + arg_60_0 then
				var_60_6.localPosition = Vector3.New(0, 100, 0)

				local var_60_13 = manager.ui.mainCamera.transform.position - var_60_6.position

				var_60_6.forward = Vector3.New(var_60_13.x, var_60_13.y, var_60_13.z)

				local var_60_14 = var_60_6.localEulerAngles

				var_60_14.z = 0
				var_60_14.x = 0
				var_60_6.localEulerAngles = var_60_14
			end

			local var_60_15 = 0
			local var_60_16 = 0.775

			if var_60_15 < arg_57_1.time_ and arg_57_1.time_ <= var_60_15 + arg_60_0 then
				arg_57_1.talkMaxDuration = 0
				arg_57_1.dialogCg_.alpha = 1

				arg_57_1.dialog_:SetActive(true)
				SetActive(arg_57_1.leftNameGo_, true)

				local var_60_17 = arg_57_1:FormatText(StoryNameCfg[688].name)

				arg_57_1.leftNameTxt_.text = var_60_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_57_1.leftNameTxt_.transform)

				arg_57_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_57_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_57_1:RecordName(arg_57_1.leftNameTxt_.text)
				SetActive(arg_57_1.iconTrs_.gameObject, true)
				arg_57_1.iconController_:SetSelectedState("hero")

				arg_57_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_57_1.callingController_:SetSelectedState("normal")

				local var_60_18 = arg_57_1:GetWordFromCfg(411121014)
				local var_60_19 = arg_57_1:FormatText(var_60_18.content)

				arg_57_1.text_.text = var_60_19

				LuaForUtil.ClearLinePrefixSymbol(arg_57_1.text_)

				local var_60_20 = 31
				local var_60_21 = utf8.len(var_60_19)
				local var_60_22 = var_60_20 <= 0 and var_60_16 or var_60_16 * (var_60_21 / var_60_20)

				if var_60_22 > 0 and var_60_16 < var_60_22 then
					arg_57_1.talkMaxDuration = var_60_22

					if var_60_22 + var_60_15 > arg_57_1.duration_ then
						arg_57_1.duration_ = var_60_22 + var_60_15
					end
				end

				arg_57_1.text_.text = var_60_19
				arg_57_1.typewritter.percent = 0

				arg_57_1.typewritter:SetDirty()
				arg_57_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121014", "story_v_out_411121.awb") ~= 0 then
					local var_60_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121014", "story_v_out_411121.awb") / 1000

					if var_60_23 + var_60_15 > arg_57_1.duration_ then
						arg_57_1.duration_ = var_60_23 + var_60_15
					end

					if var_60_18.prefab_name ~= "" and arg_57_1.actors_[var_60_18.prefab_name] ~= nil then
						local var_60_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_57_1.actors_[var_60_18.prefab_name].transform, "story_v_out_411121", "411121014", "story_v_out_411121.awb")

						arg_57_1:RecordAudio("411121014", var_60_24)
						arg_57_1:RecordAudio("411121014", var_60_24)
					else
						arg_57_1:AudioAction("play", "voice", "story_v_out_411121", "411121014", "story_v_out_411121.awb")
					end

					arg_57_1:RecordHistoryTalkVoice("story_v_out_411121", "411121014", "story_v_out_411121.awb")
				end

				arg_57_1:RecordContent(arg_57_1.text_.text)
			end

			local var_60_25 = math.max(var_60_16, arg_57_1.talkMaxDuration)

			if var_60_15 <= arg_57_1.time_ and arg_57_1.time_ < var_60_15 + var_60_25 then
				arg_57_1.typewritter.percent = (arg_57_1.time_ - var_60_15) / var_60_25

				arg_57_1.typewritter:SetDirty()
			end

			if arg_57_1.time_ >= var_60_15 + var_60_25 and arg_57_1.time_ < var_60_15 + var_60_25 + arg_60_0 then
				arg_57_1.typewritter.percent = 1

				arg_57_1.typewritter:SetDirty()
				arg_57_1:ShowNextGo(true)
			end
		end
	end,
	Play411121015 = function(arg_61_0, arg_61_1)
		arg_61_1.time_ = 0
		arg_61_1.frameCnt_ = 0
		arg_61_1.state_ = "playing"
		arg_61_1.curTalkId_ = 411121015
		arg_61_1.duration_ = 5

		SetActive(arg_61_1.tipsGo_, false)

		function arg_61_1.onSingleLineFinish_()
			arg_61_1.onSingleLineUpdate_ = nil
			arg_61_1.onSingleLineFinish_ = nil
			arg_61_1.state_ = "waiting"
		end

		function arg_61_1.playNext_(arg_63_0)
			if arg_63_0 == 1 then
				arg_61_0:Play411121016(arg_61_1)
			end
		end

		function arg_61_1.onSingleLineUpdate_(arg_64_0)
			local var_64_0 = 0
			local var_64_1 = 0.85

			if var_64_0 < arg_61_1.time_ and arg_61_1.time_ <= var_64_0 + arg_64_0 then
				arg_61_1.talkMaxDuration = 0
				arg_61_1.dialogCg_.alpha = 1

				arg_61_1.dialog_:SetActive(true)
				SetActive(arg_61_1.leftNameGo_, false)

				arg_61_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_61_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_61_1:RecordName(arg_61_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_61_1.iconTrs_.gameObject, false)
				arg_61_1.callingController_:SetSelectedState("normal")

				local var_64_2 = arg_61_1:GetWordFromCfg(411121015)
				local var_64_3 = arg_61_1:FormatText(var_64_2.content)

				arg_61_1.text_.text = var_64_3

				LuaForUtil.ClearLinePrefixSymbol(arg_61_1.text_)

				local var_64_4 = 34
				local var_64_5 = utf8.len(var_64_3)
				local var_64_6 = var_64_4 <= 0 and var_64_1 or var_64_1 * (var_64_5 / var_64_4)

				if var_64_6 > 0 and var_64_1 < var_64_6 then
					arg_61_1.talkMaxDuration = var_64_6

					if var_64_6 + var_64_0 > arg_61_1.duration_ then
						arg_61_1.duration_ = var_64_6 + var_64_0
					end
				end

				arg_61_1.text_.text = var_64_3
				arg_61_1.typewritter.percent = 0

				arg_61_1.typewritter:SetDirty()
				arg_61_1:ShowNextGo(false)
				arg_61_1:RecordContent(arg_61_1.text_.text)
			end

			local var_64_7 = math.max(var_64_1, arg_61_1.talkMaxDuration)

			if var_64_0 <= arg_61_1.time_ and arg_61_1.time_ < var_64_0 + var_64_7 then
				arg_61_1.typewritter.percent = (arg_61_1.time_ - var_64_0) / var_64_7

				arg_61_1.typewritter:SetDirty()
			end

			if arg_61_1.time_ >= var_64_0 + var_64_7 and arg_61_1.time_ < var_64_0 + var_64_7 + arg_64_0 then
				arg_61_1.typewritter.percent = 1

				arg_61_1.typewritter:SetDirty()
				arg_61_1:ShowNextGo(true)
			end
		end
	end,
	Play411121016 = function(arg_65_0, arg_65_1)
		arg_65_1.time_ = 0
		arg_65_1.frameCnt_ = 0
		arg_65_1.state_ = "playing"
		arg_65_1.curTalkId_ = 411121016
		arg_65_1.duration_ = 1.999999999999

		SetActive(arg_65_1.tipsGo_, false)

		function arg_65_1.onSingleLineFinish_()
			arg_65_1.onSingleLineUpdate_ = nil
			arg_65_1.onSingleLineFinish_ = nil
			arg_65_1.state_ = "waiting"
		end

		function arg_65_1.playNext_(arg_67_0)
			if arg_67_0 == 1 then
				arg_65_0:Play411121017(arg_65_1)
			end
		end

		function arg_65_1.onSingleLineUpdate_(arg_68_0)
			local var_68_0 = "1095ui_story"

			if arg_65_1.actors_[var_68_0] == nil then
				local var_68_1 = Object.Instantiate(Asset.Load("Char/" .. var_68_0), arg_65_1.stage_.transform)

				var_68_1.name = var_68_0
				var_68_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_65_1.actors_[var_68_0] = var_68_1

				local var_68_2 = var_68_1:GetComponentInChildren(typeof(CharacterEffect))

				var_68_2.enabled = true

				local var_68_3 = GameObjectTools.GetOrAddComponent(var_68_1, typeof(DynamicBoneHelper))

				if var_68_3 then
					var_68_3:EnableDynamicBone(false)
				end

				arg_65_1:ShowWeapon(var_68_2.transform, false)

				arg_65_1.var_[var_68_0 .. "Animator"] = var_68_2.gameObject:GetComponent(typeof(UnityEngine.Animator))
				arg_65_1.var_[var_68_0 .. "Animator"].applyRootMotion = true
				arg_65_1.var_[var_68_0 .. "LipSync"] = var_68_2.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
			end

			local var_68_4 = arg_65_1.actors_["1095ui_story"].transform
			local var_68_5 = 0

			if var_68_5 < arg_65_1.time_ and arg_65_1.time_ <= var_68_5 + arg_68_0 then
				arg_65_1.var_.moveOldPos1095ui_story = var_68_4.localPosition
			end

			local var_68_6 = 0.001

			if var_68_5 <= arg_65_1.time_ and arg_65_1.time_ < var_68_5 + var_68_6 then
				local var_68_7 = (arg_65_1.time_ - var_68_5) / var_68_6
				local var_68_8 = Vector3.New(0.7, -0.98, -6.1)

				var_68_4.localPosition = Vector3.Lerp(arg_65_1.var_.moveOldPos1095ui_story, var_68_8, var_68_7)

				local var_68_9 = manager.ui.mainCamera.transform.position - var_68_4.position

				var_68_4.forward = Vector3.New(var_68_9.x, var_68_9.y, var_68_9.z)

				local var_68_10 = var_68_4.localEulerAngles

				var_68_10.z = 0
				var_68_10.x = 0
				var_68_4.localEulerAngles = var_68_10
			end

			if arg_65_1.time_ >= var_68_5 + var_68_6 and arg_65_1.time_ < var_68_5 + var_68_6 + arg_68_0 then
				var_68_4.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_68_11 = manager.ui.mainCamera.transform.position - var_68_4.position

				var_68_4.forward = Vector3.New(var_68_11.x, var_68_11.y, var_68_11.z)

				local var_68_12 = var_68_4.localEulerAngles

				var_68_12.z = 0
				var_68_12.x = 0
				var_68_4.localEulerAngles = var_68_12
			end

			local var_68_13 = arg_65_1.actors_["1095ui_story"]
			local var_68_14 = 0

			if var_68_14 < arg_65_1.time_ and arg_65_1.time_ <= var_68_14 + arg_68_0 and arg_65_1.var_.characterEffect1095ui_story == nil then
				arg_65_1.var_.characterEffect1095ui_story = var_68_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_68_15 = 0.200000002980232

			if var_68_14 <= arg_65_1.time_ and arg_65_1.time_ < var_68_14 + var_68_15 then
				local var_68_16 = (arg_65_1.time_ - var_68_14) / var_68_15

				if arg_65_1.var_.characterEffect1095ui_story then
					arg_65_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_65_1.time_ >= var_68_14 + var_68_15 and arg_65_1.time_ < var_68_14 + var_68_15 + arg_68_0 and arg_65_1.var_.characterEffect1095ui_story then
				arg_65_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_68_17 = 0

			if var_68_17 < arg_65_1.time_ and arg_65_1.time_ <= var_68_17 + arg_68_0 then
				arg_65_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_68_18 = 0

			if var_68_18 < arg_65_1.time_ and arg_65_1.time_ <= var_68_18 + arg_68_0 then
				arg_65_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2204cva")
			end

			local var_68_19 = arg_65_1.actors_["10014ui_story"].transform
			local var_68_20 = 0

			if var_68_20 < arg_65_1.time_ and arg_65_1.time_ <= var_68_20 + arg_68_0 then
				arg_65_1.var_.moveOldPos10014ui_story = var_68_19.localPosition
			end

			local var_68_21 = 0.001

			if var_68_20 <= arg_65_1.time_ and arg_65_1.time_ < var_68_20 + var_68_21 then
				local var_68_22 = (arg_65_1.time_ - var_68_20) / var_68_21
				local var_68_23 = Vector3.New(-0.7, -1.06, -6.2)

				var_68_19.localPosition = Vector3.Lerp(arg_65_1.var_.moveOldPos10014ui_story, var_68_23, var_68_22)

				local var_68_24 = manager.ui.mainCamera.transform.position - var_68_19.position

				var_68_19.forward = Vector3.New(var_68_24.x, var_68_24.y, var_68_24.z)

				local var_68_25 = var_68_19.localEulerAngles

				var_68_25.z = 0
				var_68_25.x = 0
				var_68_19.localEulerAngles = var_68_25
			end

			if arg_65_1.time_ >= var_68_20 + var_68_21 and arg_65_1.time_ < var_68_20 + var_68_21 + arg_68_0 then
				var_68_19.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_68_26 = manager.ui.mainCamera.transform.position - var_68_19.position

				var_68_19.forward = Vector3.New(var_68_26.x, var_68_26.y, var_68_26.z)

				local var_68_27 = var_68_19.localEulerAngles

				var_68_27.z = 0
				var_68_27.x = 0
				var_68_19.localEulerAngles = var_68_27
			end

			local var_68_28 = arg_65_1.actors_["10014ui_story"]
			local var_68_29 = 0

			if var_68_29 < arg_65_1.time_ and arg_65_1.time_ <= var_68_29 + arg_68_0 and arg_65_1.var_.characterEffect10014ui_story == nil then
				arg_65_1.var_.characterEffect10014ui_story = var_68_28:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_68_30 = 0.200000002980232

			if var_68_29 <= arg_65_1.time_ and arg_65_1.time_ < var_68_29 + var_68_30 then
				local var_68_31 = (arg_65_1.time_ - var_68_29) / var_68_30

				if arg_65_1.var_.characterEffect10014ui_story then
					local var_68_32 = Mathf.Lerp(0, 0.5, var_68_31)

					arg_65_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_65_1.var_.characterEffect10014ui_story.fillRatio = var_68_32
				end
			end

			if arg_65_1.time_ >= var_68_29 + var_68_30 and arg_65_1.time_ < var_68_29 + var_68_30 + arg_68_0 and arg_65_1.var_.characterEffect10014ui_story then
				local var_68_33 = 0.5

				arg_65_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_65_1.var_.characterEffect10014ui_story.fillRatio = var_68_33
			end

			local var_68_34 = 0
			local var_68_35 = 0.125

			if var_68_34 < arg_65_1.time_ and arg_65_1.time_ <= var_68_34 + arg_68_0 then
				arg_65_1.talkMaxDuration = 0
				arg_65_1.dialogCg_.alpha = 1

				arg_65_1.dialog_:SetActive(true)
				SetActive(arg_65_1.leftNameGo_, true)

				local var_68_36 = arg_65_1:FormatText(StoryNameCfg[471].name)

				arg_65_1.leftNameTxt_.text = var_68_36

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_65_1.leftNameTxt_.transform)

				arg_65_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_65_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_65_1:RecordName(arg_65_1.leftNameTxt_.text)
				SetActive(arg_65_1.iconTrs_.gameObject, false)
				arg_65_1.callingController_:SetSelectedState("normal")

				local var_68_37 = arg_65_1:GetWordFromCfg(411121016)
				local var_68_38 = arg_65_1:FormatText(var_68_37.content)

				arg_65_1.text_.text = var_68_38

				LuaForUtil.ClearLinePrefixSymbol(arg_65_1.text_)

				local var_68_39 = 5
				local var_68_40 = utf8.len(var_68_38)
				local var_68_41 = var_68_39 <= 0 and var_68_35 or var_68_35 * (var_68_40 / var_68_39)

				if var_68_41 > 0 and var_68_35 < var_68_41 then
					arg_65_1.talkMaxDuration = var_68_41

					if var_68_41 + var_68_34 > arg_65_1.duration_ then
						arg_65_1.duration_ = var_68_41 + var_68_34
					end
				end

				arg_65_1.text_.text = var_68_38
				arg_65_1.typewritter.percent = 0

				arg_65_1.typewritter:SetDirty()
				arg_65_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121016", "story_v_out_411121.awb") ~= 0 then
					local var_68_42 = manager.audio:GetVoiceLength("story_v_out_411121", "411121016", "story_v_out_411121.awb") / 1000

					if var_68_42 + var_68_34 > arg_65_1.duration_ then
						arg_65_1.duration_ = var_68_42 + var_68_34
					end

					if var_68_37.prefab_name ~= "" and arg_65_1.actors_[var_68_37.prefab_name] ~= nil then
						local var_68_43 = LuaForUtil.PlayVoiceWithCriLipsync(arg_65_1.actors_[var_68_37.prefab_name].transform, "story_v_out_411121", "411121016", "story_v_out_411121.awb")

						arg_65_1:RecordAudio("411121016", var_68_43)
						arg_65_1:RecordAudio("411121016", var_68_43)
					else
						arg_65_1:AudioAction("play", "voice", "story_v_out_411121", "411121016", "story_v_out_411121.awb")
					end

					arg_65_1:RecordHistoryTalkVoice("story_v_out_411121", "411121016", "story_v_out_411121.awb")
				end

				arg_65_1:RecordContent(arg_65_1.text_.text)
			end

			local var_68_44 = math.max(var_68_35, arg_65_1.talkMaxDuration)

			if var_68_34 <= arg_65_1.time_ and arg_65_1.time_ < var_68_34 + var_68_44 then
				arg_65_1.typewritter.percent = (arg_65_1.time_ - var_68_34) / var_68_44

				arg_65_1.typewritter:SetDirty()
			end

			if arg_65_1.time_ >= var_68_34 + var_68_44 and arg_65_1.time_ < var_68_34 + var_68_44 + arg_68_0 then
				arg_65_1.typewritter.percent = 1

				arg_65_1.typewritter:SetDirty()
				arg_65_1:ShowNextGo(true)
			end
		end
	end,
	Play411121017 = function(arg_69_0, arg_69_1)
		arg_69_1.time_ = 0
		arg_69_1.frameCnt_ = 0
		arg_69_1.state_ = "playing"
		arg_69_1.curTalkId_ = 411121017
		arg_69_1.duration_ = 6.133

		local var_69_0 = {
			zh = 4.033,
			ja = 6.133
		}
		local var_69_1 = manager.audio:GetLocalizationFlag()

		if var_69_0[var_69_1] ~= nil then
			arg_69_1.duration_ = var_69_0[var_69_1]
		end

		SetActive(arg_69_1.tipsGo_, false)

		function arg_69_1.onSingleLineFinish_()
			arg_69_1.onSingleLineUpdate_ = nil
			arg_69_1.onSingleLineFinish_ = nil
			arg_69_1.state_ = "waiting"
		end

		function arg_69_1.playNext_(arg_71_0)
			if arg_71_0 == 1 then
				arg_69_0:Play411121018(arg_69_1)
			end
		end

		function arg_69_1.onSingleLineUpdate_(arg_72_0)
			local var_72_0 = arg_69_1.actors_["1095ui_story"]
			local var_72_1 = 0

			if var_72_1 < arg_69_1.time_ and arg_69_1.time_ <= var_72_1 + arg_72_0 and arg_69_1.var_.characterEffect1095ui_story == nil then
				arg_69_1.var_.characterEffect1095ui_story = var_72_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_72_2 = 0.200000002980232

			if var_72_1 <= arg_69_1.time_ and arg_69_1.time_ < var_72_1 + var_72_2 then
				local var_72_3 = (arg_69_1.time_ - var_72_1) / var_72_2

				if arg_69_1.var_.characterEffect1095ui_story then
					local var_72_4 = Mathf.Lerp(0, 0.5, var_72_3)

					arg_69_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_69_1.var_.characterEffect1095ui_story.fillRatio = var_72_4
				end
			end

			if arg_69_1.time_ >= var_72_1 + var_72_2 and arg_69_1.time_ < var_72_1 + var_72_2 + arg_72_0 and arg_69_1.var_.characterEffect1095ui_story then
				local var_72_5 = 0.5

				arg_69_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_69_1.var_.characterEffect1095ui_story.fillRatio = var_72_5
			end

			local var_72_6 = arg_69_1.actors_["10014ui_story"]
			local var_72_7 = 0

			if var_72_7 < arg_69_1.time_ and arg_69_1.time_ <= var_72_7 + arg_72_0 and arg_69_1.var_.characterEffect10014ui_story == nil then
				arg_69_1.var_.characterEffect10014ui_story = var_72_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_72_8 = 0.200000002980232

			if var_72_7 <= arg_69_1.time_ and arg_69_1.time_ < var_72_7 + var_72_8 then
				local var_72_9 = (arg_69_1.time_ - var_72_7) / var_72_8

				if arg_69_1.var_.characterEffect10014ui_story then
					arg_69_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_69_1.time_ >= var_72_7 + var_72_8 and arg_69_1.time_ < var_72_7 + var_72_8 + arg_72_0 and arg_69_1.var_.characterEffect10014ui_story then
				arg_69_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_72_10 = 0
			local var_72_11 = 0.5

			if var_72_10 < arg_69_1.time_ and arg_69_1.time_ <= var_72_10 + arg_72_0 then
				arg_69_1.talkMaxDuration = 0
				arg_69_1.dialogCg_.alpha = 1

				arg_69_1.dialog_:SetActive(true)
				SetActive(arg_69_1.leftNameGo_, true)

				local var_72_12 = arg_69_1:FormatText(StoryNameCfg[264].name)

				arg_69_1.leftNameTxt_.text = var_72_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_69_1.leftNameTxt_.transform)

				arg_69_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_69_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_69_1:RecordName(arg_69_1.leftNameTxt_.text)
				SetActive(arg_69_1.iconTrs_.gameObject, false)
				arg_69_1.callingController_:SetSelectedState("normal")

				local var_72_13 = arg_69_1:GetWordFromCfg(411121017)
				local var_72_14 = arg_69_1:FormatText(var_72_13.content)

				arg_69_1.text_.text = var_72_14

				LuaForUtil.ClearLinePrefixSymbol(arg_69_1.text_)

				local var_72_15 = 20
				local var_72_16 = utf8.len(var_72_14)
				local var_72_17 = var_72_15 <= 0 and var_72_11 or var_72_11 * (var_72_16 / var_72_15)

				if var_72_17 > 0 and var_72_11 < var_72_17 then
					arg_69_1.talkMaxDuration = var_72_17

					if var_72_17 + var_72_10 > arg_69_1.duration_ then
						arg_69_1.duration_ = var_72_17 + var_72_10
					end
				end

				arg_69_1.text_.text = var_72_14
				arg_69_1.typewritter.percent = 0

				arg_69_1.typewritter:SetDirty()
				arg_69_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121017", "story_v_out_411121.awb") ~= 0 then
					local var_72_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121017", "story_v_out_411121.awb") / 1000

					if var_72_18 + var_72_10 > arg_69_1.duration_ then
						arg_69_1.duration_ = var_72_18 + var_72_10
					end

					if var_72_13.prefab_name ~= "" and arg_69_1.actors_[var_72_13.prefab_name] ~= nil then
						local var_72_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_69_1.actors_[var_72_13.prefab_name].transform, "story_v_out_411121", "411121017", "story_v_out_411121.awb")

						arg_69_1:RecordAudio("411121017", var_72_19)
						arg_69_1:RecordAudio("411121017", var_72_19)
					else
						arg_69_1:AudioAction("play", "voice", "story_v_out_411121", "411121017", "story_v_out_411121.awb")
					end

					arg_69_1:RecordHistoryTalkVoice("story_v_out_411121", "411121017", "story_v_out_411121.awb")
				end

				arg_69_1:RecordContent(arg_69_1.text_.text)
			end

			local var_72_20 = math.max(var_72_11, arg_69_1.talkMaxDuration)

			if var_72_10 <= arg_69_1.time_ and arg_69_1.time_ < var_72_10 + var_72_20 then
				arg_69_1.typewritter.percent = (arg_69_1.time_ - var_72_10) / var_72_20

				arg_69_1.typewritter:SetDirty()
			end

			if arg_69_1.time_ >= var_72_10 + var_72_20 and arg_69_1.time_ < var_72_10 + var_72_20 + arg_72_0 then
				arg_69_1.typewritter.percent = 1

				arg_69_1.typewritter:SetDirty()
				arg_69_1:ShowNextGo(true)
			end
		end
	end,
	Play411121018 = function(arg_73_0, arg_73_1)
		arg_73_1.time_ = 0
		arg_73_1.frameCnt_ = 0
		arg_73_1.state_ = "playing"
		arg_73_1.curTalkId_ = 411121018
		arg_73_1.duration_ = 4.8

		local var_73_0 = {
			zh = 4.3,
			ja = 4.8
		}
		local var_73_1 = manager.audio:GetLocalizationFlag()

		if var_73_0[var_73_1] ~= nil then
			arg_73_1.duration_ = var_73_0[var_73_1]
		end

		SetActive(arg_73_1.tipsGo_, false)

		function arg_73_1.onSingleLineFinish_()
			arg_73_1.onSingleLineUpdate_ = nil
			arg_73_1.onSingleLineFinish_ = nil
			arg_73_1.state_ = "waiting"
		end

		function arg_73_1.playNext_(arg_75_0)
			if arg_75_0 == 1 then
				arg_73_0:Play411121019(arg_73_1)
			end
		end

		function arg_73_1.onSingleLineUpdate_(arg_76_0)
			local var_76_0 = arg_73_1.actors_["1095ui_story"]
			local var_76_1 = 0

			if var_76_1 < arg_73_1.time_ and arg_73_1.time_ <= var_76_1 + arg_76_0 and arg_73_1.var_.characterEffect1095ui_story == nil then
				arg_73_1.var_.characterEffect1095ui_story = var_76_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_76_2 = 0.200000002980232

			if var_76_1 <= arg_73_1.time_ and arg_73_1.time_ < var_76_1 + var_76_2 then
				local var_76_3 = (arg_73_1.time_ - var_76_1) / var_76_2

				if arg_73_1.var_.characterEffect1095ui_story then
					arg_73_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_73_1.time_ >= var_76_1 + var_76_2 and arg_73_1.time_ < var_76_1 + var_76_2 + arg_76_0 and arg_73_1.var_.characterEffect1095ui_story then
				arg_73_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_76_4 = arg_73_1.actors_["10014ui_story"]
			local var_76_5 = 0

			if var_76_5 < arg_73_1.time_ and arg_73_1.time_ <= var_76_5 + arg_76_0 and arg_73_1.var_.characterEffect10014ui_story == nil then
				arg_73_1.var_.characterEffect10014ui_story = var_76_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_76_6 = 0.200000002980232

			if var_76_5 <= arg_73_1.time_ and arg_73_1.time_ < var_76_5 + var_76_6 then
				local var_76_7 = (arg_73_1.time_ - var_76_5) / var_76_6

				if arg_73_1.var_.characterEffect10014ui_story then
					local var_76_8 = Mathf.Lerp(0, 0.5, var_76_7)

					arg_73_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_73_1.var_.characterEffect10014ui_story.fillRatio = var_76_8
				end
			end

			if arg_73_1.time_ >= var_76_5 + var_76_6 and arg_73_1.time_ < var_76_5 + var_76_6 + arg_76_0 and arg_73_1.var_.characterEffect10014ui_story then
				local var_76_9 = 0.5

				arg_73_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_73_1.var_.characterEffect10014ui_story.fillRatio = var_76_9
			end

			local var_76_10 = 0
			local var_76_11 = 0.575

			if var_76_10 < arg_73_1.time_ and arg_73_1.time_ <= var_76_10 + arg_76_0 then
				arg_73_1.talkMaxDuration = 0
				arg_73_1.dialogCg_.alpha = 1

				arg_73_1.dialog_:SetActive(true)
				SetActive(arg_73_1.leftNameGo_, true)

				local var_76_12 = arg_73_1:FormatText(StoryNameCfg[471].name)

				arg_73_1.leftNameTxt_.text = var_76_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_73_1.leftNameTxt_.transform)

				arg_73_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_73_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_73_1:RecordName(arg_73_1.leftNameTxt_.text)
				SetActive(arg_73_1.iconTrs_.gameObject, false)
				arg_73_1.callingController_:SetSelectedState("normal")

				local var_76_13 = arg_73_1:GetWordFromCfg(411121018)
				local var_76_14 = arg_73_1:FormatText(var_76_13.content)

				arg_73_1.text_.text = var_76_14

				LuaForUtil.ClearLinePrefixSymbol(arg_73_1.text_)

				local var_76_15 = 23
				local var_76_16 = utf8.len(var_76_14)
				local var_76_17 = var_76_15 <= 0 and var_76_11 or var_76_11 * (var_76_16 / var_76_15)

				if var_76_17 > 0 and var_76_11 < var_76_17 then
					arg_73_1.talkMaxDuration = var_76_17

					if var_76_17 + var_76_10 > arg_73_1.duration_ then
						arg_73_1.duration_ = var_76_17 + var_76_10
					end
				end

				arg_73_1.text_.text = var_76_14
				arg_73_1.typewritter.percent = 0

				arg_73_1.typewritter:SetDirty()
				arg_73_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121018", "story_v_out_411121.awb") ~= 0 then
					local var_76_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121018", "story_v_out_411121.awb") / 1000

					if var_76_18 + var_76_10 > arg_73_1.duration_ then
						arg_73_1.duration_ = var_76_18 + var_76_10
					end

					if var_76_13.prefab_name ~= "" and arg_73_1.actors_[var_76_13.prefab_name] ~= nil then
						local var_76_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_73_1.actors_[var_76_13.prefab_name].transform, "story_v_out_411121", "411121018", "story_v_out_411121.awb")

						arg_73_1:RecordAudio("411121018", var_76_19)
						arg_73_1:RecordAudio("411121018", var_76_19)
					else
						arg_73_1:AudioAction("play", "voice", "story_v_out_411121", "411121018", "story_v_out_411121.awb")
					end

					arg_73_1:RecordHistoryTalkVoice("story_v_out_411121", "411121018", "story_v_out_411121.awb")
				end

				arg_73_1:RecordContent(arg_73_1.text_.text)
			end

			local var_76_20 = math.max(var_76_11, arg_73_1.talkMaxDuration)

			if var_76_10 <= arg_73_1.time_ and arg_73_1.time_ < var_76_10 + var_76_20 then
				arg_73_1.typewritter.percent = (arg_73_1.time_ - var_76_10) / var_76_20

				arg_73_1.typewritter:SetDirty()
			end

			if arg_73_1.time_ >= var_76_10 + var_76_20 and arg_73_1.time_ < var_76_10 + var_76_20 + arg_76_0 then
				arg_73_1.typewritter.percent = 1

				arg_73_1.typewritter:SetDirty()
				arg_73_1:ShowNextGo(true)
			end
		end
	end,
	Play411121019 = function(arg_77_0, arg_77_1)
		arg_77_1.time_ = 0
		arg_77_1.frameCnt_ = 0
		arg_77_1.state_ = "playing"
		arg_77_1.curTalkId_ = 411121019
		arg_77_1.duration_ = 5.6

		local var_77_0 = {
			zh = 5.6,
			ja = 4.7
		}
		local var_77_1 = manager.audio:GetLocalizationFlag()

		if var_77_0[var_77_1] ~= nil then
			arg_77_1.duration_ = var_77_0[var_77_1]
		end

		SetActive(arg_77_1.tipsGo_, false)

		function arg_77_1.onSingleLineFinish_()
			arg_77_1.onSingleLineUpdate_ = nil
			arg_77_1.onSingleLineFinish_ = nil
			arg_77_1.state_ = "waiting"
		end

		function arg_77_1.playNext_(arg_79_0)
			if arg_79_0 == 1 then
				arg_77_0:Play411121020(arg_77_1)
			end
		end

		function arg_77_1.onSingleLineUpdate_(arg_80_0)
			local var_80_0 = arg_77_1.actors_["10014ui_story"].transform
			local var_80_1 = 0

			if var_80_1 < arg_77_1.time_ and arg_77_1.time_ <= var_80_1 + arg_80_0 then
				arg_77_1.var_.moveOldPos10014ui_story = var_80_0.localPosition
			end

			local var_80_2 = 0.001

			if var_80_1 <= arg_77_1.time_ and arg_77_1.time_ < var_80_1 + var_80_2 then
				local var_80_3 = (arg_77_1.time_ - var_80_1) / var_80_2
				local var_80_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_80_0.localPosition = Vector3.Lerp(arg_77_1.var_.moveOldPos10014ui_story, var_80_4, var_80_3)

				local var_80_5 = manager.ui.mainCamera.transform.position - var_80_0.position

				var_80_0.forward = Vector3.New(var_80_5.x, var_80_5.y, var_80_5.z)

				local var_80_6 = var_80_0.localEulerAngles

				var_80_6.z = 0
				var_80_6.x = 0
				var_80_0.localEulerAngles = var_80_6
			end

			if arg_77_1.time_ >= var_80_1 + var_80_2 and arg_77_1.time_ < var_80_1 + var_80_2 + arg_80_0 then
				var_80_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_80_7 = manager.ui.mainCamera.transform.position - var_80_0.position

				var_80_0.forward = Vector3.New(var_80_7.x, var_80_7.y, var_80_7.z)

				local var_80_8 = var_80_0.localEulerAngles

				var_80_8.z = 0
				var_80_8.x = 0
				var_80_0.localEulerAngles = var_80_8
			end

			local var_80_9 = 0

			if var_80_9 < arg_77_1.time_ and arg_77_1.time_ <= var_80_9 + arg_80_0 then
				arg_77_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_1")
			end

			local var_80_10 = 0

			if var_80_10 < arg_77_1.time_ and arg_77_1.time_ <= var_80_10 + arg_80_0 then
				arg_77_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_80_11 = arg_77_1.actors_["1095ui_story"]
			local var_80_12 = 0

			if var_80_12 < arg_77_1.time_ and arg_77_1.time_ <= var_80_12 + arg_80_0 and arg_77_1.var_.characterEffect1095ui_story == nil then
				arg_77_1.var_.characterEffect1095ui_story = var_80_11:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_80_13 = 0.200000002980232

			if var_80_12 <= arg_77_1.time_ and arg_77_1.time_ < var_80_12 + var_80_13 then
				local var_80_14 = (arg_77_1.time_ - var_80_12) / var_80_13

				if arg_77_1.var_.characterEffect1095ui_story then
					local var_80_15 = Mathf.Lerp(0, 0.5, var_80_14)

					arg_77_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_77_1.var_.characterEffect1095ui_story.fillRatio = var_80_15
				end
			end

			if arg_77_1.time_ >= var_80_12 + var_80_13 and arg_77_1.time_ < var_80_12 + var_80_13 + arg_80_0 and arg_77_1.var_.characterEffect1095ui_story then
				local var_80_16 = 0.5

				arg_77_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_77_1.var_.characterEffect1095ui_story.fillRatio = var_80_16
			end

			local var_80_17 = arg_77_1.actors_["10014ui_story"]
			local var_80_18 = 0

			if var_80_18 < arg_77_1.time_ and arg_77_1.time_ <= var_80_18 + arg_80_0 and arg_77_1.var_.characterEffect10014ui_story == nil then
				arg_77_1.var_.characterEffect10014ui_story = var_80_17:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_80_19 = 0.200000002980232

			if var_80_18 <= arg_77_1.time_ and arg_77_1.time_ < var_80_18 + var_80_19 then
				local var_80_20 = (arg_77_1.time_ - var_80_18) / var_80_19

				if arg_77_1.var_.characterEffect10014ui_story then
					arg_77_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_77_1.time_ >= var_80_18 + var_80_19 and arg_77_1.time_ < var_80_18 + var_80_19 + arg_80_0 and arg_77_1.var_.characterEffect10014ui_story then
				arg_77_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_80_21 = 0
			local var_80_22 = 0.625

			if var_80_21 < arg_77_1.time_ and arg_77_1.time_ <= var_80_21 + arg_80_0 then
				arg_77_1.talkMaxDuration = 0
				arg_77_1.dialogCg_.alpha = 1

				arg_77_1.dialog_:SetActive(true)
				SetActive(arg_77_1.leftNameGo_, true)

				local var_80_23 = arg_77_1:FormatText(StoryNameCfg[264].name)

				arg_77_1.leftNameTxt_.text = var_80_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_77_1.leftNameTxt_.transform)

				arg_77_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_77_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_77_1:RecordName(arg_77_1.leftNameTxt_.text)
				SetActive(arg_77_1.iconTrs_.gameObject, false)
				arg_77_1.callingController_:SetSelectedState("normal")

				local var_80_24 = arg_77_1:GetWordFromCfg(411121019)
				local var_80_25 = arg_77_1:FormatText(var_80_24.content)

				arg_77_1.text_.text = var_80_25

				LuaForUtil.ClearLinePrefixSymbol(arg_77_1.text_)

				local var_80_26 = 25
				local var_80_27 = utf8.len(var_80_25)
				local var_80_28 = var_80_26 <= 0 and var_80_22 or var_80_22 * (var_80_27 / var_80_26)

				if var_80_28 > 0 and var_80_22 < var_80_28 then
					arg_77_1.talkMaxDuration = var_80_28

					if var_80_28 + var_80_21 > arg_77_1.duration_ then
						arg_77_1.duration_ = var_80_28 + var_80_21
					end
				end

				arg_77_1.text_.text = var_80_25
				arg_77_1.typewritter.percent = 0

				arg_77_1.typewritter:SetDirty()
				arg_77_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121019", "story_v_out_411121.awb") ~= 0 then
					local var_80_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121019", "story_v_out_411121.awb") / 1000

					if var_80_29 + var_80_21 > arg_77_1.duration_ then
						arg_77_1.duration_ = var_80_29 + var_80_21
					end

					if var_80_24.prefab_name ~= "" and arg_77_1.actors_[var_80_24.prefab_name] ~= nil then
						local var_80_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_77_1.actors_[var_80_24.prefab_name].transform, "story_v_out_411121", "411121019", "story_v_out_411121.awb")

						arg_77_1:RecordAudio("411121019", var_80_30)
						arg_77_1:RecordAudio("411121019", var_80_30)
					else
						arg_77_1:AudioAction("play", "voice", "story_v_out_411121", "411121019", "story_v_out_411121.awb")
					end

					arg_77_1:RecordHistoryTalkVoice("story_v_out_411121", "411121019", "story_v_out_411121.awb")
				end

				arg_77_1:RecordContent(arg_77_1.text_.text)
			end

			local var_80_31 = math.max(var_80_22, arg_77_1.talkMaxDuration)

			if var_80_21 <= arg_77_1.time_ and arg_77_1.time_ < var_80_21 + var_80_31 then
				arg_77_1.typewritter.percent = (arg_77_1.time_ - var_80_21) / var_80_31

				arg_77_1.typewritter:SetDirty()
			end

			if arg_77_1.time_ >= var_80_21 + var_80_31 and arg_77_1.time_ < var_80_21 + var_80_31 + arg_80_0 then
				arg_77_1.typewritter.percent = 1

				arg_77_1.typewritter:SetDirty()
				arg_77_1:ShowNextGo(true)
			end
		end
	end,
	Play411121020 = function(arg_81_0, arg_81_1)
		arg_81_1.time_ = 0
		arg_81_1.frameCnt_ = 0
		arg_81_1.state_ = "playing"
		arg_81_1.curTalkId_ = 411121020
		arg_81_1.duration_ = 5.633

		local var_81_0 = {
			zh = 4.033,
			ja = 5.633
		}
		local var_81_1 = manager.audio:GetLocalizationFlag()

		if var_81_0[var_81_1] ~= nil then
			arg_81_1.duration_ = var_81_0[var_81_1]
		end

		SetActive(arg_81_1.tipsGo_, false)

		function arg_81_1.onSingleLineFinish_()
			arg_81_1.onSingleLineUpdate_ = nil
			arg_81_1.onSingleLineFinish_ = nil
			arg_81_1.state_ = "waiting"
		end

		function arg_81_1.playNext_(arg_83_0)
			if arg_83_0 == 1 then
				arg_81_0:Play411121021(arg_81_1)
			end
		end

		function arg_81_1.onSingleLineUpdate_(arg_84_0)
			local var_84_0 = 0
			local var_84_1 = 0.575

			if var_84_0 < arg_81_1.time_ and arg_81_1.time_ <= var_84_0 + arg_84_0 then
				arg_81_1.talkMaxDuration = 0
				arg_81_1.dialogCg_.alpha = 1

				arg_81_1.dialog_:SetActive(true)
				SetActive(arg_81_1.leftNameGo_, true)

				local var_84_2 = arg_81_1:FormatText(StoryNameCfg[264].name)

				arg_81_1.leftNameTxt_.text = var_84_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_81_1.leftNameTxt_.transform)

				arg_81_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_81_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_81_1:RecordName(arg_81_1.leftNameTxt_.text)
				SetActive(arg_81_1.iconTrs_.gameObject, false)
				arg_81_1.callingController_:SetSelectedState("normal")

				local var_84_3 = arg_81_1:GetWordFromCfg(411121020)
				local var_84_4 = arg_81_1:FormatText(var_84_3.content)

				arg_81_1.text_.text = var_84_4

				LuaForUtil.ClearLinePrefixSymbol(arg_81_1.text_)

				local var_84_5 = 23
				local var_84_6 = utf8.len(var_84_4)
				local var_84_7 = var_84_5 <= 0 and var_84_1 or var_84_1 * (var_84_6 / var_84_5)

				if var_84_7 > 0 and var_84_1 < var_84_7 then
					arg_81_1.talkMaxDuration = var_84_7

					if var_84_7 + var_84_0 > arg_81_1.duration_ then
						arg_81_1.duration_ = var_84_7 + var_84_0
					end
				end

				arg_81_1.text_.text = var_84_4
				arg_81_1.typewritter.percent = 0

				arg_81_1.typewritter:SetDirty()
				arg_81_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121020", "story_v_out_411121.awb") ~= 0 then
					local var_84_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121020", "story_v_out_411121.awb") / 1000

					if var_84_8 + var_84_0 > arg_81_1.duration_ then
						arg_81_1.duration_ = var_84_8 + var_84_0
					end

					if var_84_3.prefab_name ~= "" and arg_81_1.actors_[var_84_3.prefab_name] ~= nil then
						local var_84_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_81_1.actors_[var_84_3.prefab_name].transform, "story_v_out_411121", "411121020", "story_v_out_411121.awb")

						arg_81_1:RecordAudio("411121020", var_84_9)
						arg_81_1:RecordAudio("411121020", var_84_9)
					else
						arg_81_1:AudioAction("play", "voice", "story_v_out_411121", "411121020", "story_v_out_411121.awb")
					end

					arg_81_1:RecordHistoryTalkVoice("story_v_out_411121", "411121020", "story_v_out_411121.awb")
				end

				arg_81_1:RecordContent(arg_81_1.text_.text)
			end

			local var_84_10 = math.max(var_84_1, arg_81_1.talkMaxDuration)

			if var_84_0 <= arg_81_1.time_ and arg_81_1.time_ < var_84_0 + var_84_10 then
				arg_81_1.typewritter.percent = (arg_81_1.time_ - var_84_0) / var_84_10

				arg_81_1.typewritter:SetDirty()
			end

			if arg_81_1.time_ >= var_84_0 + var_84_10 and arg_81_1.time_ < var_84_0 + var_84_10 + arg_84_0 then
				arg_81_1.typewritter.percent = 1

				arg_81_1.typewritter:SetDirty()
				arg_81_1:ShowNextGo(true)
			end
		end
	end,
	Play411121021 = function(arg_85_0, arg_85_1)
		arg_85_1.time_ = 0
		arg_85_1.frameCnt_ = 0
		arg_85_1.state_ = "playing"
		arg_85_1.curTalkId_ = 411121021
		arg_85_1.duration_ = 8.733

		local var_85_0 = {
			zh = 6.966,
			ja = 8.733
		}
		local var_85_1 = manager.audio:GetLocalizationFlag()

		if var_85_0[var_85_1] ~= nil then
			arg_85_1.duration_ = var_85_0[var_85_1]
		end

		SetActive(arg_85_1.tipsGo_, false)

		function arg_85_1.onSingleLineFinish_()
			arg_85_1.onSingleLineUpdate_ = nil
			arg_85_1.onSingleLineFinish_ = nil
			arg_85_1.state_ = "waiting"
		end

		function arg_85_1.playNext_(arg_87_0)
			if arg_87_0 == 1 then
				arg_85_0:Play411121022(arg_85_1)
			end
		end

		function arg_85_1.onSingleLineUpdate_(arg_88_0)
			local var_88_0 = 0
			local var_88_1 = 0.85

			if var_88_0 < arg_85_1.time_ and arg_85_1.time_ <= var_88_0 + arg_88_0 then
				arg_85_1.talkMaxDuration = 0
				arg_85_1.dialogCg_.alpha = 1

				arg_85_1.dialog_:SetActive(true)
				SetActive(arg_85_1.leftNameGo_, true)

				local var_88_2 = arg_85_1:FormatText(StoryNameCfg[264].name)

				arg_85_1.leftNameTxt_.text = var_88_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_85_1.leftNameTxt_.transform)

				arg_85_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_85_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_85_1:RecordName(arg_85_1.leftNameTxt_.text)
				SetActive(arg_85_1.iconTrs_.gameObject, false)
				arg_85_1.callingController_:SetSelectedState("normal")

				local var_88_3 = arg_85_1:GetWordFromCfg(411121021)
				local var_88_4 = arg_85_1:FormatText(var_88_3.content)

				arg_85_1.text_.text = var_88_4

				LuaForUtil.ClearLinePrefixSymbol(arg_85_1.text_)

				local var_88_5 = 34
				local var_88_6 = utf8.len(var_88_4)
				local var_88_7 = var_88_5 <= 0 and var_88_1 or var_88_1 * (var_88_6 / var_88_5)

				if var_88_7 > 0 and var_88_1 < var_88_7 then
					arg_85_1.talkMaxDuration = var_88_7

					if var_88_7 + var_88_0 > arg_85_1.duration_ then
						arg_85_1.duration_ = var_88_7 + var_88_0
					end
				end

				arg_85_1.text_.text = var_88_4
				arg_85_1.typewritter.percent = 0

				arg_85_1.typewritter:SetDirty()
				arg_85_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121021", "story_v_out_411121.awb") ~= 0 then
					local var_88_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121021", "story_v_out_411121.awb") / 1000

					if var_88_8 + var_88_0 > arg_85_1.duration_ then
						arg_85_1.duration_ = var_88_8 + var_88_0
					end

					if var_88_3.prefab_name ~= "" and arg_85_1.actors_[var_88_3.prefab_name] ~= nil then
						local var_88_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_85_1.actors_[var_88_3.prefab_name].transform, "story_v_out_411121", "411121021", "story_v_out_411121.awb")

						arg_85_1:RecordAudio("411121021", var_88_9)
						arg_85_1:RecordAudio("411121021", var_88_9)
					else
						arg_85_1:AudioAction("play", "voice", "story_v_out_411121", "411121021", "story_v_out_411121.awb")
					end

					arg_85_1:RecordHistoryTalkVoice("story_v_out_411121", "411121021", "story_v_out_411121.awb")
				end

				arg_85_1:RecordContent(arg_85_1.text_.text)
			end

			local var_88_10 = math.max(var_88_1, arg_85_1.talkMaxDuration)

			if var_88_0 <= arg_85_1.time_ and arg_85_1.time_ < var_88_0 + var_88_10 then
				arg_85_1.typewritter.percent = (arg_85_1.time_ - var_88_0) / var_88_10

				arg_85_1.typewritter:SetDirty()
			end

			if arg_85_1.time_ >= var_88_0 + var_88_10 and arg_85_1.time_ < var_88_0 + var_88_10 + arg_88_0 then
				arg_85_1.typewritter.percent = 1

				arg_85_1.typewritter:SetDirty()
				arg_85_1:ShowNextGo(true)
			end
		end
	end,
	Play411121022 = function(arg_89_0, arg_89_1)
		arg_89_1.time_ = 0
		arg_89_1.frameCnt_ = 0
		arg_89_1.state_ = "playing"
		arg_89_1.curTalkId_ = 411121022
		arg_89_1.duration_ = 3.7

		local var_89_0 = {
			zh = 2.133,
			ja = 3.7
		}
		local var_89_1 = manager.audio:GetLocalizationFlag()

		if var_89_0[var_89_1] ~= nil then
			arg_89_1.duration_ = var_89_0[var_89_1]
		end

		SetActive(arg_89_1.tipsGo_, false)

		function arg_89_1.onSingleLineFinish_()
			arg_89_1.onSingleLineUpdate_ = nil
			arg_89_1.onSingleLineFinish_ = nil
			arg_89_1.state_ = "waiting"
		end

		function arg_89_1.playNext_(arg_91_0)
			if arg_91_0 == 1 then
				arg_89_0:Play411121023(arg_89_1)
			end
		end

		function arg_89_1.onSingleLineUpdate_(arg_92_0)
			local var_92_0 = arg_89_1.actors_["10014ui_story"].transform
			local var_92_1 = 0

			if var_92_1 < arg_89_1.time_ and arg_89_1.time_ <= var_92_1 + arg_92_0 then
				arg_89_1.var_.moveOldPos10014ui_story = var_92_0.localPosition
			end

			local var_92_2 = 0.001

			if var_92_1 <= arg_89_1.time_ and arg_89_1.time_ < var_92_1 + var_92_2 then
				local var_92_3 = (arg_89_1.time_ - var_92_1) / var_92_2
				local var_92_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_92_0.localPosition = Vector3.Lerp(arg_89_1.var_.moveOldPos10014ui_story, var_92_4, var_92_3)

				local var_92_5 = manager.ui.mainCamera.transform.position - var_92_0.position

				var_92_0.forward = Vector3.New(var_92_5.x, var_92_5.y, var_92_5.z)

				local var_92_6 = var_92_0.localEulerAngles

				var_92_6.z = 0
				var_92_6.x = 0
				var_92_0.localEulerAngles = var_92_6
			end

			if arg_89_1.time_ >= var_92_1 + var_92_2 and arg_89_1.time_ < var_92_1 + var_92_2 + arg_92_0 then
				var_92_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_92_7 = manager.ui.mainCamera.transform.position - var_92_0.position

				var_92_0.forward = Vector3.New(var_92_7.x, var_92_7.y, var_92_7.z)

				local var_92_8 = var_92_0.localEulerAngles

				var_92_8.z = 0
				var_92_8.x = 0
				var_92_0.localEulerAngles = var_92_8
			end

			local var_92_9 = arg_89_1.actors_["10014ui_story"]
			local var_92_10 = 0

			if var_92_10 < arg_89_1.time_ and arg_89_1.time_ <= var_92_10 + arg_92_0 and arg_89_1.var_.characterEffect10014ui_story == nil then
				arg_89_1.var_.characterEffect10014ui_story = var_92_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_92_11 = 0.200000002980232

			if var_92_10 <= arg_89_1.time_ and arg_89_1.time_ < var_92_10 + var_92_11 then
				local var_92_12 = (arg_89_1.time_ - var_92_10) / var_92_11

				if arg_89_1.var_.characterEffect10014ui_story then
					arg_89_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_89_1.time_ >= var_92_10 + var_92_11 and arg_89_1.time_ < var_92_10 + var_92_11 + arg_92_0 and arg_89_1.var_.characterEffect10014ui_story then
				arg_89_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_92_13 = 0
			local var_92_14 = 0.25

			if var_92_13 < arg_89_1.time_ and arg_89_1.time_ <= var_92_13 + arg_92_0 then
				arg_89_1.talkMaxDuration = 0
				arg_89_1.dialogCg_.alpha = 1

				arg_89_1.dialog_:SetActive(true)
				SetActive(arg_89_1.leftNameGo_, true)

				local var_92_15 = arg_89_1:FormatText(StoryNameCfg[264].name)

				arg_89_1.leftNameTxt_.text = var_92_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_89_1.leftNameTxt_.transform)

				arg_89_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_89_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_89_1:RecordName(arg_89_1.leftNameTxt_.text)
				SetActive(arg_89_1.iconTrs_.gameObject, false)
				arg_89_1.callingController_:SetSelectedState("normal")

				local var_92_16 = arg_89_1:GetWordFromCfg(411121022)
				local var_92_17 = arg_89_1:FormatText(var_92_16.content)

				arg_89_1.text_.text = var_92_17

				LuaForUtil.ClearLinePrefixSymbol(arg_89_1.text_)

				local var_92_18 = 10
				local var_92_19 = utf8.len(var_92_17)
				local var_92_20 = var_92_18 <= 0 and var_92_14 or var_92_14 * (var_92_19 / var_92_18)

				if var_92_20 > 0 and var_92_14 < var_92_20 then
					arg_89_1.talkMaxDuration = var_92_20

					if var_92_20 + var_92_13 > arg_89_1.duration_ then
						arg_89_1.duration_ = var_92_20 + var_92_13
					end
				end

				arg_89_1.text_.text = var_92_17
				arg_89_1.typewritter.percent = 0

				arg_89_1.typewritter:SetDirty()
				arg_89_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121022", "story_v_out_411121.awb") ~= 0 then
					local var_92_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121022", "story_v_out_411121.awb") / 1000

					if var_92_21 + var_92_13 > arg_89_1.duration_ then
						arg_89_1.duration_ = var_92_21 + var_92_13
					end

					if var_92_16.prefab_name ~= "" and arg_89_1.actors_[var_92_16.prefab_name] ~= nil then
						local var_92_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_89_1.actors_[var_92_16.prefab_name].transform, "story_v_out_411121", "411121022", "story_v_out_411121.awb")

						arg_89_1:RecordAudio("411121022", var_92_22)
						arg_89_1:RecordAudio("411121022", var_92_22)
					else
						arg_89_1:AudioAction("play", "voice", "story_v_out_411121", "411121022", "story_v_out_411121.awb")
					end

					arg_89_1:RecordHistoryTalkVoice("story_v_out_411121", "411121022", "story_v_out_411121.awb")
				end

				arg_89_1:RecordContent(arg_89_1.text_.text)
			end

			local var_92_23 = math.max(var_92_14, arg_89_1.talkMaxDuration)

			if var_92_13 <= arg_89_1.time_ and arg_89_1.time_ < var_92_13 + var_92_23 then
				arg_89_1.typewritter.percent = (arg_89_1.time_ - var_92_13) / var_92_23

				arg_89_1.typewritter:SetDirty()
			end

			if arg_89_1.time_ >= var_92_13 + var_92_23 and arg_89_1.time_ < var_92_13 + var_92_23 + arg_92_0 then
				arg_89_1.typewritter.percent = 1

				arg_89_1.typewritter:SetDirty()
				arg_89_1:ShowNextGo(true)
			end
		end
	end,
	Play411121023 = function(arg_93_0, arg_93_1)
		arg_93_1.time_ = 0
		arg_93_1.frameCnt_ = 0
		arg_93_1.state_ = "playing"
		arg_93_1.curTalkId_ = 411121023
		arg_93_1.duration_ = 2.4

		local var_93_0 = {
			zh = 2,
			ja = 2.4
		}
		local var_93_1 = manager.audio:GetLocalizationFlag()

		if var_93_0[var_93_1] ~= nil then
			arg_93_1.duration_ = var_93_0[var_93_1]
		end

		SetActive(arg_93_1.tipsGo_, false)

		function arg_93_1.onSingleLineFinish_()
			arg_93_1.onSingleLineUpdate_ = nil
			arg_93_1.onSingleLineFinish_ = nil
			arg_93_1.state_ = "waiting"
		end

		function arg_93_1.playNext_(arg_95_0)
			if arg_95_0 == 1 then
				arg_93_0:Play411121024(arg_93_1)
			end
		end

		function arg_93_1.onSingleLineUpdate_(arg_96_0)
			local var_96_0 = arg_93_1.actors_["1095ui_story"].transform
			local var_96_1 = 0

			if var_96_1 < arg_93_1.time_ and arg_93_1.time_ <= var_96_1 + arg_96_0 then
				arg_93_1.var_.moveOldPos1095ui_story = var_96_0.localPosition
			end

			local var_96_2 = 0.001

			if var_96_1 <= arg_93_1.time_ and arg_93_1.time_ < var_96_1 + var_96_2 then
				local var_96_3 = (arg_93_1.time_ - var_96_1) / var_96_2
				local var_96_4 = Vector3.New(0.7, -0.98, -6.1)

				var_96_0.localPosition = Vector3.Lerp(arg_93_1.var_.moveOldPos1095ui_story, var_96_4, var_96_3)

				local var_96_5 = manager.ui.mainCamera.transform.position - var_96_0.position

				var_96_0.forward = Vector3.New(var_96_5.x, var_96_5.y, var_96_5.z)

				local var_96_6 = var_96_0.localEulerAngles

				var_96_6.z = 0
				var_96_6.x = 0
				var_96_0.localEulerAngles = var_96_6
			end

			if arg_93_1.time_ >= var_96_1 + var_96_2 and arg_93_1.time_ < var_96_1 + var_96_2 + arg_96_0 then
				var_96_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_96_7 = manager.ui.mainCamera.transform.position - var_96_0.position

				var_96_0.forward = Vector3.New(var_96_7.x, var_96_7.y, var_96_7.z)

				local var_96_8 = var_96_0.localEulerAngles

				var_96_8.z = 0
				var_96_8.x = 0
				var_96_0.localEulerAngles = var_96_8
			end

			local var_96_9 = arg_93_1.actors_["1095ui_story"]
			local var_96_10 = 0

			if var_96_10 < arg_93_1.time_ and arg_93_1.time_ <= var_96_10 + arg_96_0 and arg_93_1.var_.characterEffect1095ui_story == nil then
				arg_93_1.var_.characterEffect1095ui_story = var_96_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_96_11 = 0.200000002980232

			if var_96_10 <= arg_93_1.time_ and arg_93_1.time_ < var_96_10 + var_96_11 then
				local var_96_12 = (arg_93_1.time_ - var_96_10) / var_96_11

				if arg_93_1.var_.characterEffect1095ui_story then
					arg_93_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_93_1.time_ >= var_96_10 + var_96_11 and arg_93_1.time_ < var_96_10 + var_96_11 + arg_96_0 and arg_93_1.var_.characterEffect1095ui_story then
				arg_93_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_96_13 = 0

			if var_96_13 < arg_93_1.time_ and arg_93_1.time_ <= var_96_13 + arg_96_0 then
				arg_93_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action3_1")
			end

			local var_96_14 = 0

			if var_96_14 < arg_93_1.time_ and arg_93_1.time_ <= var_96_14 + arg_96_0 then
				arg_93_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_96_15 = arg_93_1.actors_["10014ui_story"]
			local var_96_16 = 0

			if var_96_16 < arg_93_1.time_ and arg_93_1.time_ <= var_96_16 + arg_96_0 and arg_93_1.var_.characterEffect10014ui_story == nil then
				arg_93_1.var_.characterEffect10014ui_story = var_96_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_96_17 = 0.200000002980232

			if var_96_16 <= arg_93_1.time_ and arg_93_1.time_ < var_96_16 + var_96_17 then
				local var_96_18 = (arg_93_1.time_ - var_96_16) / var_96_17

				if arg_93_1.var_.characterEffect10014ui_story then
					local var_96_19 = Mathf.Lerp(0, 0.5, var_96_18)

					arg_93_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_93_1.var_.characterEffect10014ui_story.fillRatio = var_96_19
				end
			end

			if arg_93_1.time_ >= var_96_16 + var_96_17 and arg_93_1.time_ < var_96_16 + var_96_17 + arg_96_0 and arg_93_1.var_.characterEffect10014ui_story then
				local var_96_20 = 0.5

				arg_93_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_93_1.var_.characterEffect10014ui_story.fillRatio = var_96_20
			end

			local var_96_21 = 0
			local var_96_22 = 0.25

			if var_96_21 < arg_93_1.time_ and arg_93_1.time_ <= var_96_21 + arg_96_0 then
				arg_93_1.talkMaxDuration = 0
				arg_93_1.dialogCg_.alpha = 1

				arg_93_1.dialog_:SetActive(true)
				SetActive(arg_93_1.leftNameGo_, true)

				local var_96_23 = arg_93_1:FormatText(StoryNameCfg[471].name)

				arg_93_1.leftNameTxt_.text = var_96_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_93_1.leftNameTxt_.transform)

				arg_93_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_93_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_93_1:RecordName(arg_93_1.leftNameTxt_.text)
				SetActive(arg_93_1.iconTrs_.gameObject, false)
				arg_93_1.callingController_:SetSelectedState("normal")

				local var_96_24 = arg_93_1:GetWordFromCfg(411121023)
				local var_96_25 = arg_93_1:FormatText(var_96_24.content)

				arg_93_1.text_.text = var_96_25

				LuaForUtil.ClearLinePrefixSymbol(arg_93_1.text_)

				local var_96_26 = 10
				local var_96_27 = utf8.len(var_96_25)
				local var_96_28 = var_96_26 <= 0 and var_96_22 or var_96_22 * (var_96_27 / var_96_26)

				if var_96_28 > 0 and var_96_22 < var_96_28 then
					arg_93_1.talkMaxDuration = var_96_28

					if var_96_28 + var_96_21 > arg_93_1.duration_ then
						arg_93_1.duration_ = var_96_28 + var_96_21
					end
				end

				arg_93_1.text_.text = var_96_25
				arg_93_1.typewritter.percent = 0

				arg_93_1.typewritter:SetDirty()
				arg_93_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121023", "story_v_out_411121.awb") ~= 0 then
					local var_96_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121023", "story_v_out_411121.awb") / 1000

					if var_96_29 + var_96_21 > arg_93_1.duration_ then
						arg_93_1.duration_ = var_96_29 + var_96_21
					end

					if var_96_24.prefab_name ~= "" and arg_93_1.actors_[var_96_24.prefab_name] ~= nil then
						local var_96_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_93_1.actors_[var_96_24.prefab_name].transform, "story_v_out_411121", "411121023", "story_v_out_411121.awb")

						arg_93_1:RecordAudio("411121023", var_96_30)
						arg_93_1:RecordAudio("411121023", var_96_30)
					else
						arg_93_1:AudioAction("play", "voice", "story_v_out_411121", "411121023", "story_v_out_411121.awb")
					end

					arg_93_1:RecordHistoryTalkVoice("story_v_out_411121", "411121023", "story_v_out_411121.awb")
				end

				arg_93_1:RecordContent(arg_93_1.text_.text)
			end

			local var_96_31 = math.max(var_96_22, arg_93_1.talkMaxDuration)

			if var_96_21 <= arg_93_1.time_ and arg_93_1.time_ < var_96_21 + var_96_31 then
				arg_93_1.typewritter.percent = (arg_93_1.time_ - var_96_21) / var_96_31

				arg_93_1.typewritter:SetDirty()
			end

			if arg_93_1.time_ >= var_96_21 + var_96_31 and arg_93_1.time_ < var_96_21 + var_96_31 + arg_96_0 then
				arg_93_1.typewritter.percent = 1

				arg_93_1.typewritter:SetDirty()
				arg_93_1:ShowNextGo(true)
			end
		end
	end,
	Play411121024 = function(arg_97_0, arg_97_1)
		arg_97_1.time_ = 0
		arg_97_1.frameCnt_ = 0
		arg_97_1.state_ = "playing"
		arg_97_1.curTalkId_ = 411121024
		arg_97_1.duration_ = 8.2

		local var_97_0 = {
			zh = 6.1,
			ja = 8.2
		}
		local var_97_1 = manager.audio:GetLocalizationFlag()

		if var_97_0[var_97_1] ~= nil then
			arg_97_1.duration_ = var_97_0[var_97_1]
		end

		SetActive(arg_97_1.tipsGo_, false)

		function arg_97_1.onSingleLineFinish_()
			arg_97_1.onSingleLineUpdate_ = nil
			arg_97_1.onSingleLineFinish_ = nil
			arg_97_1.state_ = "waiting"
		end

		function arg_97_1.playNext_(arg_99_0)
			if arg_99_0 == 1 then
				arg_97_0:Play411121025(arg_97_1)
			end
		end

		function arg_97_1.onSingleLineUpdate_(arg_100_0)
			local var_100_0 = arg_97_1.actors_["1095ui_story"]
			local var_100_1 = 0

			if var_100_1 < arg_97_1.time_ and arg_97_1.time_ <= var_100_1 + arg_100_0 and arg_97_1.var_.characterEffect1095ui_story == nil then
				arg_97_1.var_.characterEffect1095ui_story = var_100_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_100_2 = 0.200000002980232

			if var_100_1 <= arg_97_1.time_ and arg_97_1.time_ < var_100_1 + var_100_2 then
				local var_100_3 = (arg_97_1.time_ - var_100_1) / var_100_2

				if arg_97_1.var_.characterEffect1095ui_story then
					local var_100_4 = Mathf.Lerp(0, 0.5, var_100_3)

					arg_97_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_97_1.var_.characterEffect1095ui_story.fillRatio = var_100_4
				end
			end

			if arg_97_1.time_ >= var_100_1 + var_100_2 and arg_97_1.time_ < var_100_1 + var_100_2 + arg_100_0 and arg_97_1.var_.characterEffect1095ui_story then
				local var_100_5 = 0.5

				arg_97_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_97_1.var_.characterEffect1095ui_story.fillRatio = var_100_5
			end

			local var_100_6 = arg_97_1.actors_["10014ui_story"]
			local var_100_7 = 0

			if var_100_7 < arg_97_1.time_ and arg_97_1.time_ <= var_100_7 + arg_100_0 and arg_97_1.var_.characterEffect10014ui_story == nil then
				arg_97_1.var_.characterEffect10014ui_story = var_100_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_100_8 = 0.200000002980232

			if var_100_7 <= arg_97_1.time_ and arg_97_1.time_ < var_100_7 + var_100_8 then
				local var_100_9 = (arg_97_1.time_ - var_100_7) / var_100_8

				if arg_97_1.var_.characterEffect10014ui_story then
					arg_97_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_97_1.time_ >= var_100_7 + var_100_8 and arg_97_1.time_ < var_100_7 + var_100_8 + arg_100_0 and arg_97_1.var_.characterEffect10014ui_story then
				arg_97_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_100_10 = 0
			local var_100_11 = 0.675

			if var_100_10 < arg_97_1.time_ and arg_97_1.time_ <= var_100_10 + arg_100_0 then
				arg_97_1.talkMaxDuration = 0
				arg_97_1.dialogCg_.alpha = 1

				arg_97_1.dialog_:SetActive(true)
				SetActive(arg_97_1.leftNameGo_, true)

				local var_100_12 = arg_97_1:FormatText(StoryNameCfg[264].name)

				arg_97_1.leftNameTxt_.text = var_100_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_97_1.leftNameTxt_.transform)

				arg_97_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_97_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_97_1:RecordName(arg_97_1.leftNameTxt_.text)
				SetActive(arg_97_1.iconTrs_.gameObject, false)
				arg_97_1.callingController_:SetSelectedState("normal")

				local var_100_13 = arg_97_1:GetWordFromCfg(411121024)
				local var_100_14 = arg_97_1:FormatText(var_100_13.content)

				arg_97_1.text_.text = var_100_14

				LuaForUtil.ClearLinePrefixSymbol(arg_97_1.text_)

				local var_100_15 = 27
				local var_100_16 = utf8.len(var_100_14)
				local var_100_17 = var_100_15 <= 0 and var_100_11 or var_100_11 * (var_100_16 / var_100_15)

				if var_100_17 > 0 and var_100_11 < var_100_17 then
					arg_97_1.talkMaxDuration = var_100_17

					if var_100_17 + var_100_10 > arg_97_1.duration_ then
						arg_97_1.duration_ = var_100_17 + var_100_10
					end
				end

				arg_97_1.text_.text = var_100_14
				arg_97_1.typewritter.percent = 0

				arg_97_1.typewritter:SetDirty()
				arg_97_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121024", "story_v_out_411121.awb") ~= 0 then
					local var_100_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121024", "story_v_out_411121.awb") / 1000

					if var_100_18 + var_100_10 > arg_97_1.duration_ then
						arg_97_1.duration_ = var_100_18 + var_100_10
					end

					if var_100_13.prefab_name ~= "" and arg_97_1.actors_[var_100_13.prefab_name] ~= nil then
						local var_100_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_97_1.actors_[var_100_13.prefab_name].transform, "story_v_out_411121", "411121024", "story_v_out_411121.awb")

						arg_97_1:RecordAudio("411121024", var_100_19)
						arg_97_1:RecordAudio("411121024", var_100_19)
					else
						arg_97_1:AudioAction("play", "voice", "story_v_out_411121", "411121024", "story_v_out_411121.awb")
					end

					arg_97_1:RecordHistoryTalkVoice("story_v_out_411121", "411121024", "story_v_out_411121.awb")
				end

				arg_97_1:RecordContent(arg_97_1.text_.text)
			end

			local var_100_20 = math.max(var_100_11, arg_97_1.talkMaxDuration)

			if var_100_10 <= arg_97_1.time_ and arg_97_1.time_ < var_100_10 + var_100_20 then
				arg_97_1.typewritter.percent = (arg_97_1.time_ - var_100_10) / var_100_20

				arg_97_1.typewritter:SetDirty()
			end

			if arg_97_1.time_ >= var_100_10 + var_100_20 and arg_97_1.time_ < var_100_10 + var_100_20 + arg_100_0 then
				arg_97_1.typewritter.percent = 1

				arg_97_1.typewritter:SetDirty()
				arg_97_1:ShowNextGo(true)
			end
		end
	end,
	Play411121025 = function(arg_101_0, arg_101_1)
		arg_101_1.time_ = 0
		arg_101_1.frameCnt_ = 0
		arg_101_1.state_ = "playing"
		arg_101_1.curTalkId_ = 411121025
		arg_101_1.duration_ = 6.633

		local var_101_0 = {
			zh = 5.333,
			ja = 6.633
		}
		local var_101_1 = manager.audio:GetLocalizationFlag()

		if var_101_0[var_101_1] ~= nil then
			arg_101_1.duration_ = var_101_0[var_101_1]
		end

		SetActive(arg_101_1.tipsGo_, false)

		function arg_101_1.onSingleLineFinish_()
			arg_101_1.onSingleLineUpdate_ = nil
			arg_101_1.onSingleLineFinish_ = nil
			arg_101_1.state_ = "waiting"
		end

		function arg_101_1.playNext_(arg_103_0)
			if arg_103_0 == 1 then
				arg_101_0:Play411121026(arg_101_1)
			end
		end

		function arg_101_1.onSingleLineUpdate_(arg_104_0)
			local var_104_0 = 0

			if var_104_0 < arg_101_1.time_ and arg_101_1.time_ <= var_104_0 + arg_104_0 then
				arg_101_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_2")
			end

			local var_104_1 = 0

			if var_104_1 < arg_101_1.time_ and arg_101_1.time_ <= var_104_1 + arg_104_0 then
				arg_101_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_104_2 = 0
			local var_104_3 = 0.6

			if var_104_2 < arg_101_1.time_ and arg_101_1.time_ <= var_104_2 + arg_104_0 then
				arg_101_1.talkMaxDuration = 0
				arg_101_1.dialogCg_.alpha = 1

				arg_101_1.dialog_:SetActive(true)
				SetActive(arg_101_1.leftNameGo_, true)

				local var_104_4 = arg_101_1:FormatText(StoryNameCfg[264].name)

				arg_101_1.leftNameTxt_.text = var_104_4

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_101_1.leftNameTxt_.transform)

				arg_101_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_101_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_101_1:RecordName(arg_101_1.leftNameTxt_.text)
				SetActive(arg_101_1.iconTrs_.gameObject, false)
				arg_101_1.callingController_:SetSelectedState("normal")

				local var_104_5 = arg_101_1:GetWordFromCfg(411121025)
				local var_104_6 = arg_101_1:FormatText(var_104_5.content)

				arg_101_1.text_.text = var_104_6

				LuaForUtil.ClearLinePrefixSymbol(arg_101_1.text_)

				local var_104_7 = 24
				local var_104_8 = utf8.len(var_104_6)
				local var_104_9 = var_104_7 <= 0 and var_104_3 or var_104_3 * (var_104_8 / var_104_7)

				if var_104_9 > 0 and var_104_3 < var_104_9 then
					arg_101_1.talkMaxDuration = var_104_9

					if var_104_9 + var_104_2 > arg_101_1.duration_ then
						arg_101_1.duration_ = var_104_9 + var_104_2
					end
				end

				arg_101_1.text_.text = var_104_6
				arg_101_1.typewritter.percent = 0

				arg_101_1.typewritter:SetDirty()
				arg_101_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121025", "story_v_out_411121.awb") ~= 0 then
					local var_104_10 = manager.audio:GetVoiceLength("story_v_out_411121", "411121025", "story_v_out_411121.awb") / 1000

					if var_104_10 + var_104_2 > arg_101_1.duration_ then
						arg_101_1.duration_ = var_104_10 + var_104_2
					end

					if var_104_5.prefab_name ~= "" and arg_101_1.actors_[var_104_5.prefab_name] ~= nil then
						local var_104_11 = LuaForUtil.PlayVoiceWithCriLipsync(arg_101_1.actors_[var_104_5.prefab_name].transform, "story_v_out_411121", "411121025", "story_v_out_411121.awb")

						arg_101_1:RecordAudio("411121025", var_104_11)
						arg_101_1:RecordAudio("411121025", var_104_11)
					else
						arg_101_1:AudioAction("play", "voice", "story_v_out_411121", "411121025", "story_v_out_411121.awb")
					end

					arg_101_1:RecordHistoryTalkVoice("story_v_out_411121", "411121025", "story_v_out_411121.awb")
				end

				arg_101_1:RecordContent(arg_101_1.text_.text)
			end

			local var_104_12 = math.max(var_104_3, arg_101_1.talkMaxDuration)

			if var_104_2 <= arg_101_1.time_ and arg_101_1.time_ < var_104_2 + var_104_12 then
				arg_101_1.typewritter.percent = (arg_101_1.time_ - var_104_2) / var_104_12

				arg_101_1.typewritter:SetDirty()
			end

			if arg_101_1.time_ >= var_104_2 + var_104_12 and arg_101_1.time_ < var_104_2 + var_104_12 + arg_104_0 then
				arg_101_1.typewritter.percent = 1

				arg_101_1.typewritter:SetDirty()
				arg_101_1:ShowNextGo(true)
			end
		end
	end,
	Play411121026 = function(arg_105_0, arg_105_1)
		arg_105_1.time_ = 0
		arg_105_1.frameCnt_ = 0
		arg_105_1.state_ = "playing"
		arg_105_1.curTalkId_ = 411121026
		arg_105_1.duration_ = 7.666

		local var_105_0 = {
			zh = 2.066,
			ja = 7.666
		}
		local var_105_1 = manager.audio:GetLocalizationFlag()

		if var_105_0[var_105_1] ~= nil then
			arg_105_1.duration_ = var_105_0[var_105_1]
		end

		SetActive(arg_105_1.tipsGo_, false)

		function arg_105_1.onSingleLineFinish_()
			arg_105_1.onSingleLineUpdate_ = nil
			arg_105_1.onSingleLineFinish_ = nil
			arg_105_1.state_ = "waiting"
		end

		function arg_105_1.playNext_(arg_107_0)
			if arg_107_0 == 1 then
				arg_105_0:Play411121027(arg_105_1)
			end
		end

		function arg_105_1.onSingleLineUpdate_(arg_108_0)
			local var_108_0 = arg_105_1.actors_["1095ui_story"]
			local var_108_1 = 0

			if var_108_1 < arg_105_1.time_ and arg_105_1.time_ <= var_108_1 + arg_108_0 and arg_105_1.var_.characterEffect1095ui_story == nil then
				arg_105_1.var_.characterEffect1095ui_story = var_108_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_108_2 = 0.200000002980232

			if var_108_1 <= arg_105_1.time_ and arg_105_1.time_ < var_108_1 + var_108_2 then
				local var_108_3 = (arg_105_1.time_ - var_108_1) / var_108_2

				if arg_105_1.var_.characterEffect1095ui_story then
					arg_105_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_105_1.time_ >= var_108_1 + var_108_2 and arg_105_1.time_ < var_108_1 + var_108_2 + arg_108_0 and arg_105_1.var_.characterEffect1095ui_story then
				arg_105_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_108_4 = arg_105_1.actors_["10014ui_story"]
			local var_108_5 = 0

			if var_108_5 < arg_105_1.time_ and arg_105_1.time_ <= var_108_5 + arg_108_0 and arg_105_1.var_.characterEffect10014ui_story == nil then
				arg_105_1.var_.characterEffect10014ui_story = var_108_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_108_6 = 0.200000002980232

			if var_108_5 <= arg_105_1.time_ and arg_105_1.time_ < var_108_5 + var_108_6 then
				local var_108_7 = (arg_105_1.time_ - var_108_5) / var_108_6

				if arg_105_1.var_.characterEffect10014ui_story then
					local var_108_8 = Mathf.Lerp(0, 0.5, var_108_7)

					arg_105_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_105_1.var_.characterEffect10014ui_story.fillRatio = var_108_8
				end
			end

			if arg_105_1.time_ >= var_108_5 + var_108_6 and arg_105_1.time_ < var_108_5 + var_108_6 + arg_108_0 and arg_105_1.var_.characterEffect10014ui_story then
				local var_108_9 = 0.5

				arg_105_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_105_1.var_.characterEffect10014ui_story.fillRatio = var_108_9
			end

			local var_108_10 = 0
			local var_108_11 = 0.35

			if var_108_10 < arg_105_1.time_ and arg_105_1.time_ <= var_108_10 + arg_108_0 then
				arg_105_1.talkMaxDuration = 0
				arg_105_1.dialogCg_.alpha = 1

				arg_105_1.dialog_:SetActive(true)
				SetActive(arg_105_1.leftNameGo_, true)

				local var_108_12 = arg_105_1:FormatText(StoryNameCfg[471].name)

				arg_105_1.leftNameTxt_.text = var_108_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_105_1.leftNameTxt_.transform)

				arg_105_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_105_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_105_1:RecordName(arg_105_1.leftNameTxt_.text)
				SetActive(arg_105_1.iconTrs_.gameObject, false)
				arg_105_1.callingController_:SetSelectedState("normal")

				local var_108_13 = arg_105_1:GetWordFromCfg(411121026)
				local var_108_14 = arg_105_1:FormatText(var_108_13.content)

				arg_105_1.text_.text = var_108_14

				LuaForUtil.ClearLinePrefixSymbol(arg_105_1.text_)

				local var_108_15 = 14
				local var_108_16 = utf8.len(var_108_14)
				local var_108_17 = var_108_15 <= 0 and var_108_11 or var_108_11 * (var_108_16 / var_108_15)

				if var_108_17 > 0 and var_108_11 < var_108_17 then
					arg_105_1.talkMaxDuration = var_108_17

					if var_108_17 + var_108_10 > arg_105_1.duration_ then
						arg_105_1.duration_ = var_108_17 + var_108_10
					end
				end

				arg_105_1.text_.text = var_108_14
				arg_105_1.typewritter.percent = 0

				arg_105_1.typewritter:SetDirty()
				arg_105_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121026", "story_v_out_411121.awb") ~= 0 then
					local var_108_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121026", "story_v_out_411121.awb") / 1000

					if var_108_18 + var_108_10 > arg_105_1.duration_ then
						arg_105_1.duration_ = var_108_18 + var_108_10
					end

					if var_108_13.prefab_name ~= "" and arg_105_1.actors_[var_108_13.prefab_name] ~= nil then
						local var_108_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_105_1.actors_[var_108_13.prefab_name].transform, "story_v_out_411121", "411121026", "story_v_out_411121.awb")

						arg_105_1:RecordAudio("411121026", var_108_19)
						arg_105_1:RecordAudio("411121026", var_108_19)
					else
						arg_105_1:AudioAction("play", "voice", "story_v_out_411121", "411121026", "story_v_out_411121.awb")
					end

					arg_105_1:RecordHistoryTalkVoice("story_v_out_411121", "411121026", "story_v_out_411121.awb")
				end

				arg_105_1:RecordContent(arg_105_1.text_.text)
			end

			local var_108_20 = math.max(var_108_11, arg_105_1.talkMaxDuration)

			if var_108_10 <= arg_105_1.time_ and arg_105_1.time_ < var_108_10 + var_108_20 then
				arg_105_1.typewritter.percent = (arg_105_1.time_ - var_108_10) / var_108_20

				arg_105_1.typewritter:SetDirty()
			end

			if arg_105_1.time_ >= var_108_10 + var_108_20 and arg_105_1.time_ < var_108_10 + var_108_20 + arg_108_0 then
				arg_105_1.typewritter.percent = 1

				arg_105_1.typewritter:SetDirty()
				arg_105_1:ShowNextGo(true)
			end
		end
	end,
	Play411121027 = function(arg_109_0, arg_109_1)
		arg_109_1.time_ = 0
		arg_109_1.frameCnt_ = 0
		arg_109_1.state_ = "playing"
		arg_109_1.curTalkId_ = 411121027
		arg_109_1.duration_ = 3.2

		local var_109_0 = {
			zh = 3.2,
			ja = 2.7
		}
		local var_109_1 = manager.audio:GetLocalizationFlag()

		if var_109_0[var_109_1] ~= nil then
			arg_109_1.duration_ = var_109_0[var_109_1]
		end

		SetActive(arg_109_1.tipsGo_, false)

		function arg_109_1.onSingleLineFinish_()
			arg_109_1.onSingleLineUpdate_ = nil
			arg_109_1.onSingleLineFinish_ = nil
			arg_109_1.state_ = "waiting"
		end

		function arg_109_1.playNext_(arg_111_0)
			if arg_111_0 == 1 then
				arg_109_0:Play411121028(arg_109_1)
			end
		end

		function arg_109_1.onSingleLineUpdate_(arg_112_0)
			local var_112_0 = arg_109_1.actors_["1095ui_story"]
			local var_112_1 = 0

			if var_112_1 < arg_109_1.time_ and arg_109_1.time_ <= var_112_1 + arg_112_0 and arg_109_1.var_.characterEffect1095ui_story == nil then
				arg_109_1.var_.characterEffect1095ui_story = var_112_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_112_2 = 0.200000002980232

			if var_112_1 <= arg_109_1.time_ and arg_109_1.time_ < var_112_1 + var_112_2 then
				local var_112_3 = (arg_109_1.time_ - var_112_1) / var_112_2

				if arg_109_1.var_.characterEffect1095ui_story then
					local var_112_4 = Mathf.Lerp(0, 0.5, var_112_3)

					arg_109_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_109_1.var_.characterEffect1095ui_story.fillRatio = var_112_4
				end
			end

			if arg_109_1.time_ >= var_112_1 + var_112_2 and arg_109_1.time_ < var_112_1 + var_112_2 + arg_112_0 and arg_109_1.var_.characterEffect1095ui_story then
				local var_112_5 = 0.5

				arg_109_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_109_1.var_.characterEffect1095ui_story.fillRatio = var_112_5
			end

			local var_112_6 = arg_109_1.actors_["10014ui_story"]
			local var_112_7 = 0

			if var_112_7 < arg_109_1.time_ and arg_109_1.time_ <= var_112_7 + arg_112_0 and arg_109_1.var_.characterEffect10014ui_story == nil then
				arg_109_1.var_.characterEffect10014ui_story = var_112_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_112_8 = 0.200000002980232

			if var_112_7 <= arg_109_1.time_ and arg_109_1.time_ < var_112_7 + var_112_8 then
				local var_112_9 = (arg_109_1.time_ - var_112_7) / var_112_8

				if arg_109_1.var_.characterEffect10014ui_story then
					arg_109_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_109_1.time_ >= var_112_7 + var_112_8 and arg_109_1.time_ < var_112_7 + var_112_8 + arg_112_0 and arg_109_1.var_.characterEffect10014ui_story then
				arg_109_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_112_10 = 0
			local var_112_11 = 0.25

			if var_112_10 < arg_109_1.time_ and arg_109_1.time_ <= var_112_10 + arg_112_0 then
				arg_109_1.talkMaxDuration = 0
				arg_109_1.dialogCg_.alpha = 1

				arg_109_1.dialog_:SetActive(true)
				SetActive(arg_109_1.leftNameGo_, true)

				local var_112_12 = arg_109_1:FormatText(StoryNameCfg[264].name)

				arg_109_1.leftNameTxt_.text = var_112_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_109_1.leftNameTxt_.transform)

				arg_109_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_109_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_109_1:RecordName(arg_109_1.leftNameTxt_.text)
				SetActive(arg_109_1.iconTrs_.gameObject, false)
				arg_109_1.callingController_:SetSelectedState("normal")

				local var_112_13 = arg_109_1:GetWordFromCfg(411121027)
				local var_112_14 = arg_109_1:FormatText(var_112_13.content)

				arg_109_1.text_.text = var_112_14

				LuaForUtil.ClearLinePrefixSymbol(arg_109_1.text_)

				local var_112_15 = 10
				local var_112_16 = utf8.len(var_112_14)
				local var_112_17 = var_112_15 <= 0 and var_112_11 or var_112_11 * (var_112_16 / var_112_15)

				if var_112_17 > 0 and var_112_11 < var_112_17 then
					arg_109_1.talkMaxDuration = var_112_17

					if var_112_17 + var_112_10 > arg_109_1.duration_ then
						arg_109_1.duration_ = var_112_17 + var_112_10
					end
				end

				arg_109_1.text_.text = var_112_14
				arg_109_1.typewritter.percent = 0

				arg_109_1.typewritter:SetDirty()
				arg_109_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121027", "story_v_out_411121.awb") ~= 0 then
					local var_112_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121027", "story_v_out_411121.awb") / 1000

					if var_112_18 + var_112_10 > arg_109_1.duration_ then
						arg_109_1.duration_ = var_112_18 + var_112_10
					end

					if var_112_13.prefab_name ~= "" and arg_109_1.actors_[var_112_13.prefab_name] ~= nil then
						local var_112_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_109_1.actors_[var_112_13.prefab_name].transform, "story_v_out_411121", "411121027", "story_v_out_411121.awb")

						arg_109_1:RecordAudio("411121027", var_112_19)
						arg_109_1:RecordAudio("411121027", var_112_19)
					else
						arg_109_1:AudioAction("play", "voice", "story_v_out_411121", "411121027", "story_v_out_411121.awb")
					end

					arg_109_1:RecordHistoryTalkVoice("story_v_out_411121", "411121027", "story_v_out_411121.awb")
				end

				arg_109_1:RecordContent(arg_109_1.text_.text)
			end

			local var_112_20 = math.max(var_112_11, arg_109_1.talkMaxDuration)

			if var_112_10 <= arg_109_1.time_ and arg_109_1.time_ < var_112_10 + var_112_20 then
				arg_109_1.typewritter.percent = (arg_109_1.time_ - var_112_10) / var_112_20

				arg_109_1.typewritter:SetDirty()
			end

			if arg_109_1.time_ >= var_112_10 + var_112_20 and arg_109_1.time_ < var_112_10 + var_112_20 + arg_112_0 then
				arg_109_1.typewritter.percent = 1

				arg_109_1.typewritter:SetDirty()
				arg_109_1:ShowNextGo(true)
			end
		end
	end,
	Play411121028 = function(arg_113_0, arg_113_1)
		arg_113_1.time_ = 0
		arg_113_1.frameCnt_ = 0
		arg_113_1.state_ = "playing"
		arg_113_1.curTalkId_ = 411121028
		arg_113_1.duration_ = 2.033

		local var_113_0 = {
			zh = 1.3,
			ja = 2.033
		}
		local var_113_1 = manager.audio:GetLocalizationFlag()

		if var_113_0[var_113_1] ~= nil then
			arg_113_1.duration_ = var_113_0[var_113_1]
		end

		SetActive(arg_113_1.tipsGo_, false)

		function arg_113_1.onSingleLineFinish_()
			arg_113_1.onSingleLineUpdate_ = nil
			arg_113_1.onSingleLineFinish_ = nil
			arg_113_1.state_ = "waiting"
		end

		function arg_113_1.playNext_(arg_115_0)
			if arg_115_0 == 1 then
				arg_113_0:Play411121029(arg_113_1)
			end
		end

		function arg_113_1.onSingleLineUpdate_(arg_116_0)
			local var_116_0 = arg_113_1.actors_["1095ui_story"].transform
			local var_116_1 = 0

			if var_116_1 < arg_113_1.time_ and arg_113_1.time_ <= var_116_1 + arg_116_0 then
				arg_113_1.var_.moveOldPos1095ui_story = var_116_0.localPosition
			end

			local var_116_2 = 0.001

			if var_116_1 <= arg_113_1.time_ and arg_113_1.time_ < var_116_1 + var_116_2 then
				local var_116_3 = (arg_113_1.time_ - var_116_1) / var_116_2
				local var_116_4 = Vector3.New(0.7, -0.98, -6.1)

				var_116_0.localPosition = Vector3.Lerp(arg_113_1.var_.moveOldPos1095ui_story, var_116_4, var_116_3)

				local var_116_5 = manager.ui.mainCamera.transform.position - var_116_0.position

				var_116_0.forward = Vector3.New(var_116_5.x, var_116_5.y, var_116_5.z)

				local var_116_6 = var_116_0.localEulerAngles

				var_116_6.z = 0
				var_116_6.x = 0
				var_116_0.localEulerAngles = var_116_6
			end

			if arg_113_1.time_ >= var_116_1 + var_116_2 and arg_113_1.time_ < var_116_1 + var_116_2 + arg_116_0 then
				var_116_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_116_7 = manager.ui.mainCamera.transform.position - var_116_0.position

				var_116_0.forward = Vector3.New(var_116_7.x, var_116_7.y, var_116_7.z)

				local var_116_8 = var_116_0.localEulerAngles

				var_116_8.z = 0
				var_116_8.x = 0
				var_116_0.localEulerAngles = var_116_8
			end

			local var_116_9 = arg_113_1.actors_["1095ui_story"]
			local var_116_10 = 0

			if var_116_10 < arg_113_1.time_ and arg_113_1.time_ <= var_116_10 + arg_116_0 and arg_113_1.var_.characterEffect1095ui_story == nil then
				arg_113_1.var_.characterEffect1095ui_story = var_116_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_116_11 = 0.200000002980232

			if var_116_10 <= arg_113_1.time_ and arg_113_1.time_ < var_116_10 + var_116_11 then
				local var_116_12 = (arg_113_1.time_ - var_116_10) / var_116_11

				if arg_113_1.var_.characterEffect1095ui_story then
					arg_113_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_113_1.time_ >= var_116_10 + var_116_11 and arg_113_1.time_ < var_116_10 + var_116_11 + arg_116_0 and arg_113_1.var_.characterEffect1095ui_story then
				arg_113_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_116_13 = arg_113_1.actors_["10014ui_story"]
			local var_116_14 = 0

			if var_116_14 < arg_113_1.time_ and arg_113_1.time_ <= var_116_14 + arg_116_0 and arg_113_1.var_.characterEffect10014ui_story == nil then
				arg_113_1.var_.characterEffect10014ui_story = var_116_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_116_15 = 0.200000002980232

			if var_116_14 <= arg_113_1.time_ and arg_113_1.time_ < var_116_14 + var_116_15 then
				local var_116_16 = (arg_113_1.time_ - var_116_14) / var_116_15

				if arg_113_1.var_.characterEffect10014ui_story then
					local var_116_17 = Mathf.Lerp(0, 0.5, var_116_16)

					arg_113_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_113_1.var_.characterEffect10014ui_story.fillRatio = var_116_17
				end
			end

			if arg_113_1.time_ >= var_116_14 + var_116_15 and arg_113_1.time_ < var_116_14 + var_116_15 + arg_116_0 and arg_113_1.var_.characterEffect10014ui_story then
				local var_116_18 = 0.5

				arg_113_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_113_1.var_.characterEffect10014ui_story.fillRatio = var_116_18
			end

			local var_116_19 = 0
			local var_116_20 = 0.125

			if var_116_19 < arg_113_1.time_ and arg_113_1.time_ <= var_116_19 + arg_116_0 then
				arg_113_1.talkMaxDuration = 0
				arg_113_1.dialogCg_.alpha = 1

				arg_113_1.dialog_:SetActive(true)
				SetActive(arg_113_1.leftNameGo_, true)

				local var_116_21 = arg_113_1:FormatText(StoryNameCfg[471].name)

				arg_113_1.leftNameTxt_.text = var_116_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_113_1.leftNameTxt_.transform)

				arg_113_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_113_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_113_1:RecordName(arg_113_1.leftNameTxt_.text)
				SetActive(arg_113_1.iconTrs_.gameObject, false)
				arg_113_1.callingController_:SetSelectedState("normal")

				local var_116_22 = arg_113_1:GetWordFromCfg(411121028)
				local var_116_23 = arg_113_1:FormatText(var_116_22.content)

				arg_113_1.text_.text = var_116_23

				LuaForUtil.ClearLinePrefixSymbol(arg_113_1.text_)

				local var_116_24 = 5
				local var_116_25 = utf8.len(var_116_23)
				local var_116_26 = var_116_24 <= 0 and var_116_20 or var_116_20 * (var_116_25 / var_116_24)

				if var_116_26 > 0 and var_116_20 < var_116_26 then
					arg_113_1.talkMaxDuration = var_116_26

					if var_116_26 + var_116_19 > arg_113_1.duration_ then
						arg_113_1.duration_ = var_116_26 + var_116_19
					end
				end

				arg_113_1.text_.text = var_116_23
				arg_113_1.typewritter.percent = 0

				arg_113_1.typewritter:SetDirty()
				arg_113_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121028", "story_v_out_411121.awb") ~= 0 then
					local var_116_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121028", "story_v_out_411121.awb") / 1000

					if var_116_27 + var_116_19 > arg_113_1.duration_ then
						arg_113_1.duration_ = var_116_27 + var_116_19
					end

					if var_116_22.prefab_name ~= "" and arg_113_1.actors_[var_116_22.prefab_name] ~= nil then
						local var_116_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_113_1.actors_[var_116_22.prefab_name].transform, "story_v_out_411121", "411121028", "story_v_out_411121.awb")

						arg_113_1:RecordAudio("411121028", var_116_28)
						arg_113_1:RecordAudio("411121028", var_116_28)
					else
						arg_113_1:AudioAction("play", "voice", "story_v_out_411121", "411121028", "story_v_out_411121.awb")
					end

					arg_113_1:RecordHistoryTalkVoice("story_v_out_411121", "411121028", "story_v_out_411121.awb")
				end

				arg_113_1:RecordContent(arg_113_1.text_.text)
			end

			local var_116_29 = math.max(var_116_20, arg_113_1.talkMaxDuration)

			if var_116_19 <= arg_113_1.time_ and arg_113_1.time_ < var_116_19 + var_116_29 then
				arg_113_1.typewritter.percent = (arg_113_1.time_ - var_116_19) / var_116_29

				arg_113_1.typewritter:SetDirty()
			end

			if arg_113_1.time_ >= var_116_19 + var_116_29 and arg_113_1.time_ < var_116_19 + var_116_29 + arg_116_0 then
				arg_113_1.typewritter.percent = 1

				arg_113_1.typewritter:SetDirty()
				arg_113_1:ShowNextGo(true)
			end
		end
	end,
	Play411121029 = function(arg_117_0, arg_117_1)
		arg_117_1.time_ = 0
		arg_117_1.frameCnt_ = 0
		arg_117_1.state_ = "playing"
		arg_117_1.curTalkId_ = 411121029
		arg_117_1.duration_ = 9.3

		local var_117_0 = {
			zh = 7.8,
			ja = 9.3
		}
		local var_117_1 = manager.audio:GetLocalizationFlag()

		if var_117_0[var_117_1] ~= nil then
			arg_117_1.duration_ = var_117_0[var_117_1]
		end

		SetActive(arg_117_1.tipsGo_, false)

		function arg_117_1.onSingleLineFinish_()
			arg_117_1.onSingleLineUpdate_ = nil
			arg_117_1.onSingleLineFinish_ = nil
			arg_117_1.state_ = "waiting"
		end

		function arg_117_1.playNext_(arg_119_0)
			if arg_119_0 == 1 then
				arg_117_0:Play411121030(arg_117_1)
			end
		end

		function arg_117_1.onSingleLineUpdate_(arg_120_0)
			local var_120_0 = arg_117_1.actors_["10014ui_story"].transform
			local var_120_1 = 0

			if var_120_1 < arg_117_1.time_ and arg_117_1.time_ <= var_120_1 + arg_120_0 then
				arg_117_1.var_.moveOldPos10014ui_story = var_120_0.localPosition
			end

			local var_120_2 = 0.001

			if var_120_1 <= arg_117_1.time_ and arg_117_1.time_ < var_120_1 + var_120_2 then
				local var_120_3 = (arg_117_1.time_ - var_120_1) / var_120_2
				local var_120_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_120_0.localPosition = Vector3.Lerp(arg_117_1.var_.moveOldPos10014ui_story, var_120_4, var_120_3)

				local var_120_5 = manager.ui.mainCamera.transform.position - var_120_0.position

				var_120_0.forward = Vector3.New(var_120_5.x, var_120_5.y, var_120_5.z)

				local var_120_6 = var_120_0.localEulerAngles

				var_120_6.z = 0
				var_120_6.x = 0
				var_120_0.localEulerAngles = var_120_6
			end

			if arg_117_1.time_ >= var_120_1 + var_120_2 and arg_117_1.time_ < var_120_1 + var_120_2 + arg_120_0 then
				var_120_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_120_7 = manager.ui.mainCamera.transform.position - var_120_0.position

				var_120_0.forward = Vector3.New(var_120_7.x, var_120_7.y, var_120_7.z)

				local var_120_8 = var_120_0.localEulerAngles

				var_120_8.z = 0
				var_120_8.x = 0
				var_120_0.localEulerAngles = var_120_8
			end

			local var_120_9 = arg_117_1.actors_["10014ui_story"]
			local var_120_10 = 0

			if var_120_10 < arg_117_1.time_ and arg_117_1.time_ <= var_120_10 + arg_120_0 and arg_117_1.var_.characterEffect10014ui_story == nil then
				arg_117_1.var_.characterEffect10014ui_story = var_120_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_120_11 = 0.200000002980232

			if var_120_10 <= arg_117_1.time_ and arg_117_1.time_ < var_120_10 + var_120_11 then
				local var_120_12 = (arg_117_1.time_ - var_120_10) / var_120_11

				if arg_117_1.var_.characterEffect10014ui_story then
					arg_117_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_117_1.time_ >= var_120_10 + var_120_11 and arg_117_1.time_ < var_120_10 + var_120_11 + arg_120_0 and arg_117_1.var_.characterEffect10014ui_story then
				arg_117_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_120_13 = 0

			if var_120_13 < arg_117_1.time_ and arg_117_1.time_ <= var_120_13 + arg_120_0 then
				arg_117_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action1_1")
			end

			local var_120_14 = 0

			if var_120_14 < arg_117_1.time_ and arg_117_1.time_ <= var_120_14 + arg_120_0 then
				arg_117_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_120_15 = arg_117_1.actors_["1095ui_story"]
			local var_120_16 = 0

			if var_120_16 < arg_117_1.time_ and arg_117_1.time_ <= var_120_16 + arg_120_0 and arg_117_1.var_.characterEffect1095ui_story == nil then
				arg_117_1.var_.characterEffect1095ui_story = var_120_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_120_17 = 0.200000002980232

			if var_120_16 <= arg_117_1.time_ and arg_117_1.time_ < var_120_16 + var_120_17 then
				local var_120_18 = (arg_117_1.time_ - var_120_16) / var_120_17

				if arg_117_1.var_.characterEffect1095ui_story then
					local var_120_19 = Mathf.Lerp(0, 0.5, var_120_18)

					arg_117_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_117_1.var_.characterEffect1095ui_story.fillRatio = var_120_19
				end
			end

			if arg_117_1.time_ >= var_120_16 + var_120_17 and arg_117_1.time_ < var_120_16 + var_120_17 + arg_120_0 and arg_117_1.var_.characterEffect1095ui_story then
				local var_120_20 = 0.5

				arg_117_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_117_1.var_.characterEffect1095ui_story.fillRatio = var_120_20
			end

			local var_120_21 = 0
			local var_120_22 = 0.925

			if var_120_21 < arg_117_1.time_ and arg_117_1.time_ <= var_120_21 + arg_120_0 then
				arg_117_1.talkMaxDuration = 0
				arg_117_1.dialogCg_.alpha = 1

				arg_117_1.dialog_:SetActive(true)
				SetActive(arg_117_1.leftNameGo_, true)

				local var_120_23 = arg_117_1:FormatText(StoryNameCfg[264].name)

				arg_117_1.leftNameTxt_.text = var_120_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_117_1.leftNameTxt_.transform)

				arg_117_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_117_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_117_1:RecordName(arg_117_1.leftNameTxt_.text)
				SetActive(arg_117_1.iconTrs_.gameObject, false)
				arg_117_1.callingController_:SetSelectedState("normal")

				local var_120_24 = arg_117_1:GetWordFromCfg(411121029)
				local var_120_25 = arg_117_1:FormatText(var_120_24.content)

				arg_117_1.text_.text = var_120_25

				LuaForUtil.ClearLinePrefixSymbol(arg_117_1.text_)

				local var_120_26 = 37
				local var_120_27 = utf8.len(var_120_25)
				local var_120_28 = var_120_26 <= 0 and var_120_22 or var_120_22 * (var_120_27 / var_120_26)

				if var_120_28 > 0 and var_120_22 < var_120_28 then
					arg_117_1.talkMaxDuration = var_120_28

					if var_120_28 + var_120_21 > arg_117_1.duration_ then
						arg_117_1.duration_ = var_120_28 + var_120_21
					end
				end

				arg_117_1.text_.text = var_120_25
				arg_117_1.typewritter.percent = 0

				arg_117_1.typewritter:SetDirty()
				arg_117_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121029", "story_v_out_411121.awb") ~= 0 then
					local var_120_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121029", "story_v_out_411121.awb") / 1000

					if var_120_29 + var_120_21 > arg_117_1.duration_ then
						arg_117_1.duration_ = var_120_29 + var_120_21
					end

					if var_120_24.prefab_name ~= "" and arg_117_1.actors_[var_120_24.prefab_name] ~= nil then
						local var_120_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_117_1.actors_[var_120_24.prefab_name].transform, "story_v_out_411121", "411121029", "story_v_out_411121.awb")

						arg_117_1:RecordAudio("411121029", var_120_30)
						arg_117_1:RecordAudio("411121029", var_120_30)
					else
						arg_117_1:AudioAction("play", "voice", "story_v_out_411121", "411121029", "story_v_out_411121.awb")
					end

					arg_117_1:RecordHistoryTalkVoice("story_v_out_411121", "411121029", "story_v_out_411121.awb")
				end

				arg_117_1:RecordContent(arg_117_1.text_.text)
			end

			local var_120_31 = math.max(var_120_22, arg_117_1.talkMaxDuration)

			if var_120_21 <= arg_117_1.time_ and arg_117_1.time_ < var_120_21 + var_120_31 then
				arg_117_1.typewritter.percent = (arg_117_1.time_ - var_120_21) / var_120_31

				arg_117_1.typewritter:SetDirty()
			end

			if arg_117_1.time_ >= var_120_21 + var_120_31 and arg_117_1.time_ < var_120_21 + var_120_31 + arg_120_0 then
				arg_117_1.typewritter.percent = 1

				arg_117_1.typewritter:SetDirty()
				arg_117_1:ShowNextGo(true)
			end
		end
	end,
	Play411121030 = function(arg_121_0, arg_121_1)
		arg_121_1.time_ = 0
		arg_121_1.frameCnt_ = 0
		arg_121_1.state_ = "playing"
		arg_121_1.curTalkId_ = 411121030
		arg_121_1.duration_ = 5.7

		local var_121_0 = {
			zh = 3.766,
			ja = 5.7
		}
		local var_121_1 = manager.audio:GetLocalizationFlag()

		if var_121_0[var_121_1] ~= nil then
			arg_121_1.duration_ = var_121_0[var_121_1]
		end

		SetActive(arg_121_1.tipsGo_, false)

		function arg_121_1.onSingleLineFinish_()
			arg_121_1.onSingleLineUpdate_ = nil
			arg_121_1.onSingleLineFinish_ = nil
			arg_121_1.state_ = "waiting"
		end

		function arg_121_1.playNext_(arg_123_0)
			if arg_123_0 == 1 then
				arg_121_0:Play411121031(arg_121_1)
			end
		end

		function arg_121_1.onSingleLineUpdate_(arg_124_0)
			local var_124_0 = 0
			local var_124_1 = 0.375

			if var_124_0 < arg_121_1.time_ and arg_121_1.time_ <= var_124_0 + arg_124_0 then
				arg_121_1.talkMaxDuration = 0
				arg_121_1.dialogCg_.alpha = 1

				arg_121_1.dialog_:SetActive(true)
				SetActive(arg_121_1.leftNameGo_, true)

				local var_124_2 = arg_121_1:FormatText(StoryNameCfg[264].name)

				arg_121_1.leftNameTxt_.text = var_124_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_121_1.leftNameTxt_.transform)

				arg_121_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_121_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_121_1:RecordName(arg_121_1.leftNameTxt_.text)
				SetActive(arg_121_1.iconTrs_.gameObject, false)
				arg_121_1.callingController_:SetSelectedState("normal")

				local var_124_3 = arg_121_1:GetWordFromCfg(411121030)
				local var_124_4 = arg_121_1:FormatText(var_124_3.content)

				arg_121_1.text_.text = var_124_4

				LuaForUtil.ClearLinePrefixSymbol(arg_121_1.text_)

				local var_124_5 = 15
				local var_124_6 = utf8.len(var_124_4)
				local var_124_7 = var_124_5 <= 0 and var_124_1 or var_124_1 * (var_124_6 / var_124_5)

				if var_124_7 > 0 and var_124_1 < var_124_7 then
					arg_121_1.talkMaxDuration = var_124_7

					if var_124_7 + var_124_0 > arg_121_1.duration_ then
						arg_121_1.duration_ = var_124_7 + var_124_0
					end
				end

				arg_121_1.text_.text = var_124_4
				arg_121_1.typewritter.percent = 0

				arg_121_1.typewritter:SetDirty()
				arg_121_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121030", "story_v_out_411121.awb") ~= 0 then
					local var_124_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121030", "story_v_out_411121.awb") / 1000

					if var_124_8 + var_124_0 > arg_121_1.duration_ then
						arg_121_1.duration_ = var_124_8 + var_124_0
					end

					if var_124_3.prefab_name ~= "" and arg_121_1.actors_[var_124_3.prefab_name] ~= nil then
						local var_124_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_121_1.actors_[var_124_3.prefab_name].transform, "story_v_out_411121", "411121030", "story_v_out_411121.awb")

						arg_121_1:RecordAudio("411121030", var_124_9)
						arg_121_1:RecordAudio("411121030", var_124_9)
					else
						arg_121_1:AudioAction("play", "voice", "story_v_out_411121", "411121030", "story_v_out_411121.awb")
					end

					arg_121_1:RecordHistoryTalkVoice("story_v_out_411121", "411121030", "story_v_out_411121.awb")
				end

				arg_121_1:RecordContent(arg_121_1.text_.text)
			end

			local var_124_10 = math.max(var_124_1, arg_121_1.talkMaxDuration)

			if var_124_0 <= arg_121_1.time_ and arg_121_1.time_ < var_124_0 + var_124_10 then
				arg_121_1.typewritter.percent = (arg_121_1.time_ - var_124_0) / var_124_10

				arg_121_1.typewritter:SetDirty()
			end

			if arg_121_1.time_ >= var_124_0 + var_124_10 and arg_121_1.time_ < var_124_0 + var_124_10 + arg_124_0 then
				arg_121_1.typewritter.percent = 1

				arg_121_1.typewritter:SetDirty()
				arg_121_1:ShowNextGo(true)
			end
		end
	end,
	Play411121031 = function(arg_125_0, arg_125_1)
		arg_125_1.time_ = 0
		arg_125_1.frameCnt_ = 0
		arg_125_1.state_ = "playing"
		arg_125_1.curTalkId_ = 411121031
		arg_125_1.duration_ = 5

		SetActive(arg_125_1.tipsGo_, false)

		function arg_125_1.onSingleLineFinish_()
			arg_125_1.onSingleLineUpdate_ = nil
			arg_125_1.onSingleLineFinish_ = nil
			arg_125_1.state_ = "waiting"
		end

		function arg_125_1.playNext_(arg_127_0)
			if arg_127_0 == 1 then
				arg_125_0:Play411121032(arg_125_1)
			end
		end

		function arg_125_1.onSingleLineUpdate_(arg_128_0)
			local var_128_0 = arg_125_1.actors_["10014ui_story"]
			local var_128_1 = 0

			if var_128_1 < arg_125_1.time_ and arg_125_1.time_ <= var_128_1 + arg_128_0 and arg_125_1.var_.characterEffect10014ui_story == nil then
				arg_125_1.var_.characterEffect10014ui_story = var_128_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_128_2 = 0.200000002980232

			if var_128_1 <= arg_125_1.time_ and arg_125_1.time_ < var_128_1 + var_128_2 then
				local var_128_3 = (arg_125_1.time_ - var_128_1) / var_128_2

				if arg_125_1.var_.characterEffect10014ui_story then
					local var_128_4 = Mathf.Lerp(0, 0.5, var_128_3)

					arg_125_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_125_1.var_.characterEffect10014ui_story.fillRatio = var_128_4
				end
			end

			if arg_125_1.time_ >= var_128_1 + var_128_2 and arg_125_1.time_ < var_128_1 + var_128_2 + arg_128_0 and arg_125_1.var_.characterEffect10014ui_story then
				local var_128_5 = 0.5

				arg_125_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_125_1.var_.characterEffect10014ui_story.fillRatio = var_128_5
			end

			local var_128_6 = 0
			local var_128_7 = 0.55

			if var_128_6 < arg_125_1.time_ and arg_125_1.time_ <= var_128_6 + arg_128_0 then
				arg_125_1.talkMaxDuration = 0
				arg_125_1.dialogCg_.alpha = 1

				arg_125_1.dialog_:SetActive(true)
				SetActive(arg_125_1.leftNameGo_, false)

				arg_125_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_125_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_125_1:RecordName(arg_125_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_125_1.iconTrs_.gameObject, false)
				arg_125_1.callingController_:SetSelectedState("normal")

				local var_128_8 = arg_125_1:GetWordFromCfg(411121031)
				local var_128_9 = arg_125_1:FormatText(var_128_8.content)

				arg_125_1.text_.text = var_128_9

				LuaForUtil.ClearLinePrefixSymbol(arg_125_1.text_)

				local var_128_10 = 22
				local var_128_11 = utf8.len(var_128_9)
				local var_128_12 = var_128_10 <= 0 and var_128_7 or var_128_7 * (var_128_11 / var_128_10)

				if var_128_12 > 0 and var_128_7 < var_128_12 then
					arg_125_1.talkMaxDuration = var_128_12

					if var_128_12 + var_128_6 > arg_125_1.duration_ then
						arg_125_1.duration_ = var_128_12 + var_128_6
					end
				end

				arg_125_1.text_.text = var_128_9
				arg_125_1.typewritter.percent = 0

				arg_125_1.typewritter:SetDirty()
				arg_125_1:ShowNextGo(false)
				arg_125_1:RecordContent(arg_125_1.text_.text)
			end

			local var_128_13 = math.max(var_128_7, arg_125_1.talkMaxDuration)

			if var_128_6 <= arg_125_1.time_ and arg_125_1.time_ < var_128_6 + var_128_13 then
				arg_125_1.typewritter.percent = (arg_125_1.time_ - var_128_6) / var_128_13

				arg_125_1.typewritter:SetDirty()
			end

			if arg_125_1.time_ >= var_128_6 + var_128_13 and arg_125_1.time_ < var_128_6 + var_128_13 + arg_128_0 then
				arg_125_1.typewritter.percent = 1

				arg_125_1.typewritter:SetDirty()
				arg_125_1:ShowNextGo(true)
			end
		end
	end,
	Play411121032 = function(arg_129_0, arg_129_1)
		arg_129_1.time_ = 0
		arg_129_1.frameCnt_ = 0
		arg_129_1.state_ = "playing"
		arg_129_1.curTalkId_ = 411121032
		arg_129_1.duration_ = 1.999999999999

		SetActive(arg_129_1.tipsGo_, false)

		function arg_129_1.onSingleLineFinish_()
			arg_129_1.onSingleLineUpdate_ = nil
			arg_129_1.onSingleLineFinish_ = nil
			arg_129_1.state_ = "waiting"
		end

		function arg_129_1.playNext_(arg_131_0)
			if arg_131_0 == 1 then
				arg_129_0:Play411121033(arg_129_1)
			end
		end

		function arg_129_1.onSingleLineUpdate_(arg_132_0)
			local var_132_0 = arg_129_1.actors_["1095ui_story"].transform
			local var_132_1 = 0

			if var_132_1 < arg_129_1.time_ and arg_129_1.time_ <= var_132_1 + arg_132_0 then
				arg_129_1.var_.moveOldPos1095ui_story = var_132_0.localPosition
			end

			local var_132_2 = 0.001

			if var_132_1 <= arg_129_1.time_ and arg_129_1.time_ < var_132_1 + var_132_2 then
				local var_132_3 = (arg_129_1.time_ - var_132_1) / var_132_2
				local var_132_4 = Vector3.New(0.7, -0.98, -6.1)

				var_132_0.localPosition = Vector3.Lerp(arg_129_1.var_.moveOldPos1095ui_story, var_132_4, var_132_3)

				local var_132_5 = manager.ui.mainCamera.transform.position - var_132_0.position

				var_132_0.forward = Vector3.New(var_132_5.x, var_132_5.y, var_132_5.z)

				local var_132_6 = var_132_0.localEulerAngles

				var_132_6.z = 0
				var_132_6.x = 0
				var_132_0.localEulerAngles = var_132_6
			end

			if arg_129_1.time_ >= var_132_1 + var_132_2 and arg_129_1.time_ < var_132_1 + var_132_2 + arg_132_0 then
				var_132_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_132_7 = manager.ui.mainCamera.transform.position - var_132_0.position

				var_132_0.forward = Vector3.New(var_132_7.x, var_132_7.y, var_132_7.z)

				local var_132_8 = var_132_0.localEulerAngles

				var_132_8.z = 0
				var_132_8.x = 0
				var_132_0.localEulerAngles = var_132_8
			end

			local var_132_9 = arg_129_1.actors_["1095ui_story"]
			local var_132_10 = 0

			if var_132_10 < arg_129_1.time_ and arg_129_1.time_ <= var_132_10 + arg_132_0 and arg_129_1.var_.characterEffect1095ui_story == nil then
				arg_129_1.var_.characterEffect1095ui_story = var_132_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_132_11 = 0.200000002980232

			if var_132_10 <= arg_129_1.time_ and arg_129_1.time_ < var_132_10 + var_132_11 then
				local var_132_12 = (arg_129_1.time_ - var_132_10) / var_132_11

				if arg_129_1.var_.characterEffect1095ui_story then
					arg_129_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_129_1.time_ >= var_132_10 + var_132_11 and arg_129_1.time_ < var_132_10 + var_132_11 + arg_132_0 and arg_129_1.var_.characterEffect1095ui_story then
				arg_129_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_132_13 = 0

			if var_132_13 < arg_129_1.time_ and arg_129_1.time_ <= var_132_13 + arg_132_0 then
				arg_129_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action3_2")
			end

			local var_132_14 = 0

			if var_132_14 < arg_129_1.time_ and arg_129_1.time_ <= var_132_14 + arg_132_0 then
				arg_129_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_132_15 = 0
			local var_132_16 = 0.1

			if var_132_15 < arg_129_1.time_ and arg_129_1.time_ <= var_132_15 + arg_132_0 then
				arg_129_1.talkMaxDuration = 0
				arg_129_1.dialogCg_.alpha = 1

				arg_129_1.dialog_:SetActive(true)
				SetActive(arg_129_1.leftNameGo_, true)

				local var_132_17 = arg_129_1:FormatText(StoryNameCfg[471].name)

				arg_129_1.leftNameTxt_.text = var_132_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_129_1.leftNameTxt_.transform)

				arg_129_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_129_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_129_1:RecordName(arg_129_1.leftNameTxt_.text)
				SetActive(arg_129_1.iconTrs_.gameObject, false)
				arg_129_1.callingController_:SetSelectedState("normal")

				local var_132_18 = arg_129_1:GetWordFromCfg(411121032)
				local var_132_19 = arg_129_1:FormatText(var_132_18.content)

				arg_129_1.text_.text = var_132_19

				LuaForUtil.ClearLinePrefixSymbol(arg_129_1.text_)

				local var_132_20 = 4
				local var_132_21 = utf8.len(var_132_19)
				local var_132_22 = var_132_20 <= 0 and var_132_16 or var_132_16 * (var_132_21 / var_132_20)

				if var_132_22 > 0 and var_132_16 < var_132_22 then
					arg_129_1.talkMaxDuration = var_132_22

					if var_132_22 + var_132_15 > arg_129_1.duration_ then
						arg_129_1.duration_ = var_132_22 + var_132_15
					end
				end

				arg_129_1.text_.text = var_132_19
				arg_129_1.typewritter.percent = 0

				arg_129_1.typewritter:SetDirty()
				arg_129_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121032", "story_v_out_411121.awb") ~= 0 then
					local var_132_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121032", "story_v_out_411121.awb") / 1000

					if var_132_23 + var_132_15 > arg_129_1.duration_ then
						arg_129_1.duration_ = var_132_23 + var_132_15
					end

					if var_132_18.prefab_name ~= "" and arg_129_1.actors_[var_132_18.prefab_name] ~= nil then
						local var_132_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_129_1.actors_[var_132_18.prefab_name].transform, "story_v_out_411121", "411121032", "story_v_out_411121.awb")

						arg_129_1:RecordAudio("411121032", var_132_24)
						arg_129_1:RecordAudio("411121032", var_132_24)
					else
						arg_129_1:AudioAction("play", "voice", "story_v_out_411121", "411121032", "story_v_out_411121.awb")
					end

					arg_129_1:RecordHistoryTalkVoice("story_v_out_411121", "411121032", "story_v_out_411121.awb")
				end

				arg_129_1:RecordContent(arg_129_1.text_.text)
			end

			local var_132_25 = math.max(var_132_16, arg_129_1.talkMaxDuration)

			if var_132_15 <= arg_129_1.time_ and arg_129_1.time_ < var_132_15 + var_132_25 then
				arg_129_1.typewritter.percent = (arg_129_1.time_ - var_132_15) / var_132_25

				arg_129_1.typewritter:SetDirty()
			end

			if arg_129_1.time_ >= var_132_15 + var_132_25 and arg_129_1.time_ < var_132_15 + var_132_25 + arg_132_0 then
				arg_129_1.typewritter.percent = 1

				arg_129_1.typewritter:SetDirty()
				arg_129_1:ShowNextGo(true)
			end
		end
	end,
	Play411121033 = function(arg_133_0, arg_133_1)
		arg_133_1.time_ = 0
		arg_133_1.frameCnt_ = 0
		arg_133_1.state_ = "playing"
		arg_133_1.curTalkId_ = 411121033
		arg_133_1.duration_ = 7.949999999999

		SetActive(arg_133_1.tipsGo_, false)

		function arg_133_1.onSingleLineFinish_()
			arg_133_1.onSingleLineUpdate_ = nil
			arg_133_1.onSingleLineFinish_ = nil
			arg_133_1.state_ = "waiting"
		end

		function arg_133_1.playNext_(arg_135_0)
			if arg_135_0 == 1 then
				arg_133_0:Play411121034(arg_133_1)
			end
		end

		function arg_133_1.onSingleLineUpdate_(arg_136_0)
			local var_136_0 = "STblack"

			if arg_133_1.bgs_[var_136_0] == nil then
				local var_136_1 = Object.Instantiate(arg_133_1.paintGo_)

				var_136_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_136_0)
				var_136_1.name = var_136_0
				var_136_1.transform.parent = arg_133_1.stage_.transform
				var_136_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_133_1.bgs_[var_136_0] = var_136_1
			end

			local var_136_2 = 2

			if var_136_2 < arg_133_1.time_ and arg_133_1.time_ <= var_136_2 + arg_136_0 then
				local var_136_3 = manager.ui.mainCamera.transform.localPosition
				local var_136_4 = Vector3.New(0, 0, 10) + Vector3.New(var_136_3.x, var_136_3.y, 0)
				local var_136_5 = arg_133_1.bgs_.STblack

				var_136_5.transform.localPosition = var_136_4
				var_136_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_136_6 = var_136_5:GetComponent("SpriteRenderer")

				if var_136_6 and var_136_6.sprite then
					local var_136_7 = (var_136_5.transform.localPosition - var_136_3).z
					local var_136_8 = manager.ui.mainCameraCom_
					local var_136_9 = 2 * var_136_7 * Mathf.Tan(var_136_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_136_10 = var_136_9 * var_136_8.aspect
					local var_136_11 = var_136_6.sprite.bounds.size.x
					local var_136_12 = var_136_6.sprite.bounds.size.y
					local var_136_13 = var_136_10 / var_136_11
					local var_136_14 = var_136_9 / var_136_12
					local var_136_15 = var_136_14 < var_136_13 and var_136_13 or var_136_14

					var_136_5.transform.localScale = Vector3.New(var_136_15, var_136_15, 0)
				end

				for iter_136_0, iter_136_1 in pairs(arg_133_1.bgs_) do
					if iter_136_0 ~= "STblack" then
						iter_136_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_136_16 = 0

			if var_136_16 < arg_133_1.time_ and arg_133_1.time_ <= var_136_16 + arg_136_0 then
				local var_136_17 = manager.ui.mainCamera.transform.localPosition
				local var_136_18 = Vector3.New(0, 0, 10) + Vector3.New(var_136_17.x, var_136_17.y, 0)
				local var_136_19 = arg_133_1.bgs_.B04f

				var_136_19.transform.localPosition = var_136_18
				var_136_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_136_20 = var_136_19:GetComponent("SpriteRenderer")

				if var_136_20 and var_136_20.sprite then
					local var_136_21 = (var_136_19.transform.localPosition - var_136_17).z
					local var_136_22 = manager.ui.mainCameraCom_
					local var_136_23 = 2 * var_136_21 * Mathf.Tan(var_136_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_136_24 = var_136_23 * var_136_22.aspect
					local var_136_25 = var_136_20.sprite.bounds.size.x
					local var_136_26 = var_136_20.sprite.bounds.size.y
					local var_136_27 = var_136_24 / var_136_25
					local var_136_28 = var_136_23 / var_136_26
					local var_136_29 = var_136_28 < var_136_27 and var_136_27 or var_136_28

					var_136_19.transform.localScale = Vector3.New(var_136_29, var_136_29, 0)
				end

				for iter_136_2, iter_136_3 in pairs(arg_133_1.bgs_) do
					if iter_136_2 ~= "B04f" then
						iter_136_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_136_30 = 0

			if var_136_30 < arg_133_1.time_ and arg_133_1.time_ <= var_136_30 + arg_136_0 then
				arg_133_1.mask_.enabled = true
				arg_133_1.mask_.raycastTarget = true

				arg_133_1:SetGaussion(false)
			end

			local var_136_31 = 2

			if var_136_30 <= arg_133_1.time_ and arg_133_1.time_ < var_136_30 + var_136_31 then
				local var_136_32 = (arg_133_1.time_ - var_136_30) / var_136_31
				local var_136_33 = Color.New(0, 0, 0)

				var_136_33.a = Mathf.Lerp(0, 1, var_136_32)
				arg_133_1.mask_.color = var_136_33
			end

			if arg_133_1.time_ >= var_136_30 + var_136_31 and arg_133_1.time_ < var_136_30 + var_136_31 + arg_136_0 then
				local var_136_34 = Color.New(0, 0, 0)

				var_136_34.a = 1
				arg_133_1.mask_.color = var_136_34
			end

			local var_136_35 = 2

			if var_136_35 < arg_133_1.time_ and arg_133_1.time_ <= var_136_35 + arg_136_0 then
				arg_133_1.mask_.enabled = true
				arg_133_1.mask_.raycastTarget = true

				arg_133_1:SetGaussion(false)
			end

			local var_136_36 = 0.949999999999

			if var_136_35 <= arg_133_1.time_ and arg_133_1.time_ < var_136_35 + var_136_36 then
				local var_136_37 = (arg_133_1.time_ - var_136_35) / var_136_36
				local var_136_38 = Color.New(0, 0, 0)

				var_136_38.a = Mathf.Lerp(1, 0, var_136_37)
				arg_133_1.mask_.color = var_136_38
			end

			if arg_133_1.time_ >= var_136_35 + var_136_36 and arg_133_1.time_ < var_136_35 + var_136_36 + arg_136_0 then
				local var_136_39 = Color.New(0, 0, 0)
				local var_136_40 = 0

				arg_133_1.mask_.enabled = false
				var_136_39.a = var_136_40
				arg_133_1.mask_.color = var_136_39
			end

			local var_136_41 = arg_133_1.actors_["1095ui_story"].transform
			local var_136_42 = 1.999999999999

			if var_136_42 < arg_133_1.time_ and arg_133_1.time_ <= var_136_42 + arg_136_0 then
				arg_133_1.var_.moveOldPos1095ui_story = var_136_41.localPosition
			end

			local var_136_43 = 0.001

			if var_136_42 <= arg_133_1.time_ and arg_133_1.time_ < var_136_42 + var_136_43 then
				local var_136_44 = (arg_133_1.time_ - var_136_42) / var_136_43
				local var_136_45 = Vector3.New(0, 100, 0)

				var_136_41.localPosition = Vector3.Lerp(arg_133_1.var_.moveOldPos1095ui_story, var_136_45, var_136_44)

				local var_136_46 = manager.ui.mainCamera.transform.position - var_136_41.position

				var_136_41.forward = Vector3.New(var_136_46.x, var_136_46.y, var_136_46.z)

				local var_136_47 = var_136_41.localEulerAngles

				var_136_47.z = 0
				var_136_47.x = 0
				var_136_41.localEulerAngles = var_136_47
			end

			if arg_133_1.time_ >= var_136_42 + var_136_43 and arg_133_1.time_ < var_136_42 + var_136_43 + arg_136_0 then
				var_136_41.localPosition = Vector3.New(0, 100, 0)

				local var_136_48 = manager.ui.mainCamera.transform.position - var_136_41.position

				var_136_41.forward = Vector3.New(var_136_48.x, var_136_48.y, var_136_48.z)

				local var_136_49 = var_136_41.localEulerAngles

				var_136_49.z = 0
				var_136_49.x = 0
				var_136_41.localEulerAngles = var_136_49
			end

			local var_136_50 = arg_133_1.actors_["1095ui_story"]
			local var_136_51 = 1.999999999999

			if var_136_51 < arg_133_1.time_ and arg_133_1.time_ <= var_136_51 + arg_136_0 and arg_133_1.var_.characterEffect1095ui_story == nil then
				arg_133_1.var_.characterEffect1095ui_story = var_136_50:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_136_52 = 0.200000002980232

			if var_136_51 <= arg_133_1.time_ and arg_133_1.time_ < var_136_51 + var_136_52 then
				local var_136_53 = (arg_133_1.time_ - var_136_51) / var_136_52

				if arg_133_1.var_.characterEffect1095ui_story then
					local var_136_54 = Mathf.Lerp(0, 0.5, var_136_53)

					arg_133_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_133_1.var_.characterEffect1095ui_story.fillRatio = var_136_54
				end
			end

			if arg_133_1.time_ >= var_136_51 + var_136_52 and arg_133_1.time_ < var_136_51 + var_136_52 + arg_136_0 and arg_133_1.var_.characterEffect1095ui_story then
				local var_136_55 = 0.5

				arg_133_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_133_1.var_.characterEffect1095ui_story.fillRatio = var_136_55
			end

			local var_136_56 = arg_133_1.actors_["10014ui_story"].transform
			local var_136_57 = 1.999999999999

			if var_136_57 < arg_133_1.time_ and arg_133_1.time_ <= var_136_57 + arg_136_0 then
				arg_133_1.var_.moveOldPos10014ui_story = var_136_56.localPosition
			end

			local var_136_58 = 0.001

			if var_136_57 <= arg_133_1.time_ and arg_133_1.time_ < var_136_57 + var_136_58 then
				local var_136_59 = (arg_133_1.time_ - var_136_57) / var_136_58
				local var_136_60 = Vector3.New(0, 100, 0)

				var_136_56.localPosition = Vector3.Lerp(arg_133_1.var_.moveOldPos10014ui_story, var_136_60, var_136_59)

				local var_136_61 = manager.ui.mainCamera.transform.position - var_136_56.position

				var_136_56.forward = Vector3.New(var_136_61.x, var_136_61.y, var_136_61.z)

				local var_136_62 = var_136_56.localEulerAngles

				var_136_62.z = 0
				var_136_62.x = 0
				var_136_56.localEulerAngles = var_136_62
			end

			if arg_133_1.time_ >= var_136_57 + var_136_58 and arg_133_1.time_ < var_136_57 + var_136_58 + arg_136_0 then
				var_136_56.localPosition = Vector3.New(0, 100, 0)

				local var_136_63 = manager.ui.mainCamera.transform.position - var_136_56.position

				var_136_56.forward = Vector3.New(var_136_63.x, var_136_63.y, var_136_63.z)

				local var_136_64 = var_136_56.localEulerAngles

				var_136_64.z = 0
				var_136_64.x = 0
				var_136_56.localEulerAngles = var_136_64
			end

			local var_136_65 = arg_133_1.actors_["10014ui_story"]
			local var_136_66 = 1.999999999999

			if var_136_66 < arg_133_1.time_ and arg_133_1.time_ <= var_136_66 + arg_136_0 and arg_133_1.var_.characterEffect10014ui_story == nil then
				arg_133_1.var_.characterEffect10014ui_story = var_136_65:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_136_67 = 0.200000002980232

			if var_136_66 <= arg_133_1.time_ and arg_133_1.time_ < var_136_66 + var_136_67 then
				local var_136_68 = (arg_133_1.time_ - var_136_66) / var_136_67

				if arg_133_1.var_.characterEffect10014ui_story then
					local var_136_69 = Mathf.Lerp(0, 0.5, var_136_68)

					arg_133_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_133_1.var_.characterEffect10014ui_story.fillRatio = var_136_69
				end
			end

			if arg_133_1.time_ >= var_136_66 + var_136_67 and arg_133_1.time_ < var_136_66 + var_136_67 + arg_136_0 and arg_133_1.var_.characterEffect10014ui_story then
				local var_136_70 = 0.5

				arg_133_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_133_1.var_.characterEffect10014ui_story.fillRatio = var_136_70
			end

			local var_136_71 = 0
			local var_136_72 = 0.366666666666667

			if var_136_71 < arg_133_1.time_ and arg_133_1.time_ <= var_136_71 + arg_136_0 then
				local var_136_73 = "play"
				local var_136_74 = "music"

				arg_133_1:AudioAction(var_136_73, var_136_74, "ui_battle", "ui_battle_stopbgm", "")
			end

			if arg_133_1.frameCnt_ <= 1 then
				arg_133_1.dialog_:SetActive(false)
			end

			local var_136_75 = 2.949999999999
			local var_136_76 = 1.05

			if var_136_75 < arg_133_1.time_ and arg_133_1.time_ <= var_136_75 + arg_136_0 then
				arg_133_1.talkMaxDuration = 0

				arg_133_1.dialog_:SetActive(true)

				local var_136_77 = LeanTween.value(arg_133_1.dialog_, 0, 1, 0.3)

				var_136_77:setOnUpdate(LuaHelper.FloatAction(function(arg_137_0)
					arg_133_1.dialogCg_.alpha = arg_137_0
				end))
				var_136_77:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_133_1.dialog_)
					var_136_77:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_133_1.duration_ = arg_133_1.duration_ + 0.3

				SetActive(arg_133_1.leftNameGo_, false)

				arg_133_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_133_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_133_1:RecordName(arg_133_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_133_1.iconTrs_.gameObject, false)
				arg_133_1.callingController_:SetSelectedState("normal")

				local var_136_78 = arg_133_1:GetWordFromCfg(411121033)
				local var_136_79 = arg_133_1:FormatText(var_136_78.content)

				arg_133_1.text_.text = var_136_79

				LuaForUtil.ClearLinePrefixSymbol(arg_133_1.text_)

				local var_136_80 = 42
				local var_136_81 = utf8.len(var_136_79)
				local var_136_82 = var_136_80 <= 0 and var_136_76 or var_136_76 * (var_136_81 / var_136_80)

				if var_136_82 > 0 and var_136_76 < var_136_82 then
					arg_133_1.talkMaxDuration = var_136_82
					var_136_75 = var_136_75 + 0.3

					if var_136_82 + var_136_75 > arg_133_1.duration_ then
						arg_133_1.duration_ = var_136_82 + var_136_75
					end
				end

				arg_133_1.text_.text = var_136_79
				arg_133_1.typewritter.percent = 0

				arg_133_1.typewritter:SetDirty()
				arg_133_1:ShowNextGo(false)
				arg_133_1:RecordContent(arg_133_1.text_.text)
			end

			local var_136_83 = var_136_75 + 0.3
			local var_136_84 = math.max(var_136_76, arg_133_1.talkMaxDuration)

			if var_136_83 <= arg_133_1.time_ and arg_133_1.time_ < var_136_83 + var_136_84 then
				arg_133_1.typewritter.percent = (arg_133_1.time_ - var_136_83) / var_136_84

				arg_133_1.typewritter:SetDirty()
			end

			if arg_133_1.time_ >= var_136_83 + var_136_84 and arg_133_1.time_ < var_136_83 + var_136_84 + arg_136_0 then
				arg_133_1.typewritter.percent = 1

				arg_133_1.typewritter:SetDirty()
				arg_133_1:ShowNextGo(true)
			end
		end
	end,
	Play411121034 = function(arg_139_0, arg_139_1)
		arg_139_1.time_ = 0
		arg_139_1.frameCnt_ = 0
		arg_139_1.state_ = "playing"
		arg_139_1.curTalkId_ = 411121034
		arg_139_1.duration_ = 5

		SetActive(arg_139_1.tipsGo_, false)

		function arg_139_1.onSingleLineFinish_()
			arg_139_1.onSingleLineUpdate_ = nil
			arg_139_1.onSingleLineFinish_ = nil
			arg_139_1.state_ = "waiting"
		end

		function arg_139_1.playNext_(arg_141_0)
			if arg_141_0 == 1 then
				arg_139_0:Play411121035(arg_139_1)
			end
		end

		function arg_139_1.onSingleLineUpdate_(arg_142_0)
			local var_142_0 = 0
			local var_142_1 = 1.125

			if var_142_0 < arg_139_1.time_ and arg_139_1.time_ <= var_142_0 + arg_142_0 then
				arg_139_1.talkMaxDuration = 0
				arg_139_1.dialogCg_.alpha = 1

				arg_139_1.dialog_:SetActive(true)
				SetActive(arg_139_1.leftNameGo_, false)

				arg_139_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_139_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_139_1:RecordName(arg_139_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_139_1.iconTrs_.gameObject, false)
				arg_139_1.callingController_:SetSelectedState("normal")

				local var_142_2 = arg_139_1:GetWordFromCfg(411121034)
				local var_142_3 = arg_139_1:FormatText(var_142_2.content)

				arg_139_1.text_.text = var_142_3

				LuaForUtil.ClearLinePrefixSymbol(arg_139_1.text_)

				local var_142_4 = 45
				local var_142_5 = utf8.len(var_142_3)
				local var_142_6 = var_142_4 <= 0 and var_142_1 or var_142_1 * (var_142_5 / var_142_4)

				if var_142_6 > 0 and var_142_1 < var_142_6 then
					arg_139_1.talkMaxDuration = var_142_6

					if var_142_6 + var_142_0 > arg_139_1.duration_ then
						arg_139_1.duration_ = var_142_6 + var_142_0
					end
				end

				arg_139_1.text_.text = var_142_3
				arg_139_1.typewritter.percent = 0

				arg_139_1.typewritter:SetDirty()
				arg_139_1:ShowNextGo(false)
				arg_139_1:RecordContent(arg_139_1.text_.text)
			end

			local var_142_7 = math.max(var_142_1, arg_139_1.talkMaxDuration)

			if var_142_0 <= arg_139_1.time_ and arg_139_1.time_ < var_142_0 + var_142_7 then
				arg_139_1.typewritter.percent = (arg_139_1.time_ - var_142_0) / var_142_7

				arg_139_1.typewritter:SetDirty()
			end

			if arg_139_1.time_ >= var_142_0 + var_142_7 and arg_139_1.time_ < var_142_0 + var_142_7 + arg_142_0 then
				arg_139_1.typewritter.percent = 1

				arg_139_1.typewritter:SetDirty()
				arg_139_1:ShowNextGo(true)
			end
		end
	end,
	Play411121035 = function(arg_143_0, arg_143_1)
		arg_143_1.time_ = 0
		arg_143_1.frameCnt_ = 0
		arg_143_1.state_ = "playing"
		arg_143_1.curTalkId_ = 411121035
		arg_143_1.duration_ = 3.8

		local var_143_0 = {
			zh = 2.766,
			ja = 3.8
		}
		local var_143_1 = manager.audio:GetLocalizationFlag()

		if var_143_0[var_143_1] ~= nil then
			arg_143_1.duration_ = var_143_0[var_143_1]
		end

		SetActive(arg_143_1.tipsGo_, false)

		function arg_143_1.onSingleLineFinish_()
			arg_143_1.onSingleLineUpdate_ = nil
			arg_143_1.onSingleLineFinish_ = nil
			arg_143_1.state_ = "waiting"
		end

		function arg_143_1.playNext_(arg_145_0)
			if arg_145_0 == 1 then
				arg_143_0:Play411121036(arg_143_1)
			end
		end

		function arg_143_1.onSingleLineUpdate_(arg_146_0)
			local var_146_0 = arg_143_1.actors_["1095ui_story"].transform
			local var_146_1 = 0

			if var_146_1 < arg_143_1.time_ and arg_143_1.time_ <= var_146_1 + arg_146_0 then
				arg_143_1.var_.moveOldPos1095ui_story = var_146_0.localPosition
			end

			local var_146_2 = 0.001

			if var_146_1 <= arg_143_1.time_ and arg_143_1.time_ < var_146_1 + var_146_2 then
				local var_146_3 = (arg_143_1.time_ - var_146_1) / var_146_2
				local var_146_4 = Vector3.New(0, -0.98, -6.1)

				var_146_0.localPosition = Vector3.Lerp(arg_143_1.var_.moveOldPos1095ui_story, var_146_4, var_146_3)

				local var_146_5 = manager.ui.mainCamera.transform.position - var_146_0.position

				var_146_0.forward = Vector3.New(var_146_5.x, var_146_5.y, var_146_5.z)

				local var_146_6 = var_146_0.localEulerAngles

				var_146_6.z = 0
				var_146_6.x = 0
				var_146_0.localEulerAngles = var_146_6
			end

			if arg_143_1.time_ >= var_146_1 + var_146_2 and arg_143_1.time_ < var_146_1 + var_146_2 + arg_146_0 then
				var_146_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_146_7 = manager.ui.mainCamera.transform.position - var_146_0.position

				var_146_0.forward = Vector3.New(var_146_7.x, var_146_7.y, var_146_7.z)

				local var_146_8 = var_146_0.localEulerAngles

				var_146_8.z = 0
				var_146_8.x = 0
				var_146_0.localEulerAngles = var_146_8
			end

			local var_146_9 = arg_143_1.actors_["1095ui_story"]
			local var_146_10 = 0

			if var_146_10 < arg_143_1.time_ and arg_143_1.time_ <= var_146_10 + arg_146_0 and arg_143_1.var_.characterEffect1095ui_story == nil then
				arg_143_1.var_.characterEffect1095ui_story = var_146_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_146_11 = 0.200000002980232

			if var_146_10 <= arg_143_1.time_ and arg_143_1.time_ < var_146_10 + var_146_11 then
				local var_146_12 = (arg_143_1.time_ - var_146_10) / var_146_11

				if arg_143_1.var_.characterEffect1095ui_story then
					arg_143_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_143_1.time_ >= var_146_10 + var_146_11 and arg_143_1.time_ < var_146_10 + var_146_11 + arg_146_0 and arg_143_1.var_.characterEffect1095ui_story then
				arg_143_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_146_13 = 0

			if var_146_13 < arg_143_1.time_ and arg_143_1.time_ <= var_146_13 + arg_146_0 then
				arg_143_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_146_14 = 0

			if var_146_14 < arg_143_1.time_ and arg_143_1.time_ <= var_146_14 + arg_146_0 then
				arg_143_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_146_15 = 0
			local var_146_16 = 0.45

			if var_146_15 < arg_143_1.time_ and arg_143_1.time_ <= var_146_15 + arg_146_0 then
				arg_143_1.talkMaxDuration = 0
				arg_143_1.dialogCg_.alpha = 1

				arg_143_1.dialog_:SetActive(true)
				SetActive(arg_143_1.leftNameGo_, true)

				local var_146_17 = arg_143_1:FormatText(StoryNameCfg[471].name)

				arg_143_1.leftNameTxt_.text = var_146_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_143_1.leftNameTxt_.transform)

				arg_143_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_143_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_143_1:RecordName(arg_143_1.leftNameTxt_.text)
				SetActive(arg_143_1.iconTrs_.gameObject, false)
				arg_143_1.callingController_:SetSelectedState("normal")

				local var_146_18 = arg_143_1:GetWordFromCfg(411121035)
				local var_146_19 = arg_143_1:FormatText(var_146_18.content)

				arg_143_1.text_.text = var_146_19

				LuaForUtil.ClearLinePrefixSymbol(arg_143_1.text_)

				local var_146_20 = 18
				local var_146_21 = utf8.len(var_146_19)
				local var_146_22 = var_146_20 <= 0 and var_146_16 or var_146_16 * (var_146_21 / var_146_20)

				if var_146_22 > 0 and var_146_16 < var_146_22 then
					arg_143_1.talkMaxDuration = var_146_22

					if var_146_22 + var_146_15 > arg_143_1.duration_ then
						arg_143_1.duration_ = var_146_22 + var_146_15
					end
				end

				arg_143_1.text_.text = var_146_19
				arg_143_1.typewritter.percent = 0

				arg_143_1.typewritter:SetDirty()
				arg_143_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121035", "story_v_out_411121.awb") ~= 0 then
					local var_146_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121035", "story_v_out_411121.awb") / 1000

					if var_146_23 + var_146_15 > arg_143_1.duration_ then
						arg_143_1.duration_ = var_146_23 + var_146_15
					end

					if var_146_18.prefab_name ~= "" and arg_143_1.actors_[var_146_18.prefab_name] ~= nil then
						local var_146_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_143_1.actors_[var_146_18.prefab_name].transform, "story_v_out_411121", "411121035", "story_v_out_411121.awb")

						arg_143_1:RecordAudio("411121035", var_146_24)
						arg_143_1:RecordAudio("411121035", var_146_24)
					else
						arg_143_1:AudioAction("play", "voice", "story_v_out_411121", "411121035", "story_v_out_411121.awb")
					end

					arg_143_1:RecordHistoryTalkVoice("story_v_out_411121", "411121035", "story_v_out_411121.awb")
				end

				arg_143_1:RecordContent(arg_143_1.text_.text)
			end

			local var_146_25 = math.max(var_146_16, arg_143_1.talkMaxDuration)

			if var_146_15 <= arg_143_1.time_ and arg_143_1.time_ < var_146_15 + var_146_25 then
				arg_143_1.typewritter.percent = (arg_143_1.time_ - var_146_15) / var_146_25

				arg_143_1.typewritter:SetDirty()
			end

			if arg_143_1.time_ >= var_146_15 + var_146_25 and arg_143_1.time_ < var_146_15 + var_146_25 + arg_146_0 then
				arg_143_1.typewritter.percent = 1

				arg_143_1.typewritter:SetDirty()
				arg_143_1:ShowNextGo(true)
			end
		end
	end,
	Play411121036 = function(arg_147_0, arg_147_1)
		arg_147_1.time_ = 0
		arg_147_1.frameCnt_ = 0
		arg_147_1.state_ = "playing"
		arg_147_1.curTalkId_ = 411121036
		arg_147_1.duration_ = 3.7

		local var_147_0 = {
			zh = 3.7,
			ja = 3.6
		}
		local var_147_1 = manager.audio:GetLocalizationFlag()

		if var_147_0[var_147_1] ~= nil then
			arg_147_1.duration_ = var_147_0[var_147_1]
		end

		SetActive(arg_147_1.tipsGo_, false)

		function arg_147_1.onSingleLineFinish_()
			arg_147_1.onSingleLineUpdate_ = nil
			arg_147_1.onSingleLineFinish_ = nil
			arg_147_1.state_ = "waiting"
		end

		function arg_147_1.playNext_(arg_149_0)
			if arg_149_0 == 1 then
				arg_147_0:Play411121037(arg_147_1)
			end
		end

		function arg_147_1.onSingleLineUpdate_(arg_150_0)
			local var_150_0 = 0
			local var_150_1 = 0.5

			if var_150_0 < arg_147_1.time_ and arg_147_1.time_ <= var_150_0 + arg_150_0 then
				arg_147_1.talkMaxDuration = 0
				arg_147_1.dialogCg_.alpha = 1

				arg_147_1.dialog_:SetActive(true)
				SetActive(arg_147_1.leftNameGo_, true)

				local var_150_2 = arg_147_1:FormatText(StoryNameCfg[471].name)

				arg_147_1.leftNameTxt_.text = var_150_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_147_1.leftNameTxt_.transform)

				arg_147_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_147_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_147_1:RecordName(arg_147_1.leftNameTxt_.text)
				SetActive(arg_147_1.iconTrs_.gameObject, false)
				arg_147_1.callingController_:SetSelectedState("normal")

				local var_150_3 = arg_147_1:GetWordFromCfg(411121036)
				local var_150_4 = arg_147_1:FormatText(var_150_3.content)

				arg_147_1.text_.text = var_150_4

				LuaForUtil.ClearLinePrefixSymbol(arg_147_1.text_)

				local var_150_5 = 20
				local var_150_6 = utf8.len(var_150_4)
				local var_150_7 = var_150_5 <= 0 and var_150_1 or var_150_1 * (var_150_6 / var_150_5)

				if var_150_7 > 0 and var_150_1 < var_150_7 then
					arg_147_1.talkMaxDuration = var_150_7

					if var_150_7 + var_150_0 > arg_147_1.duration_ then
						arg_147_1.duration_ = var_150_7 + var_150_0
					end
				end

				arg_147_1.text_.text = var_150_4
				arg_147_1.typewritter.percent = 0

				arg_147_1.typewritter:SetDirty()
				arg_147_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121036", "story_v_out_411121.awb") ~= 0 then
					local var_150_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121036", "story_v_out_411121.awb") / 1000

					if var_150_8 + var_150_0 > arg_147_1.duration_ then
						arg_147_1.duration_ = var_150_8 + var_150_0
					end

					if var_150_3.prefab_name ~= "" and arg_147_1.actors_[var_150_3.prefab_name] ~= nil then
						local var_150_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_147_1.actors_[var_150_3.prefab_name].transform, "story_v_out_411121", "411121036", "story_v_out_411121.awb")

						arg_147_1:RecordAudio("411121036", var_150_9)
						arg_147_1:RecordAudio("411121036", var_150_9)
					else
						arg_147_1:AudioAction("play", "voice", "story_v_out_411121", "411121036", "story_v_out_411121.awb")
					end

					arg_147_1:RecordHistoryTalkVoice("story_v_out_411121", "411121036", "story_v_out_411121.awb")
				end

				arg_147_1:RecordContent(arg_147_1.text_.text)
			end

			local var_150_10 = math.max(var_150_1, arg_147_1.talkMaxDuration)

			if var_150_0 <= arg_147_1.time_ and arg_147_1.time_ < var_150_0 + var_150_10 then
				arg_147_1.typewritter.percent = (arg_147_1.time_ - var_150_0) / var_150_10

				arg_147_1.typewritter:SetDirty()
			end

			if arg_147_1.time_ >= var_150_0 + var_150_10 and arg_147_1.time_ < var_150_0 + var_150_10 + arg_150_0 then
				arg_147_1.typewritter.percent = 1

				arg_147_1.typewritter:SetDirty()
				arg_147_1:ShowNextGo(true)
			end
		end
	end,
	Play411121037 = function(arg_151_0, arg_151_1)
		arg_151_1.time_ = 0
		arg_151_1.frameCnt_ = 0
		arg_151_1.state_ = "playing"
		arg_151_1.curTalkId_ = 411121037
		arg_151_1.duration_ = 8.865999999999

		local var_151_0 = {
			zh = 8.865999999999,
			ja = 8.532999999999
		}
		local var_151_1 = manager.audio:GetLocalizationFlag()

		if var_151_0[var_151_1] ~= nil then
			arg_151_1.duration_ = var_151_0[var_151_1]
		end

		SetActive(arg_151_1.tipsGo_, false)

		function arg_151_1.onSingleLineFinish_()
			arg_151_1.onSingleLineUpdate_ = nil
			arg_151_1.onSingleLineFinish_ = nil
			arg_151_1.state_ = "waiting"
		end

		function arg_151_1.playNext_(arg_153_0)
			if arg_153_0 == 1 then
				arg_151_0:Play411121038(arg_151_1)
			end
		end

		function arg_151_1.onSingleLineUpdate_(arg_154_0)
			local var_154_0 = 0

			if var_154_0 < arg_151_1.time_ and arg_151_1.time_ <= var_154_0 + arg_154_0 then
				local var_154_1 = manager.ui.mainCamera.transform.localPosition
				local var_154_2 = Vector3.New(0, 0, 10) + Vector3.New(var_154_1.x, var_154_1.y, 0)
				local var_154_3 = arg_151_1.bgs_.STblack

				var_154_3.transform.localPosition = var_154_2
				var_154_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_154_4 = var_154_3:GetComponent("SpriteRenderer")

				if var_154_4 and var_154_4.sprite then
					local var_154_5 = (var_154_3.transform.localPosition - var_154_1).z
					local var_154_6 = manager.ui.mainCameraCom_
					local var_154_7 = 2 * var_154_5 * Mathf.Tan(var_154_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_154_8 = var_154_7 * var_154_6.aspect
					local var_154_9 = var_154_4.sprite.bounds.size.x
					local var_154_10 = var_154_4.sprite.bounds.size.y
					local var_154_11 = var_154_8 / var_154_9
					local var_154_12 = var_154_7 / var_154_10
					local var_154_13 = var_154_12 < var_154_11 and var_154_11 or var_154_12

					var_154_3.transform.localScale = Vector3.New(var_154_13, var_154_13, 0)
				end

				for iter_154_0, iter_154_1 in pairs(arg_151_1.bgs_) do
					if iter_154_0 ~= "STblack" then
						iter_154_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_154_14 = "B07a"

			if arg_151_1.bgs_[var_154_14] == nil then
				local var_154_15 = Object.Instantiate(arg_151_1.paintGo_)

				var_154_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_154_14)
				var_154_15.name = var_154_14
				var_154_15.transform.parent = arg_151_1.stage_.transform
				var_154_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_151_1.bgs_[var_154_14] = var_154_15
			end

			local var_154_16 = 1.96666666666667

			if var_154_16 < arg_151_1.time_ and arg_151_1.time_ <= var_154_16 + arg_154_0 then
				local var_154_17 = manager.ui.mainCamera.transform.localPosition
				local var_154_18 = Vector3.New(0, 0, 10) + Vector3.New(var_154_17.x, var_154_17.y, 0)
				local var_154_19 = arg_151_1.bgs_.B07a

				var_154_19.transform.localPosition = var_154_18
				var_154_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_154_20 = var_154_19:GetComponent("SpriteRenderer")

				if var_154_20 and var_154_20.sprite then
					local var_154_21 = (var_154_19.transform.localPosition - var_154_17).z
					local var_154_22 = manager.ui.mainCameraCom_
					local var_154_23 = 2 * var_154_21 * Mathf.Tan(var_154_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_154_24 = var_154_23 * var_154_22.aspect
					local var_154_25 = var_154_20.sprite.bounds.size.x
					local var_154_26 = var_154_20.sprite.bounds.size.y
					local var_154_27 = var_154_24 / var_154_25
					local var_154_28 = var_154_23 / var_154_26
					local var_154_29 = var_154_28 < var_154_27 and var_154_27 or var_154_28

					var_154_19.transform.localScale = Vector3.New(var_154_29, var_154_29, 0)
				end

				for iter_154_2, iter_154_3 in pairs(arg_151_1.bgs_) do
					if iter_154_2 ~= "B07a" then
						iter_154_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_154_30 = 0

			if var_154_30 < arg_151_1.time_ and arg_151_1.time_ <= var_154_30 + arg_154_0 then
				arg_151_1.mask_.enabled = true
				arg_151_1.mask_.raycastTarget = true

				arg_151_1:SetGaussion(false)
			end

			local var_154_31 = 1.96666666666667

			if var_154_30 <= arg_151_1.time_ and arg_151_1.time_ < var_154_30 + var_154_31 then
				local var_154_32 = (arg_151_1.time_ - var_154_30) / var_154_31
				local var_154_33 = Color.New(0, 0, 0)

				var_154_33.a = Mathf.Lerp(0, 1, var_154_32)
				arg_151_1.mask_.color = var_154_33
			end

			if arg_151_1.time_ >= var_154_30 + var_154_31 and arg_151_1.time_ < var_154_30 + var_154_31 + arg_154_0 then
				local var_154_34 = Color.New(0, 0, 0)

				var_154_34.a = 1
				arg_151_1.mask_.color = var_154_34
			end

			local var_154_35 = 1.96666666666667

			if var_154_35 < arg_151_1.time_ and arg_151_1.time_ <= var_154_35 + arg_154_0 then
				arg_151_1.mask_.enabled = true
				arg_151_1.mask_.raycastTarget = true

				arg_151_1:SetGaussion(false)
			end

			local var_154_36 = 2.03333333333333

			if var_154_35 <= arg_151_1.time_ and arg_151_1.time_ < var_154_35 + var_154_36 then
				local var_154_37 = (arg_151_1.time_ - var_154_35) / var_154_36
				local var_154_38 = Color.New(0, 0, 0)

				var_154_38.a = Mathf.Lerp(1, 0, var_154_37)
				arg_151_1.mask_.color = var_154_38
			end

			if arg_151_1.time_ >= var_154_35 + var_154_36 and arg_151_1.time_ < var_154_35 + var_154_36 + arg_154_0 then
				local var_154_39 = Color.New(0, 0, 0)
				local var_154_40 = 0

				arg_151_1.mask_.enabled = false
				var_154_39.a = var_154_40
				arg_151_1.mask_.color = var_154_39
			end

			local var_154_41 = arg_151_1.actors_["1095ui_story"].transform
			local var_154_42 = 1.96666666666667

			if var_154_42 < arg_151_1.time_ and arg_151_1.time_ <= var_154_42 + arg_154_0 then
				arg_151_1.var_.moveOldPos1095ui_story = var_154_41.localPosition
			end

			local var_154_43 = 0.001

			if var_154_42 <= arg_151_1.time_ and arg_151_1.time_ < var_154_42 + var_154_43 then
				local var_154_44 = (arg_151_1.time_ - var_154_42) / var_154_43
				local var_154_45 = Vector3.New(0, 100, 0)

				var_154_41.localPosition = Vector3.Lerp(arg_151_1.var_.moveOldPos1095ui_story, var_154_45, var_154_44)

				local var_154_46 = manager.ui.mainCamera.transform.position - var_154_41.position

				var_154_41.forward = Vector3.New(var_154_46.x, var_154_46.y, var_154_46.z)

				local var_154_47 = var_154_41.localEulerAngles

				var_154_47.z = 0
				var_154_47.x = 0
				var_154_41.localEulerAngles = var_154_47
			end

			if arg_151_1.time_ >= var_154_42 + var_154_43 and arg_151_1.time_ < var_154_42 + var_154_43 + arg_154_0 then
				var_154_41.localPosition = Vector3.New(0, 100, 0)

				local var_154_48 = manager.ui.mainCamera.transform.position - var_154_41.position

				var_154_41.forward = Vector3.New(var_154_48.x, var_154_48.y, var_154_48.z)

				local var_154_49 = var_154_41.localEulerAngles

				var_154_49.z = 0
				var_154_49.x = 0
				var_154_41.localEulerAngles = var_154_49
			end

			local var_154_50 = arg_151_1.actors_["1095ui_story"]
			local var_154_51 = 1.96666666666667

			if var_154_51 < arg_151_1.time_ and arg_151_1.time_ <= var_154_51 + arg_154_0 and arg_151_1.var_.characterEffect1095ui_story == nil then
				arg_151_1.var_.characterEffect1095ui_story = var_154_50:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_154_52 = 0.200000002980232

			if var_154_51 <= arg_151_1.time_ and arg_151_1.time_ < var_154_51 + var_154_52 then
				local var_154_53 = (arg_151_1.time_ - var_154_51) / var_154_52

				if arg_151_1.var_.characterEffect1095ui_story then
					local var_154_54 = Mathf.Lerp(0, 0.5, var_154_53)

					arg_151_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_151_1.var_.characterEffect1095ui_story.fillRatio = var_154_54
				end
			end

			if arg_151_1.time_ >= var_154_51 + var_154_52 and arg_151_1.time_ < var_154_51 + var_154_52 + arg_154_0 and arg_151_1.var_.characterEffect1095ui_story then
				local var_154_55 = 0.5

				arg_151_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_151_1.var_.characterEffect1095ui_story.fillRatio = var_154_55
			end

			local var_154_56 = 0
			local var_154_57 = 0.366666666666667

			if var_154_56 < arg_151_1.time_ and arg_151_1.time_ <= var_154_56 + arg_154_0 then
				local var_154_58 = "play"
				local var_154_59 = "music"

				arg_151_1:AudioAction(var_154_58, var_154_59, "ui_battle", "ui_battle_stopbgm", "")
			end

			local var_154_60 = 0.6
			local var_154_61 = 1

			if var_154_60 < arg_151_1.time_ and arg_151_1.time_ <= var_154_60 + arg_154_0 then
				local var_154_62 = "play"
				local var_154_63 = "music"

				arg_151_1:AudioAction(var_154_62, var_154_63, "bgm_activity_3_0_story_sad", "bgm_activity_3_0_story_sad", "bgm_activity_3_0_story_sad.awb")
			end

			local var_154_64 = 1.96666666666667

			if var_154_64 < arg_151_1.time_ and arg_151_1.time_ <= var_154_64 + arg_154_0 then
				arg_151_1.screenFilterGo_:SetActive(true)

				arg_151_1.screenFilterEffect_.profile = Asset.Load("Effect/Scene/fx_vintageStyle_Profile")
			end

			local var_154_65 = 0.0999999999999999

			if var_154_64 <= arg_151_1.time_ and arg_151_1.time_ < var_154_64 + var_154_65 then
				local var_154_66 = (arg_151_1.time_ - var_154_64) / var_154_65

				arg_151_1.screenFilterEffect_.weight = Mathf.Lerp(0, 1, var_154_66)
			end

			if arg_151_1.time_ >= var_154_64 + var_154_65 and arg_151_1.time_ < var_154_64 + var_154_65 + arg_154_0 then
				arg_151_1.screenFilterEffect_.weight = 1
			end

			if arg_151_1.frameCnt_ <= 1 then
				arg_151_1.dialog_:SetActive(false)
			end

			local var_154_67 = 3.999999999999
			local var_154_68 = 0.55

			if var_154_67 < arg_151_1.time_ and arg_151_1.time_ <= var_154_67 + arg_154_0 then
				arg_151_1.talkMaxDuration = 0

				arg_151_1.dialog_:SetActive(true)

				local var_154_69 = LeanTween.value(arg_151_1.dialog_, 0, 1, 0.3)

				var_154_69:setOnUpdate(LuaHelper.FloatAction(function(arg_155_0)
					arg_151_1.dialogCg_.alpha = arg_155_0
				end))
				var_154_69:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_151_1.dialog_)
					var_154_69:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_151_1.duration_ = arg_151_1.duration_ + 0.3

				SetActive(arg_151_1.leftNameGo_, true)

				local var_154_70 = arg_151_1:FormatText(StoryNameCfg[670].name)

				arg_151_1.leftNameTxt_.text = var_154_70

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_151_1.leftNameTxt_.transform)

				arg_151_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_151_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_151_1:RecordName(arg_151_1.leftNameTxt_.text)
				SetActive(arg_151_1.iconTrs_.gameObject, true)
				arg_151_1.iconController_:SetSelectedState("hero")

				arg_151_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_151_1.callingController_:SetSelectedState("normal")

				local var_154_71 = arg_151_1:GetWordFromCfg(411121037)
				local var_154_72 = arg_151_1:FormatText(var_154_71.content)

				arg_151_1.text_.text = var_154_72

				LuaForUtil.ClearLinePrefixSymbol(arg_151_1.text_)

				local var_154_73 = 22
				local var_154_74 = utf8.len(var_154_72)
				local var_154_75 = var_154_73 <= 0 and var_154_68 or var_154_68 * (var_154_74 / var_154_73)

				if var_154_75 > 0 and var_154_68 < var_154_75 then
					arg_151_1.talkMaxDuration = var_154_75
					var_154_67 = var_154_67 + 0.3

					if var_154_75 + var_154_67 > arg_151_1.duration_ then
						arg_151_1.duration_ = var_154_75 + var_154_67
					end
				end

				arg_151_1.text_.text = var_154_72
				arg_151_1.typewritter.percent = 0

				arg_151_1.typewritter:SetDirty()
				arg_151_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121037", "story_v_out_411121.awb") ~= 0 then
					local var_154_76 = manager.audio:GetVoiceLength("story_v_out_411121", "411121037", "story_v_out_411121.awb") / 1000

					if var_154_76 + var_154_67 > arg_151_1.duration_ then
						arg_151_1.duration_ = var_154_76 + var_154_67
					end

					if var_154_71.prefab_name ~= "" and arg_151_1.actors_[var_154_71.prefab_name] ~= nil then
						local var_154_77 = LuaForUtil.PlayVoiceWithCriLipsync(arg_151_1.actors_[var_154_71.prefab_name].transform, "story_v_out_411121", "411121037", "story_v_out_411121.awb")

						arg_151_1:RecordAudio("411121037", var_154_77)
						arg_151_1:RecordAudio("411121037", var_154_77)
					else
						arg_151_1:AudioAction("play", "voice", "story_v_out_411121", "411121037", "story_v_out_411121.awb")
					end

					arg_151_1:RecordHistoryTalkVoice("story_v_out_411121", "411121037", "story_v_out_411121.awb")
				end

				arg_151_1:RecordContent(arg_151_1.text_.text)
			end

			local var_154_78 = var_154_67 + 0.3
			local var_154_79 = math.max(var_154_68, arg_151_1.talkMaxDuration)

			if var_154_78 <= arg_151_1.time_ and arg_151_1.time_ < var_154_78 + var_154_79 then
				arg_151_1.typewritter.percent = (arg_151_1.time_ - var_154_78) / var_154_79

				arg_151_1.typewritter:SetDirty()
			end

			if arg_151_1.time_ >= var_154_78 + var_154_79 and arg_151_1.time_ < var_154_78 + var_154_79 + arg_154_0 then
				arg_151_1.typewritter.percent = 1

				arg_151_1.typewritter:SetDirty()
				arg_151_1:ShowNextGo(true)
			end
		end
	end,
	Play411121038 = function(arg_157_0, arg_157_1)
		arg_157_1.time_ = 0
		arg_157_1.frameCnt_ = 0
		arg_157_1.state_ = "playing"
		arg_157_1.curTalkId_ = 411121038
		arg_157_1.duration_ = 4.566

		local var_157_0 = {
			zh = 2.733,
			ja = 4.566
		}
		local var_157_1 = manager.audio:GetLocalizationFlag()

		if var_157_0[var_157_1] ~= nil then
			arg_157_1.duration_ = var_157_0[var_157_1]
		end

		SetActive(arg_157_1.tipsGo_, false)

		function arg_157_1.onSingleLineFinish_()
			arg_157_1.onSingleLineUpdate_ = nil
			arg_157_1.onSingleLineFinish_ = nil
			arg_157_1.state_ = "waiting"
		end

		function arg_157_1.playNext_(arg_159_0)
			if arg_159_0 == 1 then
				arg_157_0:Play411121039(arg_157_1)
			end
		end

		function arg_157_1.onSingleLineUpdate_(arg_160_0)
			local var_160_0 = arg_157_1.actors_["1095ui_story"].transform
			local var_160_1 = 0

			if var_160_1 < arg_157_1.time_ and arg_157_1.time_ <= var_160_1 + arg_160_0 then
				arg_157_1.var_.moveOldPos1095ui_story = var_160_0.localPosition
			end

			local var_160_2 = 0.001

			if var_160_1 <= arg_157_1.time_ and arg_157_1.time_ < var_160_1 + var_160_2 then
				local var_160_3 = (arg_157_1.time_ - var_160_1) / var_160_2
				local var_160_4 = Vector3.New(0, -0.98, -6.1)

				var_160_0.localPosition = Vector3.Lerp(arg_157_1.var_.moveOldPos1095ui_story, var_160_4, var_160_3)

				local var_160_5 = manager.ui.mainCamera.transform.position - var_160_0.position

				var_160_0.forward = Vector3.New(var_160_5.x, var_160_5.y, var_160_5.z)

				local var_160_6 = var_160_0.localEulerAngles

				var_160_6.z = 0
				var_160_6.x = 0
				var_160_0.localEulerAngles = var_160_6
			end

			if arg_157_1.time_ >= var_160_1 + var_160_2 and arg_157_1.time_ < var_160_1 + var_160_2 + arg_160_0 then
				var_160_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_160_7 = manager.ui.mainCamera.transform.position - var_160_0.position

				var_160_0.forward = Vector3.New(var_160_7.x, var_160_7.y, var_160_7.z)

				local var_160_8 = var_160_0.localEulerAngles

				var_160_8.z = 0
				var_160_8.x = 0
				var_160_0.localEulerAngles = var_160_8
			end

			local var_160_9 = arg_157_1.actors_["1095ui_story"]
			local var_160_10 = 0

			if var_160_10 < arg_157_1.time_ and arg_157_1.time_ <= var_160_10 + arg_160_0 and arg_157_1.var_.characterEffect1095ui_story == nil then
				arg_157_1.var_.characterEffect1095ui_story = var_160_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_160_11 = 0.200000002980232

			if var_160_10 <= arg_157_1.time_ and arg_157_1.time_ < var_160_10 + var_160_11 then
				local var_160_12 = (arg_157_1.time_ - var_160_10) / var_160_11

				if arg_157_1.var_.characterEffect1095ui_story then
					arg_157_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_157_1.time_ >= var_160_10 + var_160_11 and arg_157_1.time_ < var_160_10 + var_160_11 + arg_160_0 and arg_157_1.var_.characterEffect1095ui_story then
				arg_157_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_160_13 = 0

			if var_160_13 < arg_157_1.time_ and arg_157_1.time_ <= var_160_13 + arg_160_0 then
				arg_157_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_160_14 = 0

			if var_160_14 < arg_157_1.time_ and arg_157_1.time_ <= var_160_14 + arg_160_0 then
				arg_157_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1101cva")
			end

			local var_160_15 = 0
			local var_160_16 = 0.225

			if var_160_15 < arg_157_1.time_ and arg_157_1.time_ <= var_160_15 + arg_160_0 then
				arg_157_1.talkMaxDuration = 0
				arg_157_1.dialogCg_.alpha = 1

				arg_157_1.dialog_:SetActive(true)
				SetActive(arg_157_1.leftNameGo_, true)

				local var_160_17 = arg_157_1:FormatText(StoryNameCfg[909].name)

				arg_157_1.leftNameTxt_.text = var_160_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_157_1.leftNameTxt_.transform)

				arg_157_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_157_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_157_1:RecordName(arg_157_1.leftNameTxt_.text)
				SetActive(arg_157_1.iconTrs_.gameObject, false)
				arg_157_1.callingController_:SetSelectedState("normal")

				local var_160_18 = arg_157_1:GetWordFromCfg(411121038)
				local var_160_19 = arg_157_1:FormatText(var_160_18.content)

				arg_157_1.text_.text = var_160_19

				LuaForUtil.ClearLinePrefixSymbol(arg_157_1.text_)

				local var_160_20 = 9
				local var_160_21 = utf8.len(var_160_19)
				local var_160_22 = var_160_20 <= 0 and var_160_16 or var_160_16 * (var_160_21 / var_160_20)

				if var_160_22 > 0 and var_160_16 < var_160_22 then
					arg_157_1.talkMaxDuration = var_160_22

					if var_160_22 + var_160_15 > arg_157_1.duration_ then
						arg_157_1.duration_ = var_160_22 + var_160_15
					end
				end

				arg_157_1.text_.text = var_160_19
				arg_157_1.typewritter.percent = 0

				arg_157_1.typewritter:SetDirty()
				arg_157_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121038", "story_v_out_411121.awb") ~= 0 then
					local var_160_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121038", "story_v_out_411121.awb") / 1000

					if var_160_23 + var_160_15 > arg_157_1.duration_ then
						arg_157_1.duration_ = var_160_23 + var_160_15
					end

					if var_160_18.prefab_name ~= "" and arg_157_1.actors_[var_160_18.prefab_name] ~= nil then
						local var_160_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_157_1.actors_[var_160_18.prefab_name].transform, "story_v_out_411121", "411121038", "story_v_out_411121.awb")

						arg_157_1:RecordAudio("411121038", var_160_24)
						arg_157_1:RecordAudio("411121038", var_160_24)
					else
						arg_157_1:AudioAction("play", "voice", "story_v_out_411121", "411121038", "story_v_out_411121.awb")
					end

					arg_157_1:RecordHistoryTalkVoice("story_v_out_411121", "411121038", "story_v_out_411121.awb")
				end

				arg_157_1:RecordContent(arg_157_1.text_.text)
			end

			local var_160_25 = math.max(var_160_16, arg_157_1.talkMaxDuration)

			if var_160_15 <= arg_157_1.time_ and arg_157_1.time_ < var_160_15 + var_160_25 then
				arg_157_1.typewritter.percent = (arg_157_1.time_ - var_160_15) / var_160_25

				arg_157_1.typewritter:SetDirty()
			end

			if arg_157_1.time_ >= var_160_15 + var_160_25 and arg_157_1.time_ < var_160_15 + var_160_25 + arg_160_0 then
				arg_157_1.typewritter.percent = 1

				arg_157_1.typewritter:SetDirty()
				arg_157_1:ShowNextGo(true)
			end
		end
	end,
	Play411121039 = function(arg_161_0, arg_161_1)
		arg_161_1.time_ = 0
		arg_161_1.frameCnt_ = 0
		arg_161_1.state_ = "playing"
		arg_161_1.curTalkId_ = 411121039
		arg_161_1.duration_ = 13.166

		local var_161_0 = {
			zh = 8.866,
			ja = 13.166
		}
		local var_161_1 = manager.audio:GetLocalizationFlag()

		if var_161_0[var_161_1] ~= nil then
			arg_161_1.duration_ = var_161_0[var_161_1]
		end

		SetActive(arg_161_1.tipsGo_, false)

		function arg_161_1.onSingleLineFinish_()
			arg_161_1.onSingleLineUpdate_ = nil
			arg_161_1.onSingleLineFinish_ = nil
			arg_161_1.state_ = "waiting"
		end

		function arg_161_1.playNext_(arg_163_0)
			if arg_163_0 == 1 then
				arg_161_0:Play411121040(arg_161_1)
			end
		end

		function arg_161_1.onSingleLineUpdate_(arg_164_0)
			local var_164_0 = 0
			local var_164_1 = 0.7

			if var_164_0 < arg_161_1.time_ and arg_161_1.time_ <= var_164_0 + arg_164_0 then
				arg_161_1.talkMaxDuration = 0
				arg_161_1.dialogCg_.alpha = 1

				arg_161_1.dialog_:SetActive(true)
				SetActive(arg_161_1.leftNameGo_, true)

				local var_164_2 = arg_161_1:FormatText(StoryNameCfg[909].name)

				arg_161_1.leftNameTxt_.text = var_164_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_161_1.leftNameTxt_.transform)

				arg_161_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_161_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_161_1:RecordName(arg_161_1.leftNameTxt_.text)
				SetActive(arg_161_1.iconTrs_.gameObject, false)
				arg_161_1.callingController_:SetSelectedState("normal")

				local var_164_3 = arg_161_1:GetWordFromCfg(411121039)
				local var_164_4 = arg_161_1:FormatText(var_164_3.content)

				arg_161_1.text_.text = var_164_4

				LuaForUtil.ClearLinePrefixSymbol(arg_161_1.text_)

				local var_164_5 = 28
				local var_164_6 = utf8.len(var_164_4)
				local var_164_7 = var_164_5 <= 0 and var_164_1 or var_164_1 * (var_164_6 / var_164_5)

				if var_164_7 > 0 and var_164_1 < var_164_7 then
					arg_161_1.talkMaxDuration = var_164_7

					if var_164_7 + var_164_0 > arg_161_1.duration_ then
						arg_161_1.duration_ = var_164_7 + var_164_0
					end
				end

				arg_161_1.text_.text = var_164_4
				arg_161_1.typewritter.percent = 0

				arg_161_1.typewritter:SetDirty()
				arg_161_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121039", "story_v_out_411121.awb") ~= 0 then
					local var_164_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121039", "story_v_out_411121.awb") / 1000

					if var_164_8 + var_164_0 > arg_161_1.duration_ then
						arg_161_1.duration_ = var_164_8 + var_164_0
					end

					if var_164_3.prefab_name ~= "" and arg_161_1.actors_[var_164_3.prefab_name] ~= nil then
						local var_164_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_161_1.actors_[var_164_3.prefab_name].transform, "story_v_out_411121", "411121039", "story_v_out_411121.awb")

						arg_161_1:RecordAudio("411121039", var_164_9)
						arg_161_1:RecordAudio("411121039", var_164_9)
					else
						arg_161_1:AudioAction("play", "voice", "story_v_out_411121", "411121039", "story_v_out_411121.awb")
					end

					arg_161_1:RecordHistoryTalkVoice("story_v_out_411121", "411121039", "story_v_out_411121.awb")
				end

				arg_161_1:RecordContent(arg_161_1.text_.text)
			end

			local var_164_10 = math.max(var_164_1, arg_161_1.talkMaxDuration)

			if var_164_0 <= arg_161_1.time_ and arg_161_1.time_ < var_164_0 + var_164_10 then
				arg_161_1.typewritter.percent = (arg_161_1.time_ - var_164_0) / var_164_10

				arg_161_1.typewritter:SetDirty()
			end

			if arg_161_1.time_ >= var_164_0 + var_164_10 and arg_161_1.time_ < var_164_0 + var_164_10 + arg_164_0 then
				arg_161_1.typewritter.percent = 1

				arg_161_1.typewritter:SetDirty()
				arg_161_1:ShowNextGo(true)
			end
		end
	end,
	Play411121040 = function(arg_165_0, arg_165_1)
		arg_165_1.time_ = 0
		arg_165_1.frameCnt_ = 0
		arg_165_1.state_ = "playing"
		arg_165_1.curTalkId_ = 411121040
		arg_165_1.duration_ = 6.966

		local var_165_0 = {
			zh = 5.1,
			ja = 6.966
		}
		local var_165_1 = manager.audio:GetLocalizationFlag()

		if var_165_0[var_165_1] ~= nil then
			arg_165_1.duration_ = var_165_0[var_165_1]
		end

		SetActive(arg_165_1.tipsGo_, false)

		function arg_165_1.onSingleLineFinish_()
			arg_165_1.onSingleLineUpdate_ = nil
			arg_165_1.onSingleLineFinish_ = nil
			arg_165_1.state_ = "waiting"
		end

		function arg_165_1.playNext_(arg_167_0)
			if arg_167_0 == 1 then
				arg_165_0:Play411121041(arg_165_1)
			end
		end

		function arg_165_1.onSingleLineUpdate_(arg_168_0)
			local var_168_0 = arg_165_1.actors_["1095ui_story"]
			local var_168_1 = 0

			if var_168_1 < arg_165_1.time_ and arg_165_1.time_ <= var_168_1 + arg_168_0 and arg_165_1.var_.characterEffect1095ui_story == nil then
				arg_165_1.var_.characterEffect1095ui_story = var_168_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_168_2 = 0.200000002980232

			if var_168_1 <= arg_165_1.time_ and arg_165_1.time_ < var_168_1 + var_168_2 then
				local var_168_3 = (arg_165_1.time_ - var_168_1) / var_168_2

				if arg_165_1.var_.characterEffect1095ui_story then
					local var_168_4 = Mathf.Lerp(0, 0.5, var_168_3)

					arg_165_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_165_1.var_.characterEffect1095ui_story.fillRatio = var_168_4
				end
			end

			if arg_165_1.time_ >= var_168_1 + var_168_2 and arg_165_1.time_ < var_168_1 + var_168_2 + arg_168_0 and arg_165_1.var_.characterEffect1095ui_story then
				local var_168_5 = 0.5

				arg_165_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_165_1.var_.characterEffect1095ui_story.fillRatio = var_168_5
			end

			local var_168_6 = 0
			local var_168_7 = 0.6

			if var_168_6 < arg_165_1.time_ and arg_165_1.time_ <= var_168_6 + arg_168_0 then
				arg_165_1.talkMaxDuration = 0
				arg_165_1.dialogCg_.alpha = 1

				arg_165_1.dialog_:SetActive(true)
				SetActive(arg_165_1.leftNameGo_, true)

				local var_168_8 = arg_165_1:FormatText(StoryNameCfg[670].name)

				arg_165_1.leftNameTxt_.text = var_168_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_165_1.leftNameTxt_.transform)

				arg_165_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_165_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_165_1:RecordName(arg_165_1.leftNameTxt_.text)
				SetActive(arg_165_1.iconTrs_.gameObject, true)
				arg_165_1.iconController_:SetSelectedState("hero")

				arg_165_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_165_1.callingController_:SetSelectedState("normal")

				local var_168_9 = arg_165_1:GetWordFromCfg(411121040)
				local var_168_10 = arg_165_1:FormatText(var_168_9.content)

				arg_165_1.text_.text = var_168_10

				LuaForUtil.ClearLinePrefixSymbol(arg_165_1.text_)

				local var_168_11 = 24
				local var_168_12 = utf8.len(var_168_10)
				local var_168_13 = var_168_11 <= 0 and var_168_7 or var_168_7 * (var_168_12 / var_168_11)

				if var_168_13 > 0 and var_168_7 < var_168_13 then
					arg_165_1.talkMaxDuration = var_168_13

					if var_168_13 + var_168_6 > arg_165_1.duration_ then
						arg_165_1.duration_ = var_168_13 + var_168_6
					end
				end

				arg_165_1.text_.text = var_168_10
				arg_165_1.typewritter.percent = 0

				arg_165_1.typewritter:SetDirty()
				arg_165_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121040", "story_v_out_411121.awb") ~= 0 then
					local var_168_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121040", "story_v_out_411121.awb") / 1000

					if var_168_14 + var_168_6 > arg_165_1.duration_ then
						arg_165_1.duration_ = var_168_14 + var_168_6
					end

					if var_168_9.prefab_name ~= "" and arg_165_1.actors_[var_168_9.prefab_name] ~= nil then
						local var_168_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_165_1.actors_[var_168_9.prefab_name].transform, "story_v_out_411121", "411121040", "story_v_out_411121.awb")

						arg_165_1:RecordAudio("411121040", var_168_15)
						arg_165_1:RecordAudio("411121040", var_168_15)
					else
						arg_165_1:AudioAction("play", "voice", "story_v_out_411121", "411121040", "story_v_out_411121.awb")
					end

					arg_165_1:RecordHistoryTalkVoice("story_v_out_411121", "411121040", "story_v_out_411121.awb")
				end

				arg_165_1:RecordContent(arg_165_1.text_.text)
			end

			local var_168_16 = math.max(var_168_7, arg_165_1.talkMaxDuration)

			if var_168_6 <= arg_165_1.time_ and arg_165_1.time_ < var_168_6 + var_168_16 then
				arg_165_1.typewritter.percent = (arg_165_1.time_ - var_168_6) / var_168_16

				arg_165_1.typewritter:SetDirty()
			end

			if arg_165_1.time_ >= var_168_6 + var_168_16 and arg_165_1.time_ < var_168_6 + var_168_16 + arg_168_0 then
				arg_165_1.typewritter.percent = 1

				arg_165_1.typewritter:SetDirty()
				arg_165_1:ShowNextGo(true)
			end
		end
	end,
	Play411121041 = function(arg_169_0, arg_169_1)
		arg_169_1.time_ = 0
		arg_169_1.frameCnt_ = 0
		arg_169_1.state_ = "playing"
		arg_169_1.curTalkId_ = 411121041
		arg_169_1.duration_ = 7.433

		local var_169_0 = {
			zh = 7.433,
			ja = 5.533
		}
		local var_169_1 = manager.audio:GetLocalizationFlag()

		if var_169_0[var_169_1] ~= nil then
			arg_169_1.duration_ = var_169_0[var_169_1]
		end

		SetActive(arg_169_1.tipsGo_, false)

		function arg_169_1.onSingleLineFinish_()
			arg_169_1.onSingleLineUpdate_ = nil
			arg_169_1.onSingleLineFinish_ = nil
			arg_169_1.state_ = "waiting"
		end

		function arg_169_1.playNext_(arg_171_0)
			if arg_171_0 == 1 then
				arg_169_0:Play411121042(arg_169_1)
			end
		end

		function arg_169_1.onSingleLineUpdate_(arg_172_0)
			local var_172_0 = 0
			local var_172_1 = 0.725

			if var_172_0 < arg_169_1.time_ and arg_169_1.time_ <= var_172_0 + arg_172_0 then
				arg_169_1.talkMaxDuration = 0
				arg_169_1.dialogCg_.alpha = 1

				arg_169_1.dialog_:SetActive(true)
				SetActive(arg_169_1.leftNameGo_, true)

				local var_172_2 = arg_169_1:FormatText(StoryNameCfg[670].name)

				arg_169_1.leftNameTxt_.text = var_172_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_169_1.leftNameTxt_.transform)

				arg_169_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_169_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_169_1:RecordName(arg_169_1.leftNameTxt_.text)
				SetActive(arg_169_1.iconTrs_.gameObject, true)
				arg_169_1.iconController_:SetSelectedState("hero")

				arg_169_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_169_1.callingController_:SetSelectedState("normal")

				local var_172_3 = arg_169_1:GetWordFromCfg(411121041)
				local var_172_4 = arg_169_1:FormatText(var_172_3.content)

				arg_169_1.text_.text = var_172_4

				LuaForUtil.ClearLinePrefixSymbol(arg_169_1.text_)

				local var_172_5 = 29
				local var_172_6 = utf8.len(var_172_4)
				local var_172_7 = var_172_5 <= 0 and var_172_1 or var_172_1 * (var_172_6 / var_172_5)

				if var_172_7 > 0 and var_172_1 < var_172_7 then
					arg_169_1.talkMaxDuration = var_172_7

					if var_172_7 + var_172_0 > arg_169_1.duration_ then
						arg_169_1.duration_ = var_172_7 + var_172_0
					end
				end

				arg_169_1.text_.text = var_172_4
				arg_169_1.typewritter.percent = 0

				arg_169_1.typewritter:SetDirty()
				arg_169_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121041", "story_v_out_411121.awb") ~= 0 then
					local var_172_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121041", "story_v_out_411121.awb") / 1000

					if var_172_8 + var_172_0 > arg_169_1.duration_ then
						arg_169_1.duration_ = var_172_8 + var_172_0
					end

					if var_172_3.prefab_name ~= "" and arg_169_1.actors_[var_172_3.prefab_name] ~= nil then
						local var_172_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_169_1.actors_[var_172_3.prefab_name].transform, "story_v_out_411121", "411121041", "story_v_out_411121.awb")

						arg_169_1:RecordAudio("411121041", var_172_9)
						arg_169_1:RecordAudio("411121041", var_172_9)
					else
						arg_169_1:AudioAction("play", "voice", "story_v_out_411121", "411121041", "story_v_out_411121.awb")
					end

					arg_169_1:RecordHistoryTalkVoice("story_v_out_411121", "411121041", "story_v_out_411121.awb")
				end

				arg_169_1:RecordContent(arg_169_1.text_.text)
			end

			local var_172_10 = math.max(var_172_1, arg_169_1.talkMaxDuration)

			if var_172_0 <= arg_169_1.time_ and arg_169_1.time_ < var_172_0 + var_172_10 then
				arg_169_1.typewritter.percent = (arg_169_1.time_ - var_172_0) / var_172_10

				arg_169_1.typewritter:SetDirty()
			end

			if arg_169_1.time_ >= var_172_0 + var_172_10 and arg_169_1.time_ < var_172_0 + var_172_10 + arg_172_0 then
				arg_169_1.typewritter.percent = 1

				arg_169_1.typewritter:SetDirty()
				arg_169_1:ShowNextGo(true)
			end
		end
	end,
	Play411121042 = function(arg_173_0, arg_173_1)
		arg_173_1.time_ = 0
		arg_173_1.frameCnt_ = 0
		arg_173_1.state_ = "playing"
		arg_173_1.curTalkId_ = 411121042
		arg_173_1.duration_ = 1.6

		SetActive(arg_173_1.tipsGo_, false)

		function arg_173_1.onSingleLineFinish_()
			arg_173_1.onSingleLineUpdate_ = nil
			arg_173_1.onSingleLineFinish_ = nil
			arg_173_1.state_ = "waiting"
		end

		function arg_173_1.playNext_(arg_175_0)
			if arg_175_0 == 1 then
				arg_173_0:Play411121043(arg_173_1)
			end
		end

		function arg_173_1.onSingleLineUpdate_(arg_176_0)
			local var_176_0 = 0
			local var_176_1 = 0.15

			if var_176_0 < arg_173_1.time_ and arg_173_1.time_ <= var_176_0 + arg_176_0 then
				arg_173_1.talkMaxDuration = 0
				arg_173_1.dialogCg_.alpha = 1

				arg_173_1.dialog_:SetActive(true)
				SetActive(arg_173_1.leftNameGo_, true)

				local var_176_2 = arg_173_1:FormatText(StoryNameCfg[471].name)

				arg_173_1.leftNameTxt_.text = var_176_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_173_1.leftNameTxt_.transform)

				arg_173_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_173_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_173_1:RecordName(arg_173_1.leftNameTxt_.text)
				SetActive(arg_173_1.iconTrs_.gameObject, true)
				arg_173_1.iconController_:SetSelectedState("hero")

				arg_173_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_173_1.callingController_:SetSelectedState("normal")

				local var_176_3 = arg_173_1:GetWordFromCfg(411121042)
				local var_176_4 = arg_173_1:FormatText(var_176_3.content)

				arg_173_1.text_.text = var_176_4

				LuaForUtil.ClearLinePrefixSymbol(arg_173_1.text_)

				local var_176_5 = 6
				local var_176_6 = utf8.len(var_176_4)
				local var_176_7 = var_176_5 <= 0 and var_176_1 or var_176_1 * (var_176_6 / var_176_5)

				if var_176_7 > 0 and var_176_1 < var_176_7 then
					arg_173_1.talkMaxDuration = var_176_7

					if var_176_7 + var_176_0 > arg_173_1.duration_ then
						arg_173_1.duration_ = var_176_7 + var_176_0
					end
				end

				arg_173_1.text_.text = var_176_4
				arg_173_1.typewritter.percent = 0

				arg_173_1.typewritter:SetDirty()
				arg_173_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121042", "story_v_out_411121.awb") ~= 0 then
					local var_176_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121042", "story_v_out_411121.awb") / 1000

					if var_176_8 + var_176_0 > arg_173_1.duration_ then
						arg_173_1.duration_ = var_176_8 + var_176_0
					end

					if var_176_3.prefab_name ~= "" and arg_173_1.actors_[var_176_3.prefab_name] ~= nil then
						local var_176_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_173_1.actors_[var_176_3.prefab_name].transform, "story_v_out_411121", "411121042", "story_v_out_411121.awb")

						arg_173_1:RecordAudio("411121042", var_176_9)
						arg_173_1:RecordAudio("411121042", var_176_9)
					else
						arg_173_1:AudioAction("play", "voice", "story_v_out_411121", "411121042", "story_v_out_411121.awb")
					end

					arg_173_1:RecordHistoryTalkVoice("story_v_out_411121", "411121042", "story_v_out_411121.awb")
				end

				arg_173_1:RecordContent(arg_173_1.text_.text)
			end

			local var_176_10 = math.max(var_176_1, arg_173_1.talkMaxDuration)

			if var_176_0 <= arg_173_1.time_ and arg_173_1.time_ < var_176_0 + var_176_10 then
				arg_173_1.typewritter.percent = (arg_173_1.time_ - var_176_0) / var_176_10

				arg_173_1.typewritter:SetDirty()
			end

			if arg_173_1.time_ >= var_176_0 + var_176_10 and arg_173_1.time_ < var_176_0 + var_176_10 + arg_176_0 then
				arg_173_1.typewritter.percent = 1

				arg_173_1.typewritter:SetDirty()
				arg_173_1:ShowNextGo(true)
			end
		end
	end,
	Play411121043 = function(arg_177_0, arg_177_1)
		arg_177_1.time_ = 0
		arg_177_1.frameCnt_ = 0
		arg_177_1.state_ = "playing"
		arg_177_1.curTalkId_ = 411121043
		arg_177_1.duration_ = 7.399999999999

		local var_177_0 = {
			zh = 7.399999999999,
			ja = 6.132999999999
		}
		local var_177_1 = manager.audio:GetLocalizationFlag()

		if var_177_0[var_177_1] ~= nil then
			arg_177_1.duration_ = var_177_0[var_177_1]
		end

		SetActive(arg_177_1.tipsGo_, false)

		function arg_177_1.onSingleLineFinish_()
			arg_177_1.onSingleLineUpdate_ = nil
			arg_177_1.onSingleLineFinish_ = nil
			arg_177_1.state_ = "waiting"
		end

		function arg_177_1.playNext_(arg_179_0)
			if arg_179_0 == 1 then
				arg_177_0:Play411121044(arg_177_1)
			end
		end

		function arg_177_1.onSingleLineUpdate_(arg_180_0)
			local var_180_0 = 0

			if var_180_0 < arg_177_1.time_ and arg_177_1.time_ <= var_180_0 + arg_180_0 then
				arg_177_1.mask_.enabled = true
				arg_177_1.mask_.raycastTarget = true

				arg_177_1:SetGaussion(false)
			end

			local var_180_1 = 2

			if var_180_0 <= arg_177_1.time_ and arg_177_1.time_ < var_180_0 + var_180_1 then
				local var_180_2 = (arg_177_1.time_ - var_180_0) / var_180_1
				local var_180_3 = Color.New(0, 0, 0)

				var_180_3.a = Mathf.Lerp(0, 1, var_180_2)
				arg_177_1.mask_.color = var_180_3
			end

			if arg_177_1.time_ >= var_180_0 + var_180_1 and arg_177_1.time_ < var_180_0 + var_180_1 + arg_180_0 then
				local var_180_4 = Color.New(0, 0, 0)

				var_180_4.a = 1
				arg_177_1.mask_.color = var_180_4
			end

			local var_180_5 = 2

			if var_180_5 < arg_177_1.time_ and arg_177_1.time_ <= var_180_5 + arg_180_0 then
				arg_177_1.mask_.enabled = true
				arg_177_1.mask_.raycastTarget = true

				arg_177_1:SetGaussion(false)
			end

			local var_180_6 = 2

			if var_180_5 <= arg_177_1.time_ and arg_177_1.time_ < var_180_5 + var_180_6 then
				local var_180_7 = (arg_177_1.time_ - var_180_5) / var_180_6
				local var_180_8 = Color.New(0, 0, 0)

				var_180_8.a = Mathf.Lerp(1, 0, var_180_7)
				arg_177_1.mask_.color = var_180_8
			end

			if arg_177_1.time_ >= var_180_5 + var_180_6 and arg_177_1.time_ < var_180_5 + var_180_6 + arg_180_0 then
				local var_180_9 = Color.New(0, 0, 0)
				local var_180_10 = 0

				arg_177_1.mask_.enabled = false
				var_180_9.a = var_180_10
				arg_177_1.mask_.color = var_180_9
			end

			local var_180_11 = arg_177_1.actors_["1095ui_story"].transform
			local var_180_12 = 4

			if var_180_12 < arg_177_1.time_ and arg_177_1.time_ <= var_180_12 + arg_180_0 then
				arg_177_1.var_.moveOldPos1095ui_story = var_180_11.localPosition
			end

			local var_180_13 = 0.001

			if var_180_12 <= arg_177_1.time_ and arg_177_1.time_ < var_180_12 + var_180_13 then
				local var_180_14 = (arg_177_1.time_ - var_180_12) / var_180_13
				local var_180_15 = Vector3.New(0, -0.98, -6.1)

				var_180_11.localPosition = Vector3.Lerp(arg_177_1.var_.moveOldPos1095ui_story, var_180_15, var_180_14)

				local var_180_16 = manager.ui.mainCamera.transform.position - var_180_11.position

				var_180_11.forward = Vector3.New(var_180_16.x, var_180_16.y, var_180_16.z)

				local var_180_17 = var_180_11.localEulerAngles

				var_180_17.z = 0
				var_180_17.x = 0
				var_180_11.localEulerAngles = var_180_17
			end

			if arg_177_1.time_ >= var_180_12 + var_180_13 and arg_177_1.time_ < var_180_12 + var_180_13 + arg_180_0 then
				var_180_11.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_180_18 = manager.ui.mainCamera.transform.position - var_180_11.position

				var_180_11.forward = Vector3.New(var_180_18.x, var_180_18.y, var_180_18.z)

				local var_180_19 = var_180_11.localEulerAngles

				var_180_19.z = 0
				var_180_19.x = 0
				var_180_11.localEulerAngles = var_180_19
			end

			local var_180_20 = arg_177_1.actors_["1095ui_story"]
			local var_180_21 = 4

			if var_180_21 < arg_177_1.time_ and arg_177_1.time_ <= var_180_21 + arg_180_0 and arg_177_1.var_.characterEffect1095ui_story == nil then
				arg_177_1.var_.characterEffect1095ui_story = var_180_20:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_180_22 = 0.200000002980232

			if var_180_21 <= arg_177_1.time_ and arg_177_1.time_ < var_180_21 + var_180_22 then
				local var_180_23 = (arg_177_1.time_ - var_180_21) / var_180_22

				if arg_177_1.var_.characterEffect1095ui_story then
					arg_177_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_177_1.time_ >= var_180_21 + var_180_22 and arg_177_1.time_ < var_180_21 + var_180_22 + arg_180_0 and arg_177_1.var_.characterEffect1095ui_story then
				arg_177_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_180_24 = "B03b"

			if arg_177_1.bgs_[var_180_24] == nil then
				local var_180_25 = Object.Instantiate(arg_177_1.paintGo_)

				var_180_25:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_180_24)
				var_180_25.name = var_180_24
				var_180_25.transform.parent = arg_177_1.stage_.transform
				var_180_25.transform.localPosition = Vector3.New(0, 100, 0)
				arg_177_1.bgs_[var_180_24] = var_180_25
			end

			local var_180_26 = 2

			if var_180_26 < arg_177_1.time_ and arg_177_1.time_ <= var_180_26 + arg_180_0 then
				local var_180_27 = manager.ui.mainCamera.transform.localPosition
				local var_180_28 = Vector3.New(0, 0, 10) + Vector3.New(var_180_27.x, var_180_27.y, 0)
				local var_180_29 = arg_177_1.bgs_.B03b

				var_180_29.transform.localPosition = var_180_28
				var_180_29.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_180_30 = var_180_29:GetComponent("SpriteRenderer")

				if var_180_30 and var_180_30.sprite then
					local var_180_31 = (var_180_29.transform.localPosition - var_180_27).z
					local var_180_32 = manager.ui.mainCameraCom_
					local var_180_33 = 2 * var_180_31 * Mathf.Tan(var_180_32.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_180_34 = var_180_33 * var_180_32.aspect
					local var_180_35 = var_180_30.sprite.bounds.size.x
					local var_180_36 = var_180_30.sprite.bounds.size.y
					local var_180_37 = var_180_34 / var_180_35
					local var_180_38 = var_180_33 / var_180_36
					local var_180_39 = var_180_38 < var_180_37 and var_180_37 or var_180_38

					var_180_29.transform.localScale = Vector3.New(var_180_39, var_180_39, 0)
				end

				for iter_180_0, iter_180_1 in pairs(arg_177_1.bgs_) do
					if iter_180_0 ~= "B03b" then
						iter_180_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_180_40 = 0

			if var_180_40 < arg_177_1.time_ and arg_177_1.time_ <= var_180_40 + arg_180_0 then
				local var_180_41 = manager.ui.mainCamera.transform.localPosition
				local var_180_42 = Vector3.New(0, 0, 10) + Vector3.New(var_180_41.x, var_180_41.y, 0)
				local var_180_43 = arg_177_1.bgs_.B07a

				var_180_43.transform.localPosition = var_180_42
				var_180_43.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_180_44 = var_180_43:GetComponent("SpriteRenderer")

				if var_180_44 and var_180_44.sprite then
					local var_180_45 = (var_180_43.transform.localPosition - var_180_41).z
					local var_180_46 = manager.ui.mainCameraCom_
					local var_180_47 = 2 * var_180_45 * Mathf.Tan(var_180_46.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_180_48 = var_180_47 * var_180_46.aspect
					local var_180_49 = var_180_44.sprite.bounds.size.x
					local var_180_50 = var_180_44.sprite.bounds.size.y
					local var_180_51 = var_180_48 / var_180_49
					local var_180_52 = var_180_47 / var_180_50
					local var_180_53 = var_180_52 < var_180_51 and var_180_51 or var_180_52

					var_180_43.transform.localScale = Vector3.New(var_180_53, var_180_53, 0)
				end

				for iter_180_2, iter_180_3 in pairs(arg_177_1.bgs_) do
					if iter_180_2 ~= "B07a" then
						iter_180_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_180_54 = 0

			if var_180_54 < arg_177_1.time_ and arg_177_1.time_ <= var_180_54 + arg_180_0 then
				arg_177_1.mask_.enabled = true
				arg_177_1.mask_.raycastTarget = true

				arg_177_1:SetGaussion(false)
			end

			local var_180_55 = 2

			if var_180_54 <= arg_177_1.time_ and arg_177_1.time_ < var_180_54 + var_180_55 then
				local var_180_56 = (arg_177_1.time_ - var_180_54) / var_180_55
				local var_180_57 = Color.New(0, 0, 0)

				var_180_57.a = Mathf.Lerp(0, 1, var_180_56)
				arg_177_1.mask_.color = var_180_57
			end

			if arg_177_1.time_ >= var_180_54 + var_180_55 and arg_177_1.time_ < var_180_54 + var_180_55 + arg_180_0 then
				local var_180_58 = Color.New(0, 0, 0)

				var_180_58.a = 1
				arg_177_1.mask_.color = var_180_58
			end

			local var_180_59 = 2

			if var_180_59 < arg_177_1.time_ and arg_177_1.time_ <= var_180_59 + arg_180_0 then
				arg_177_1.mask_.enabled = true
				arg_177_1.mask_.raycastTarget = true

				arg_177_1:SetGaussion(false)
			end

			local var_180_60 = 1.999999999999

			if var_180_59 <= arg_177_1.time_ and arg_177_1.time_ < var_180_59 + var_180_60 then
				local var_180_61 = (arg_177_1.time_ - var_180_59) / var_180_60
				local var_180_62 = Color.New(0, 0, 0)

				var_180_62.a = Mathf.Lerp(1, 0, var_180_61)
				arg_177_1.mask_.color = var_180_62
			end

			if arg_177_1.time_ >= var_180_59 + var_180_60 and arg_177_1.time_ < var_180_59 + var_180_60 + arg_180_0 then
				local var_180_63 = Color.New(0, 0, 0)
				local var_180_64 = 0

				arg_177_1.mask_.enabled = false
				var_180_63.a = var_180_64
				arg_177_1.mask_.color = var_180_63
			end

			local var_180_65 = arg_177_1.actors_["1095ui_story"].transform
			local var_180_66 = 2

			if var_180_66 < arg_177_1.time_ and arg_177_1.time_ <= var_180_66 + arg_180_0 then
				arg_177_1.var_.moveOldPos1095ui_story = var_180_65.localPosition
			end

			local var_180_67 = 0.001

			if var_180_66 <= arg_177_1.time_ and arg_177_1.time_ < var_180_66 + var_180_67 then
				local var_180_68 = (arg_177_1.time_ - var_180_66) / var_180_67
				local var_180_69 = Vector3.New(0, 100, 0)

				var_180_65.localPosition = Vector3.Lerp(arg_177_1.var_.moveOldPos1095ui_story, var_180_69, var_180_68)

				local var_180_70 = manager.ui.mainCamera.transform.position - var_180_65.position

				var_180_65.forward = Vector3.New(var_180_70.x, var_180_70.y, var_180_70.z)

				local var_180_71 = var_180_65.localEulerAngles

				var_180_71.z = 0
				var_180_71.x = 0
				var_180_65.localEulerAngles = var_180_71
			end

			if arg_177_1.time_ >= var_180_66 + var_180_67 and arg_177_1.time_ < var_180_66 + var_180_67 + arg_180_0 then
				var_180_65.localPosition = Vector3.New(0, 100, 0)

				local var_180_72 = manager.ui.mainCamera.transform.position - var_180_65.position

				var_180_65.forward = Vector3.New(var_180_72.x, var_180_72.y, var_180_72.z)

				local var_180_73 = var_180_65.localEulerAngles

				var_180_73.z = 0
				var_180_73.x = 0
				var_180_65.localEulerAngles = var_180_73
			end

			if arg_177_1.frameCnt_ <= 1 then
				arg_177_1.dialog_:SetActive(false)
			end

			local var_180_74 = 3.999999999999
			local var_180_75 = 0.4

			if var_180_74 < arg_177_1.time_ and arg_177_1.time_ <= var_180_74 + arg_180_0 then
				arg_177_1.talkMaxDuration = 0

				arg_177_1.dialog_:SetActive(true)

				local var_180_76 = LeanTween.value(arg_177_1.dialog_, 0, 1, 0.3)

				var_180_76:setOnUpdate(LuaHelper.FloatAction(function(arg_181_0)
					arg_177_1.dialogCg_.alpha = arg_181_0
				end))
				var_180_76:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_177_1.dialog_)
					var_180_76:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_177_1.duration_ = arg_177_1.duration_ + 0.3

				SetActive(arg_177_1.leftNameGo_, true)

				local var_180_77 = arg_177_1:FormatText(StoryNameCfg[909].name)

				arg_177_1.leftNameTxt_.text = var_180_77

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_177_1.leftNameTxt_.transform)

				arg_177_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_177_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_177_1:RecordName(arg_177_1.leftNameTxt_.text)
				SetActive(arg_177_1.iconTrs_.gameObject, false)
				arg_177_1.callingController_:SetSelectedState("normal")

				local var_180_78 = arg_177_1:GetWordFromCfg(411121043)
				local var_180_79 = arg_177_1:FormatText(var_180_78.content)

				arg_177_1.text_.text = var_180_79

				LuaForUtil.ClearLinePrefixSymbol(arg_177_1.text_)

				local var_180_80 = 16
				local var_180_81 = utf8.len(var_180_79)
				local var_180_82 = var_180_80 <= 0 and var_180_75 or var_180_75 * (var_180_81 / var_180_80)

				if var_180_82 > 0 and var_180_75 < var_180_82 then
					arg_177_1.talkMaxDuration = var_180_82
					var_180_74 = var_180_74 + 0.3

					if var_180_82 + var_180_74 > arg_177_1.duration_ then
						arg_177_1.duration_ = var_180_82 + var_180_74
					end
				end

				arg_177_1.text_.text = var_180_79
				arg_177_1.typewritter.percent = 0

				arg_177_1.typewritter:SetDirty()
				arg_177_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121043", "story_v_out_411121.awb") ~= 0 then
					local var_180_83 = manager.audio:GetVoiceLength("story_v_out_411121", "411121043", "story_v_out_411121.awb") / 1000

					if var_180_83 + var_180_74 > arg_177_1.duration_ then
						arg_177_1.duration_ = var_180_83 + var_180_74
					end

					if var_180_78.prefab_name ~= "" and arg_177_1.actors_[var_180_78.prefab_name] ~= nil then
						local var_180_84 = LuaForUtil.PlayVoiceWithCriLipsync(arg_177_1.actors_[var_180_78.prefab_name].transform, "story_v_out_411121", "411121043", "story_v_out_411121.awb")

						arg_177_1:RecordAudio("411121043", var_180_84)
						arg_177_1:RecordAudio("411121043", var_180_84)
					else
						arg_177_1:AudioAction("play", "voice", "story_v_out_411121", "411121043", "story_v_out_411121.awb")
					end

					arg_177_1:RecordHistoryTalkVoice("story_v_out_411121", "411121043", "story_v_out_411121.awb")
				end

				arg_177_1:RecordContent(arg_177_1.text_.text)
			end

			local var_180_85 = var_180_74 + 0.3
			local var_180_86 = math.max(var_180_75, arg_177_1.talkMaxDuration)

			if var_180_85 <= arg_177_1.time_ and arg_177_1.time_ < var_180_85 + var_180_86 then
				arg_177_1.typewritter.percent = (arg_177_1.time_ - var_180_85) / var_180_86

				arg_177_1.typewritter:SetDirty()
			end

			if arg_177_1.time_ >= var_180_85 + var_180_86 and arg_177_1.time_ < var_180_85 + var_180_86 + arg_180_0 then
				arg_177_1.typewritter.percent = 1

				arg_177_1.typewritter:SetDirty()
				arg_177_1:ShowNextGo(true)
			end
		end
	end,
	Play411121044 = function(arg_183_0, arg_183_1)
		arg_183_1.time_ = 0
		arg_183_1.frameCnt_ = 0
		arg_183_1.state_ = "playing"
		arg_183_1.curTalkId_ = 411121044
		arg_183_1.duration_ = 8

		local var_183_0 = {
			zh = 5.5,
			ja = 8
		}
		local var_183_1 = manager.audio:GetLocalizationFlag()

		if var_183_0[var_183_1] ~= nil then
			arg_183_1.duration_ = var_183_0[var_183_1]
		end

		SetActive(arg_183_1.tipsGo_, false)

		function arg_183_1.onSingleLineFinish_()
			arg_183_1.onSingleLineUpdate_ = nil
			arg_183_1.onSingleLineFinish_ = nil
			arg_183_1.state_ = "waiting"
		end

		function arg_183_1.playNext_(arg_185_0)
			if arg_185_0 == 1 then
				arg_183_0:Play411121045(arg_183_1)
			end
		end

		function arg_183_1.onSingleLineUpdate_(arg_186_0)
			local var_186_0 = 0
			local var_186_1 = 0.6

			if var_186_0 < arg_183_1.time_ and arg_183_1.time_ <= var_186_0 + arg_186_0 then
				arg_183_1.talkMaxDuration = 0
				arg_183_1.dialogCg_.alpha = 1

				arg_183_1.dialog_:SetActive(true)
				SetActive(arg_183_1.leftNameGo_, true)

				local var_186_2 = arg_183_1:FormatText(StoryNameCfg[909].name)

				arg_183_1.leftNameTxt_.text = var_186_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_183_1.leftNameTxt_.transform)

				arg_183_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_183_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_183_1:RecordName(arg_183_1.leftNameTxt_.text)
				SetActive(arg_183_1.iconTrs_.gameObject, false)
				arg_183_1.callingController_:SetSelectedState("normal")

				local var_186_3 = arg_183_1:GetWordFromCfg(411121044)
				local var_186_4 = arg_183_1:FormatText(var_186_3.content)

				arg_183_1.text_.text = var_186_4

				LuaForUtil.ClearLinePrefixSymbol(arg_183_1.text_)

				local var_186_5 = 24
				local var_186_6 = utf8.len(var_186_4)
				local var_186_7 = var_186_5 <= 0 and var_186_1 or var_186_1 * (var_186_6 / var_186_5)

				if var_186_7 > 0 and var_186_1 < var_186_7 then
					arg_183_1.talkMaxDuration = var_186_7

					if var_186_7 + var_186_0 > arg_183_1.duration_ then
						arg_183_1.duration_ = var_186_7 + var_186_0
					end
				end

				arg_183_1.text_.text = var_186_4
				arg_183_1.typewritter.percent = 0

				arg_183_1.typewritter:SetDirty()
				arg_183_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121044", "story_v_out_411121.awb") ~= 0 then
					local var_186_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121044", "story_v_out_411121.awb") / 1000

					if var_186_8 + var_186_0 > arg_183_1.duration_ then
						arg_183_1.duration_ = var_186_8 + var_186_0
					end

					if var_186_3.prefab_name ~= "" and arg_183_1.actors_[var_186_3.prefab_name] ~= nil then
						local var_186_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_183_1.actors_[var_186_3.prefab_name].transform, "story_v_out_411121", "411121044", "story_v_out_411121.awb")

						arg_183_1:RecordAudio("411121044", var_186_9)
						arg_183_1:RecordAudio("411121044", var_186_9)
					else
						arg_183_1:AudioAction("play", "voice", "story_v_out_411121", "411121044", "story_v_out_411121.awb")
					end

					arg_183_1:RecordHistoryTalkVoice("story_v_out_411121", "411121044", "story_v_out_411121.awb")
				end

				arg_183_1:RecordContent(arg_183_1.text_.text)
			end

			local var_186_10 = math.max(var_186_1, arg_183_1.talkMaxDuration)

			if var_186_0 <= arg_183_1.time_ and arg_183_1.time_ < var_186_0 + var_186_10 then
				arg_183_1.typewritter.percent = (arg_183_1.time_ - var_186_0) / var_186_10

				arg_183_1.typewritter:SetDirty()
			end

			if arg_183_1.time_ >= var_186_0 + var_186_10 and arg_183_1.time_ < var_186_0 + var_186_10 + arg_186_0 then
				arg_183_1.typewritter.percent = 1

				arg_183_1.typewritter:SetDirty()
				arg_183_1:ShowNextGo(true)
			end
		end
	end,
	Play411121045 = function(arg_187_0, arg_187_1)
		arg_187_1.time_ = 0
		arg_187_1.frameCnt_ = 0
		arg_187_1.state_ = "playing"
		arg_187_1.curTalkId_ = 411121045
		arg_187_1.duration_ = 5.333

		local var_187_0 = {
			zh = 4.466,
			ja = 5.333
		}
		local var_187_1 = manager.audio:GetLocalizationFlag()

		if var_187_0[var_187_1] ~= nil then
			arg_187_1.duration_ = var_187_0[var_187_1]
		end

		SetActive(arg_187_1.tipsGo_, false)

		function arg_187_1.onSingleLineFinish_()
			arg_187_1.onSingleLineUpdate_ = nil
			arg_187_1.onSingleLineFinish_ = nil
			arg_187_1.state_ = "waiting"
		end

		function arg_187_1.playNext_(arg_189_0)
			if arg_189_0 == 1 then
				arg_187_0:Play411121046(arg_187_1)
			end
		end

		function arg_187_1.onSingleLineUpdate_(arg_190_0)
			local var_190_0 = arg_187_1.actors_["1095ui_story"]
			local var_190_1 = 0

			if var_190_1 < arg_187_1.time_ and arg_187_1.time_ <= var_190_1 + arg_190_0 and arg_187_1.var_.characterEffect1095ui_story == nil then
				arg_187_1.var_.characterEffect1095ui_story = var_190_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_190_2 = 0.200000002980232

			if var_190_1 <= arg_187_1.time_ and arg_187_1.time_ < var_190_1 + var_190_2 then
				local var_190_3 = (arg_187_1.time_ - var_190_1) / var_190_2

				if arg_187_1.var_.characterEffect1095ui_story then
					local var_190_4 = Mathf.Lerp(0, 0.5, var_190_3)

					arg_187_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_187_1.var_.characterEffect1095ui_story.fillRatio = var_190_4
				end
			end

			if arg_187_1.time_ >= var_190_1 + var_190_2 and arg_187_1.time_ < var_190_1 + var_190_2 + arg_190_0 and arg_187_1.var_.characterEffect1095ui_story then
				local var_190_5 = 0.5

				arg_187_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_187_1.var_.characterEffect1095ui_story.fillRatio = var_190_5
			end

			local var_190_6 = 0
			local var_190_7 = 0.45

			if var_190_6 < arg_187_1.time_ and arg_187_1.time_ <= var_190_6 + arg_190_0 then
				arg_187_1.talkMaxDuration = 0
				arg_187_1.dialogCg_.alpha = 1

				arg_187_1.dialog_:SetActive(true)
				SetActive(arg_187_1.leftNameGo_, true)

				local var_190_8 = arg_187_1:FormatText(StoryNameCfg[670].name)

				arg_187_1.leftNameTxt_.text = var_190_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_187_1.leftNameTxt_.transform)

				arg_187_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_187_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_187_1:RecordName(arg_187_1.leftNameTxt_.text)
				SetActive(arg_187_1.iconTrs_.gameObject, true)
				arg_187_1.iconController_:SetSelectedState("hero")

				arg_187_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_187_1.callingController_:SetSelectedState("normal")

				local var_190_9 = arg_187_1:GetWordFromCfg(411121045)
				local var_190_10 = arg_187_1:FormatText(var_190_9.content)

				arg_187_1.text_.text = var_190_10

				LuaForUtil.ClearLinePrefixSymbol(arg_187_1.text_)

				local var_190_11 = 18
				local var_190_12 = utf8.len(var_190_10)
				local var_190_13 = var_190_11 <= 0 and var_190_7 or var_190_7 * (var_190_12 / var_190_11)

				if var_190_13 > 0 and var_190_7 < var_190_13 then
					arg_187_1.talkMaxDuration = var_190_13

					if var_190_13 + var_190_6 > arg_187_1.duration_ then
						arg_187_1.duration_ = var_190_13 + var_190_6
					end
				end

				arg_187_1.text_.text = var_190_10
				arg_187_1.typewritter.percent = 0

				arg_187_1.typewritter:SetDirty()
				arg_187_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121045", "story_v_out_411121.awb") ~= 0 then
					local var_190_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121045", "story_v_out_411121.awb") / 1000

					if var_190_14 + var_190_6 > arg_187_1.duration_ then
						arg_187_1.duration_ = var_190_14 + var_190_6
					end

					if var_190_9.prefab_name ~= "" and arg_187_1.actors_[var_190_9.prefab_name] ~= nil then
						local var_190_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_187_1.actors_[var_190_9.prefab_name].transform, "story_v_out_411121", "411121045", "story_v_out_411121.awb")

						arg_187_1:RecordAudio("411121045", var_190_15)
						arg_187_1:RecordAudio("411121045", var_190_15)
					else
						arg_187_1:AudioAction("play", "voice", "story_v_out_411121", "411121045", "story_v_out_411121.awb")
					end

					arg_187_1:RecordHistoryTalkVoice("story_v_out_411121", "411121045", "story_v_out_411121.awb")
				end

				arg_187_1:RecordContent(arg_187_1.text_.text)
			end

			local var_190_16 = math.max(var_190_7, arg_187_1.talkMaxDuration)

			if var_190_6 <= arg_187_1.time_ and arg_187_1.time_ < var_190_6 + var_190_16 then
				arg_187_1.typewritter.percent = (arg_187_1.time_ - var_190_6) / var_190_16

				arg_187_1.typewritter:SetDirty()
			end

			if arg_187_1.time_ >= var_190_6 + var_190_16 and arg_187_1.time_ < var_190_6 + var_190_16 + arg_190_0 then
				arg_187_1.typewritter.percent = 1

				arg_187_1.typewritter:SetDirty()
				arg_187_1:ShowNextGo(true)
			end
		end
	end,
	Play411121046 = function(arg_191_0, arg_191_1)
		arg_191_1.time_ = 0
		arg_191_1.frameCnt_ = 0
		arg_191_1.state_ = "playing"
		arg_191_1.curTalkId_ = 411121046
		arg_191_1.duration_ = 2.566

		local var_191_0 = {
			zh = 1.833,
			ja = 2.566
		}
		local var_191_1 = manager.audio:GetLocalizationFlag()

		if var_191_0[var_191_1] ~= nil then
			arg_191_1.duration_ = var_191_0[var_191_1]
		end

		SetActive(arg_191_1.tipsGo_, false)

		function arg_191_1.onSingleLineFinish_()
			arg_191_1.onSingleLineUpdate_ = nil
			arg_191_1.onSingleLineFinish_ = nil
			arg_191_1.state_ = "waiting"
		end

		function arg_191_1.playNext_(arg_193_0)
			if arg_193_0 == 1 then
				arg_191_0:Play411121047(arg_191_1)
			end
		end

		function arg_191_1.onSingleLineUpdate_(arg_194_0)
			local var_194_0 = 0
			local var_194_1 = 0.15

			if var_194_0 < arg_191_1.time_ and arg_191_1.time_ <= var_194_0 + arg_194_0 then
				arg_191_1.talkMaxDuration = 0
				arg_191_1.dialogCg_.alpha = 1

				arg_191_1.dialog_:SetActive(true)
				SetActive(arg_191_1.leftNameGo_, true)

				local var_194_2 = arg_191_1:FormatText(StoryNameCfg[670].name)

				arg_191_1.leftNameTxt_.text = var_194_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_191_1.leftNameTxt_.transform)

				arg_191_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_191_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_191_1:RecordName(arg_191_1.leftNameTxt_.text)
				SetActive(arg_191_1.iconTrs_.gameObject, true)
				arg_191_1.iconController_:SetSelectedState("hero")

				arg_191_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_191_1.callingController_:SetSelectedState("normal")

				local var_194_3 = arg_191_1:GetWordFromCfg(411121046)
				local var_194_4 = arg_191_1:FormatText(var_194_3.content)

				arg_191_1.text_.text = var_194_4

				LuaForUtil.ClearLinePrefixSymbol(arg_191_1.text_)

				local var_194_5 = 6
				local var_194_6 = utf8.len(var_194_4)
				local var_194_7 = var_194_5 <= 0 and var_194_1 or var_194_1 * (var_194_6 / var_194_5)

				if var_194_7 > 0 and var_194_1 < var_194_7 then
					arg_191_1.talkMaxDuration = var_194_7

					if var_194_7 + var_194_0 > arg_191_1.duration_ then
						arg_191_1.duration_ = var_194_7 + var_194_0
					end
				end

				arg_191_1.text_.text = var_194_4
				arg_191_1.typewritter.percent = 0

				arg_191_1.typewritter:SetDirty()
				arg_191_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121046", "story_v_out_411121.awb") ~= 0 then
					local var_194_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121046", "story_v_out_411121.awb") / 1000

					if var_194_8 + var_194_0 > arg_191_1.duration_ then
						arg_191_1.duration_ = var_194_8 + var_194_0
					end

					if var_194_3.prefab_name ~= "" and arg_191_1.actors_[var_194_3.prefab_name] ~= nil then
						local var_194_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_191_1.actors_[var_194_3.prefab_name].transform, "story_v_out_411121", "411121046", "story_v_out_411121.awb")

						arg_191_1:RecordAudio("411121046", var_194_9)
						arg_191_1:RecordAudio("411121046", var_194_9)
					else
						arg_191_1:AudioAction("play", "voice", "story_v_out_411121", "411121046", "story_v_out_411121.awb")
					end

					arg_191_1:RecordHistoryTalkVoice("story_v_out_411121", "411121046", "story_v_out_411121.awb")
				end

				arg_191_1:RecordContent(arg_191_1.text_.text)
			end

			local var_194_10 = math.max(var_194_1, arg_191_1.talkMaxDuration)

			if var_194_0 <= arg_191_1.time_ and arg_191_1.time_ < var_194_0 + var_194_10 then
				arg_191_1.typewritter.percent = (arg_191_1.time_ - var_194_0) / var_194_10

				arg_191_1.typewritter:SetDirty()
			end

			if arg_191_1.time_ >= var_194_0 + var_194_10 and arg_191_1.time_ < var_194_0 + var_194_10 + arg_194_0 then
				arg_191_1.typewritter.percent = 1

				arg_191_1.typewritter:SetDirty()
				arg_191_1:ShowNextGo(true)
			end
		end
	end,
	Play411121047 = function(arg_195_0, arg_195_1)
		arg_195_1.time_ = 0
		arg_195_1.frameCnt_ = 0
		arg_195_1.state_ = "playing"
		arg_195_1.curTalkId_ = 411121047
		arg_195_1.duration_ = 1.5

		local var_195_0 = {
			zh = 1.466,
			ja = 1.5
		}
		local var_195_1 = manager.audio:GetLocalizationFlag()

		if var_195_0[var_195_1] ~= nil then
			arg_195_1.duration_ = var_195_0[var_195_1]
		end

		SetActive(arg_195_1.tipsGo_, false)

		function arg_195_1.onSingleLineFinish_()
			arg_195_1.onSingleLineUpdate_ = nil
			arg_195_1.onSingleLineFinish_ = nil
			arg_195_1.state_ = "waiting"
		end

		function arg_195_1.playNext_(arg_197_0)
			if arg_197_0 == 1 then
				arg_195_0:Play411121048(arg_195_1)
			end
		end

		function arg_195_1.onSingleLineUpdate_(arg_198_0)
			local var_198_0 = 0
			local var_198_1 = 0.125

			if var_198_0 < arg_195_1.time_ and arg_195_1.time_ <= var_198_0 + arg_198_0 then
				arg_195_1.talkMaxDuration = 0
				arg_195_1.dialogCg_.alpha = 1

				arg_195_1.dialog_:SetActive(true)
				SetActive(arg_195_1.leftNameGo_, true)

				local var_198_2 = arg_195_1:FormatText(StoryNameCfg[471].name)

				arg_195_1.leftNameTxt_.text = var_198_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_195_1.leftNameTxt_.transform)

				arg_195_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_195_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_195_1:RecordName(arg_195_1.leftNameTxt_.text)
				SetActive(arg_195_1.iconTrs_.gameObject, true)
				arg_195_1.iconController_:SetSelectedState("hero")

				arg_195_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_195_1.callingController_:SetSelectedState("normal")

				local var_198_3 = arg_195_1:GetWordFromCfg(411121047)
				local var_198_4 = arg_195_1:FormatText(var_198_3.content)

				arg_195_1.text_.text = var_198_4

				LuaForUtil.ClearLinePrefixSymbol(arg_195_1.text_)

				local var_198_5 = 5
				local var_198_6 = utf8.len(var_198_4)
				local var_198_7 = var_198_5 <= 0 and var_198_1 or var_198_1 * (var_198_6 / var_198_5)

				if var_198_7 > 0 and var_198_1 < var_198_7 then
					arg_195_1.talkMaxDuration = var_198_7

					if var_198_7 + var_198_0 > arg_195_1.duration_ then
						arg_195_1.duration_ = var_198_7 + var_198_0
					end
				end

				arg_195_1.text_.text = var_198_4
				arg_195_1.typewritter.percent = 0

				arg_195_1.typewritter:SetDirty()
				arg_195_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121047", "story_v_out_411121.awb") ~= 0 then
					local var_198_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121047", "story_v_out_411121.awb") / 1000

					if var_198_8 + var_198_0 > arg_195_1.duration_ then
						arg_195_1.duration_ = var_198_8 + var_198_0
					end

					if var_198_3.prefab_name ~= "" and arg_195_1.actors_[var_198_3.prefab_name] ~= nil then
						local var_198_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_195_1.actors_[var_198_3.prefab_name].transform, "story_v_out_411121", "411121047", "story_v_out_411121.awb")

						arg_195_1:RecordAudio("411121047", var_198_9)
						arg_195_1:RecordAudio("411121047", var_198_9)
					else
						arg_195_1:AudioAction("play", "voice", "story_v_out_411121", "411121047", "story_v_out_411121.awb")
					end

					arg_195_1:RecordHistoryTalkVoice("story_v_out_411121", "411121047", "story_v_out_411121.awb")
				end

				arg_195_1:RecordContent(arg_195_1.text_.text)
			end

			local var_198_10 = math.max(var_198_1, arg_195_1.talkMaxDuration)

			if var_198_0 <= arg_195_1.time_ and arg_195_1.time_ < var_198_0 + var_198_10 then
				arg_195_1.typewritter.percent = (arg_195_1.time_ - var_198_0) / var_198_10

				arg_195_1.typewritter:SetDirty()
			end

			if arg_195_1.time_ >= var_198_0 + var_198_10 and arg_195_1.time_ < var_198_0 + var_198_10 + arg_198_0 then
				arg_195_1.typewritter.percent = 1

				arg_195_1.typewritter:SetDirty()
				arg_195_1:ShowNextGo(true)
			end
		end
	end,
	Play411121048 = function(arg_199_0, arg_199_1)
		arg_199_1.time_ = 0
		arg_199_1.frameCnt_ = 0
		arg_199_1.state_ = "playing"
		arg_199_1.curTalkId_ = 411121048
		arg_199_1.duration_ = 6.53333333333333

		local var_199_0 = {
			zh = 6.53333333333333,
			ja = 6.09933333333333
		}
		local var_199_1 = manager.audio:GetLocalizationFlag()

		if var_199_0[var_199_1] ~= nil then
			arg_199_1.duration_ = var_199_0[var_199_1]
		end

		SetActive(arg_199_1.tipsGo_, false)

		function arg_199_1.onSingleLineFinish_()
			arg_199_1.onSingleLineUpdate_ = nil
			arg_199_1.onSingleLineFinish_ = nil
			arg_199_1.state_ = "waiting"
		end

		function arg_199_1.playNext_(arg_201_0)
			if arg_201_0 == 1 then
				arg_199_0:Play411121049(arg_199_1)
			end
		end

		function arg_199_1.onSingleLineUpdate_(arg_202_0)
			local var_202_0 = "10071ui_story"

			if arg_199_1.actors_[var_202_0] == nil then
				local var_202_1 = Object.Instantiate(Asset.Load("Char/" .. var_202_0), arg_199_1.stage_.transform)

				var_202_1.name = var_202_0
				var_202_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_199_1.actors_[var_202_0] = var_202_1

				local var_202_2 = var_202_1:GetComponentInChildren(typeof(CharacterEffect))

				var_202_2.enabled = true

				local var_202_3 = GameObjectTools.GetOrAddComponent(var_202_1, typeof(DynamicBoneHelper))

				if var_202_3 then
					var_202_3:EnableDynamicBone(false)
				end

				arg_199_1:ShowWeapon(var_202_2.transform, false)

				arg_199_1.var_[var_202_0 .. "Animator"] = var_202_2.gameObject:GetComponent(typeof(UnityEngine.Animator))
				arg_199_1.var_[var_202_0 .. "Animator"].applyRootMotion = true
				arg_199_1.var_[var_202_0 .. "LipSync"] = var_202_2.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
			end

			local var_202_4 = arg_199_1.actors_["10071ui_story"].transform
			local var_202_5 = 3.93333333333433

			if var_202_5 < arg_199_1.time_ and arg_199_1.time_ <= var_202_5 + arg_202_0 then
				arg_199_1.var_.moveOldPos10071ui_story = var_202_4.localPosition
			end

			local var_202_6 = 0.001

			if var_202_5 <= arg_199_1.time_ and arg_199_1.time_ < var_202_5 + var_202_6 then
				local var_202_7 = (arg_199_1.time_ - var_202_5) / var_202_6
				local var_202_8 = Vector3.New(0, -0.9, -6.26)

				var_202_4.localPosition = Vector3.Lerp(arg_199_1.var_.moveOldPos10071ui_story, var_202_8, var_202_7)

				local var_202_9 = manager.ui.mainCamera.transform.position - var_202_4.position

				var_202_4.forward = Vector3.New(var_202_9.x, var_202_9.y, var_202_9.z)

				local var_202_10 = var_202_4.localEulerAngles

				var_202_10.z = 0
				var_202_10.x = 0
				var_202_4.localEulerAngles = var_202_10
			end

			if arg_199_1.time_ >= var_202_5 + var_202_6 and arg_199_1.time_ < var_202_5 + var_202_6 + arg_202_0 then
				var_202_4.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_202_11 = manager.ui.mainCamera.transform.position - var_202_4.position

				var_202_4.forward = Vector3.New(var_202_11.x, var_202_11.y, var_202_11.z)

				local var_202_12 = var_202_4.localEulerAngles

				var_202_12.z = 0
				var_202_12.x = 0
				var_202_4.localEulerAngles = var_202_12
			end

			local var_202_13 = arg_199_1.actors_["10071ui_story"]
			local var_202_14 = 3.93333333333433

			if var_202_14 < arg_199_1.time_ and arg_199_1.time_ <= var_202_14 + arg_202_0 and arg_199_1.var_.characterEffect10071ui_story == nil then
				arg_199_1.var_.characterEffect10071ui_story = var_202_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_202_15 = 0.200000002980232

			if var_202_14 <= arg_199_1.time_ and arg_199_1.time_ < var_202_14 + var_202_15 then
				local var_202_16 = (arg_199_1.time_ - var_202_14) / var_202_15

				if arg_199_1.var_.characterEffect10071ui_story then
					arg_199_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_199_1.time_ >= var_202_14 + var_202_15 and arg_199_1.time_ < var_202_14 + var_202_15 + arg_202_0 and arg_199_1.var_.characterEffect10071ui_story then
				arg_199_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_202_17 = 3.93333333333433

			if var_202_17 < arg_199_1.time_ and arg_199_1.time_ <= var_202_17 + arg_202_0 then
				arg_199_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action2_1")
			end

			local var_202_18 = 3.93333333333433

			if var_202_18 < arg_199_1.time_ and arg_199_1.time_ <= var_202_18 + arg_202_0 then
				arg_199_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2102cva")
			end

			local var_202_19 = arg_199_1.actors_["1095ui_story"].transform
			local var_202_20 = 2

			if var_202_20 < arg_199_1.time_ and arg_199_1.time_ <= var_202_20 + arg_202_0 then
				arg_199_1.var_.moveOldPos1095ui_story = var_202_19.localPosition
			end

			local var_202_21 = 0.001

			if var_202_20 <= arg_199_1.time_ and arg_199_1.time_ < var_202_20 + var_202_21 then
				local var_202_22 = (arg_199_1.time_ - var_202_20) / var_202_21
				local var_202_23 = Vector3.New(0, 100, 0)

				var_202_19.localPosition = Vector3.Lerp(arg_199_1.var_.moveOldPos1095ui_story, var_202_23, var_202_22)

				local var_202_24 = manager.ui.mainCamera.transform.position - var_202_19.position

				var_202_19.forward = Vector3.New(var_202_24.x, var_202_24.y, var_202_24.z)

				local var_202_25 = var_202_19.localEulerAngles

				var_202_25.z = 0
				var_202_25.x = 0
				var_202_19.localEulerAngles = var_202_25
			end

			if arg_199_1.time_ >= var_202_20 + var_202_21 and arg_199_1.time_ < var_202_20 + var_202_21 + arg_202_0 then
				var_202_19.localPosition = Vector3.New(0, 100, 0)

				local var_202_26 = manager.ui.mainCamera.transform.position - var_202_19.position

				var_202_19.forward = Vector3.New(var_202_26.x, var_202_26.y, var_202_26.z)

				local var_202_27 = var_202_19.localEulerAngles

				var_202_27.z = 0
				var_202_27.x = 0
				var_202_19.localEulerAngles = var_202_27
			end

			local var_202_28 = 0

			if var_202_28 < arg_199_1.time_ and arg_199_1.time_ <= var_202_28 + arg_202_0 then
				local var_202_29 = manager.ui.mainCamera.transform.localPosition
				local var_202_30 = Vector3.New(0, 0, 10) + Vector3.New(var_202_29.x, var_202_29.y, 0)
				local var_202_31 = arg_199_1.bgs_.B03b

				var_202_31.transform.localPosition = var_202_30
				var_202_31.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_202_32 = var_202_31:GetComponent("SpriteRenderer")

				if var_202_32 and var_202_32.sprite then
					local var_202_33 = (var_202_31.transform.localPosition - var_202_29).z
					local var_202_34 = manager.ui.mainCameraCom_
					local var_202_35 = 2 * var_202_33 * Mathf.Tan(var_202_34.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_202_36 = var_202_35 * var_202_34.aspect
					local var_202_37 = var_202_32.sprite.bounds.size.x
					local var_202_38 = var_202_32.sprite.bounds.size.y
					local var_202_39 = var_202_36 / var_202_37
					local var_202_40 = var_202_35 / var_202_38
					local var_202_41 = var_202_40 < var_202_39 and var_202_39 or var_202_40

					var_202_31.transform.localScale = Vector3.New(var_202_41, var_202_41, 0)
				end

				for iter_202_0, iter_202_1 in pairs(arg_199_1.bgs_) do
					if iter_202_0 ~= "B03b" then
						iter_202_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_202_42 = "I11r"

			if arg_199_1.bgs_[var_202_42] == nil then
				local var_202_43 = Object.Instantiate(arg_199_1.paintGo_)

				var_202_43:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_202_42)
				var_202_43.name = var_202_42
				var_202_43.transform.parent = arg_199_1.stage_.transform
				var_202_43.transform.localPosition = Vector3.New(0, 100, 0)
				arg_199_1.bgs_[var_202_42] = var_202_43
			end

			local var_202_44 = 2

			if var_202_44 < arg_199_1.time_ and arg_199_1.time_ <= var_202_44 + arg_202_0 then
				local var_202_45 = manager.ui.mainCamera.transform.localPosition
				local var_202_46 = Vector3.New(0, 0, 10) + Vector3.New(var_202_45.x, var_202_45.y, 0)
				local var_202_47 = arg_199_1.bgs_.I11r

				var_202_47.transform.localPosition = var_202_46
				var_202_47.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_202_48 = var_202_47:GetComponent("SpriteRenderer")

				if var_202_48 and var_202_48.sprite then
					local var_202_49 = (var_202_47.transform.localPosition - var_202_45).z
					local var_202_50 = manager.ui.mainCameraCom_
					local var_202_51 = 2 * var_202_49 * Mathf.Tan(var_202_50.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_202_52 = var_202_51 * var_202_50.aspect
					local var_202_53 = var_202_48.sprite.bounds.size.x
					local var_202_54 = var_202_48.sprite.bounds.size.y
					local var_202_55 = var_202_52 / var_202_53
					local var_202_56 = var_202_51 / var_202_54
					local var_202_57 = var_202_56 < var_202_55 and var_202_55 or var_202_56

					var_202_47.transform.localScale = Vector3.New(var_202_57, var_202_57, 0)
				end

				for iter_202_2, iter_202_3 in pairs(arg_199_1.bgs_) do
					if iter_202_2 ~= "I11r" then
						iter_202_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_202_58 = 0

			if var_202_58 < arg_199_1.time_ and arg_199_1.time_ <= var_202_58 + arg_202_0 then
				arg_199_1.mask_.enabled = true
				arg_199_1.mask_.raycastTarget = true

				arg_199_1:SetGaussion(false)
			end

			local var_202_59 = 2

			if var_202_58 <= arg_199_1.time_ and arg_199_1.time_ < var_202_58 + var_202_59 then
				local var_202_60 = (arg_199_1.time_ - var_202_58) / var_202_59
				local var_202_61 = Color.New(0, 0, 0)

				var_202_61.a = Mathf.Lerp(0, 1, var_202_60)
				arg_199_1.mask_.color = var_202_61
			end

			if arg_199_1.time_ >= var_202_58 + var_202_59 and arg_199_1.time_ < var_202_58 + var_202_59 + arg_202_0 then
				local var_202_62 = Color.New(0, 0, 0)

				var_202_62.a = 1
				arg_199_1.mask_.color = var_202_62
			end

			local var_202_63 = 2

			if var_202_63 < arg_199_1.time_ and arg_199_1.time_ <= var_202_63 + arg_202_0 then
				arg_199_1.mask_.enabled = true
				arg_199_1.mask_.raycastTarget = true

				arg_199_1:SetGaussion(false)
			end

			local var_202_64 = 1.999999999999

			if var_202_63 <= arg_199_1.time_ and arg_199_1.time_ < var_202_63 + var_202_64 then
				local var_202_65 = (arg_199_1.time_ - var_202_63) / var_202_64
				local var_202_66 = Color.New(0, 0, 0)

				var_202_66.a = Mathf.Lerp(1, 0, var_202_65)
				arg_199_1.mask_.color = var_202_66
			end

			if arg_199_1.time_ >= var_202_63 + var_202_64 and arg_199_1.time_ < var_202_63 + var_202_64 + arg_202_0 then
				local var_202_67 = Color.New(0, 0, 0)
				local var_202_68 = 0

				arg_199_1.mask_.enabled = false
				var_202_67.a = var_202_68
				arg_199_1.mask_.color = var_202_67
			end

			if arg_199_1.frameCnt_ <= 1 then
				arg_199_1.dialog_:SetActive(false)
			end

			local var_202_69 = 3.93333333333333
			local var_202_70 = 0.266666666666667

			if var_202_69 < arg_199_1.time_ and arg_199_1.time_ <= var_202_69 + arg_202_0 then
				arg_199_1.talkMaxDuration = 0

				arg_199_1.dialog_:SetActive(true)

				local var_202_71 = LeanTween.value(arg_199_1.dialog_, 0, 1, 0.3)

				var_202_71:setOnUpdate(LuaHelper.FloatAction(function(arg_203_0)
					arg_199_1.dialogCg_.alpha = arg_203_0
				end))
				var_202_71:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_199_1.dialog_)
					var_202_71:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_199_1.duration_ = arg_199_1.duration_ + 0.3

				SetActive(arg_199_1.leftNameGo_, true)

				local var_202_72 = arg_199_1:FormatText(StoryNameCfg[670].name)

				arg_199_1.leftNameTxt_.text = var_202_72

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_199_1.leftNameTxt_.transform)

				arg_199_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_199_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_199_1:RecordName(arg_199_1.leftNameTxt_.text)
				SetActive(arg_199_1.iconTrs_.gameObject, false)
				arg_199_1.callingController_:SetSelectedState("normal")

				local var_202_73 = arg_199_1:GetWordFromCfg(411121048)
				local var_202_74 = arg_199_1:FormatText(var_202_73.content)

				arg_199_1.text_.text = var_202_74

				LuaForUtil.ClearLinePrefixSymbol(arg_199_1.text_)

				local var_202_75 = 5
				local var_202_76 = utf8.len(var_202_74)
				local var_202_77 = var_202_75 <= 0 and var_202_70 or var_202_70 * (var_202_76 / var_202_75)

				if var_202_77 > 0 and var_202_70 < var_202_77 then
					arg_199_1.talkMaxDuration = var_202_77
					var_202_69 = var_202_69 + 0.3

					if var_202_77 + var_202_69 > arg_199_1.duration_ then
						arg_199_1.duration_ = var_202_77 + var_202_69
					end
				end

				arg_199_1.text_.text = var_202_74
				arg_199_1.typewritter.percent = 0

				arg_199_1.typewritter:SetDirty()
				arg_199_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121048", "story_v_out_411121.awb") ~= 0 then
					local var_202_78 = manager.audio:GetVoiceLength("story_v_out_411121", "411121048", "story_v_out_411121.awb") / 1000

					if var_202_78 + var_202_69 > arg_199_1.duration_ then
						arg_199_1.duration_ = var_202_78 + var_202_69
					end

					if var_202_73.prefab_name ~= "" and arg_199_1.actors_[var_202_73.prefab_name] ~= nil then
						local var_202_79 = LuaForUtil.PlayVoiceWithCriLipsync(arg_199_1.actors_[var_202_73.prefab_name].transform, "story_v_out_411121", "411121048", "story_v_out_411121.awb")

						arg_199_1:RecordAudio("411121048", var_202_79)
						arg_199_1:RecordAudio("411121048", var_202_79)
					else
						arg_199_1:AudioAction("play", "voice", "story_v_out_411121", "411121048", "story_v_out_411121.awb")
					end

					arg_199_1:RecordHistoryTalkVoice("story_v_out_411121", "411121048", "story_v_out_411121.awb")
				end

				arg_199_1:RecordContent(arg_199_1.text_.text)
			end

			local var_202_80 = var_202_69 + 0.3
			local var_202_81 = math.max(var_202_70, arg_199_1.talkMaxDuration)

			if var_202_80 <= arg_199_1.time_ and arg_199_1.time_ < var_202_80 + var_202_81 then
				arg_199_1.typewritter.percent = (arg_199_1.time_ - var_202_80) / var_202_81

				arg_199_1.typewritter:SetDirty()
			end

			if arg_199_1.time_ >= var_202_80 + var_202_81 and arg_199_1.time_ < var_202_80 + var_202_81 + arg_202_0 then
				arg_199_1.typewritter.percent = 1

				arg_199_1.typewritter:SetDirty()
				arg_199_1:ShowNextGo(true)
			end
		end
	end,
	Play411121049 = function(arg_205_0, arg_205_1)
		arg_205_1.time_ = 0
		arg_205_1.frameCnt_ = 0
		arg_205_1.state_ = "playing"
		arg_205_1.curTalkId_ = 411121049
		arg_205_1.duration_ = 5

		SetActive(arg_205_1.tipsGo_, false)

		function arg_205_1.onSingleLineFinish_()
			arg_205_1.onSingleLineUpdate_ = nil
			arg_205_1.onSingleLineFinish_ = nil
			arg_205_1.state_ = "waiting"
		end

		function arg_205_1.playNext_(arg_207_0)
			if arg_207_0 == 1 then
				arg_205_0:Play411121050(arg_205_1)
			end
		end

		function arg_205_1.onSingleLineUpdate_(arg_208_0)
			local var_208_0 = arg_205_1.actors_["10071ui_story"]
			local var_208_1 = 0

			if var_208_1 < arg_205_1.time_ and arg_205_1.time_ <= var_208_1 + arg_208_0 and arg_205_1.var_.characterEffect10071ui_story == nil then
				arg_205_1.var_.characterEffect10071ui_story = var_208_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_208_2 = 0.200000002980232

			if var_208_1 <= arg_205_1.time_ and arg_205_1.time_ < var_208_1 + var_208_2 then
				local var_208_3 = (arg_205_1.time_ - var_208_1) / var_208_2

				if arg_205_1.var_.characterEffect10071ui_story then
					local var_208_4 = Mathf.Lerp(0, 0.5, var_208_3)

					arg_205_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_205_1.var_.characterEffect10071ui_story.fillRatio = var_208_4
				end
			end

			if arg_205_1.time_ >= var_208_1 + var_208_2 and arg_205_1.time_ < var_208_1 + var_208_2 + arg_208_0 and arg_205_1.var_.characterEffect10071ui_story then
				local var_208_5 = 0.5

				arg_205_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_205_1.var_.characterEffect10071ui_story.fillRatio = var_208_5
			end

			local var_208_6 = arg_205_1.actors_["10071ui_story"].transform
			local var_208_7 = 0

			if var_208_7 < arg_205_1.time_ and arg_205_1.time_ <= var_208_7 + arg_208_0 then
				arg_205_1.var_.moveOldPos10071ui_story = var_208_6.localPosition
			end

			local var_208_8 = 0.001

			if var_208_7 <= arg_205_1.time_ and arg_205_1.time_ < var_208_7 + var_208_8 then
				local var_208_9 = (arg_205_1.time_ - var_208_7) / var_208_8
				local var_208_10 = Vector3.New(0, 100, 0)

				var_208_6.localPosition = Vector3.Lerp(arg_205_1.var_.moveOldPos10071ui_story, var_208_10, var_208_9)

				local var_208_11 = manager.ui.mainCamera.transform.position - var_208_6.position

				var_208_6.forward = Vector3.New(var_208_11.x, var_208_11.y, var_208_11.z)

				local var_208_12 = var_208_6.localEulerAngles

				var_208_12.z = 0
				var_208_12.x = 0
				var_208_6.localEulerAngles = var_208_12
			end

			if arg_205_1.time_ >= var_208_7 + var_208_8 and arg_205_1.time_ < var_208_7 + var_208_8 + arg_208_0 then
				var_208_6.localPosition = Vector3.New(0, 100, 0)

				local var_208_13 = manager.ui.mainCamera.transform.position - var_208_6.position

				var_208_6.forward = Vector3.New(var_208_13.x, var_208_13.y, var_208_13.z)

				local var_208_14 = var_208_6.localEulerAngles

				var_208_14.z = 0
				var_208_14.x = 0
				var_208_6.localEulerAngles = var_208_14
			end

			local var_208_15 = 0
			local var_208_16 = 1

			if var_208_15 < arg_205_1.time_ and arg_205_1.time_ <= var_208_15 + arg_208_0 then
				local var_208_17 = "play"
				local var_208_18 = "effect"

				arg_205_1:AudioAction(var_208_17, var_208_18, "se_story_6", "se_story_6_monster", "")
			end

			local var_208_19 = 0
			local var_208_20 = 0.15

			if var_208_19 < arg_205_1.time_ and arg_205_1.time_ <= var_208_19 + arg_208_0 then
				arg_205_1.talkMaxDuration = 0
				arg_205_1.dialogCg_.alpha = 1

				arg_205_1.dialog_:SetActive(true)
				SetActive(arg_205_1.leftNameGo_, true)

				local var_208_21 = arg_205_1:FormatText(StoryNameCfg[217].name)

				arg_205_1.leftNameTxt_.text = var_208_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_205_1.leftNameTxt_.transform)

				arg_205_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_205_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_205_1:RecordName(arg_205_1.leftNameTxt_.text)
				SetActive(arg_205_1.iconTrs_.gameObject, true)
				arg_205_1.iconController_:SetSelectedState("hero")

				arg_205_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2118")

				arg_205_1.callingController_:SetSelectedState("normal")

				local var_208_22 = arg_205_1:GetWordFromCfg(411121049)
				local var_208_23 = arg_205_1:FormatText(var_208_22.content)

				arg_205_1.text_.text = var_208_23

				LuaForUtil.ClearLinePrefixSymbol(arg_205_1.text_)

				local var_208_24 = 6
				local var_208_25 = utf8.len(var_208_23)
				local var_208_26 = var_208_24 <= 0 and var_208_20 or var_208_20 * (var_208_25 / var_208_24)

				if var_208_26 > 0 and var_208_20 < var_208_26 then
					arg_205_1.talkMaxDuration = var_208_26

					if var_208_26 + var_208_19 > arg_205_1.duration_ then
						arg_205_1.duration_ = var_208_26 + var_208_19
					end
				end

				arg_205_1.text_.text = var_208_23
				arg_205_1.typewritter.percent = 0

				arg_205_1.typewritter:SetDirty()
				arg_205_1:ShowNextGo(false)
				arg_205_1:RecordContent(arg_205_1.text_.text)
			end

			local var_208_27 = math.max(var_208_20, arg_205_1.talkMaxDuration)

			if var_208_19 <= arg_205_1.time_ and arg_205_1.time_ < var_208_19 + var_208_27 then
				arg_205_1.typewritter.percent = (arg_205_1.time_ - var_208_19) / var_208_27

				arg_205_1.typewritter:SetDirty()
			end

			if arg_205_1.time_ >= var_208_19 + var_208_27 and arg_205_1.time_ < var_208_19 + var_208_27 + arg_208_0 then
				arg_205_1.typewritter.percent = 1

				arg_205_1.typewritter:SetDirty()
				arg_205_1:ShowNextGo(true)
			end
		end
	end,
	Play411121050 = function(arg_209_0, arg_209_1)
		arg_209_1.time_ = 0
		arg_209_1.frameCnt_ = 0
		arg_209_1.state_ = "playing"
		arg_209_1.curTalkId_ = 411121050
		arg_209_1.duration_ = 1.999999999999

		SetActive(arg_209_1.tipsGo_, false)

		function arg_209_1.onSingleLineFinish_()
			arg_209_1.onSingleLineUpdate_ = nil
			arg_209_1.onSingleLineFinish_ = nil
			arg_209_1.state_ = "waiting"
		end

		function arg_209_1.playNext_(arg_211_0)
			if arg_211_0 == 1 then
				arg_209_0:Play411121051(arg_209_1)
			end
		end

		function arg_209_1.onSingleLineUpdate_(arg_212_0)
			local var_212_0 = arg_209_1.actors_["1095ui_story"].transform
			local var_212_1 = 0

			if var_212_1 < arg_209_1.time_ and arg_209_1.time_ <= var_212_1 + arg_212_0 then
				arg_209_1.var_.moveOldPos1095ui_story = var_212_0.localPosition
			end

			local var_212_2 = 0.001

			if var_212_1 <= arg_209_1.time_ and arg_209_1.time_ < var_212_1 + var_212_2 then
				local var_212_3 = (arg_209_1.time_ - var_212_1) / var_212_2
				local var_212_4 = Vector3.New(0, -0.98, -6.1)

				var_212_0.localPosition = Vector3.Lerp(arg_209_1.var_.moveOldPos1095ui_story, var_212_4, var_212_3)

				local var_212_5 = manager.ui.mainCamera.transform.position - var_212_0.position

				var_212_0.forward = Vector3.New(var_212_5.x, var_212_5.y, var_212_5.z)

				local var_212_6 = var_212_0.localEulerAngles

				var_212_6.z = 0
				var_212_6.x = 0
				var_212_0.localEulerAngles = var_212_6
			end

			if arg_209_1.time_ >= var_212_1 + var_212_2 and arg_209_1.time_ < var_212_1 + var_212_2 + arg_212_0 then
				var_212_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_212_7 = manager.ui.mainCamera.transform.position - var_212_0.position

				var_212_0.forward = Vector3.New(var_212_7.x, var_212_7.y, var_212_7.z)

				local var_212_8 = var_212_0.localEulerAngles

				var_212_8.z = 0
				var_212_8.x = 0
				var_212_0.localEulerAngles = var_212_8
			end

			local var_212_9 = arg_209_1.actors_["1095ui_story"]
			local var_212_10 = 0

			if var_212_10 < arg_209_1.time_ and arg_209_1.time_ <= var_212_10 + arg_212_0 and arg_209_1.var_.characterEffect1095ui_story == nil then
				arg_209_1.var_.characterEffect1095ui_story = var_212_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_212_11 = 0.200000002980232

			if var_212_10 <= arg_209_1.time_ and arg_209_1.time_ < var_212_10 + var_212_11 then
				local var_212_12 = (arg_209_1.time_ - var_212_10) / var_212_11

				if arg_209_1.var_.characterEffect1095ui_story then
					arg_209_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_209_1.time_ >= var_212_10 + var_212_11 and arg_209_1.time_ < var_212_10 + var_212_11 + arg_212_0 and arg_209_1.var_.characterEffect1095ui_story then
				arg_209_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_212_13 = 0

			if var_212_13 < arg_209_1.time_ and arg_209_1.time_ <= var_212_13 + arg_212_0 then
				arg_209_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_212_14 = 0

			if var_212_14 < arg_209_1.time_ and arg_209_1.time_ <= var_212_14 + arg_212_0 then
				arg_209_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3201cva")
			end

			local var_212_15 = 0
			local var_212_16 = 0.125

			if var_212_15 < arg_209_1.time_ and arg_209_1.time_ <= var_212_15 + arg_212_0 then
				arg_209_1.talkMaxDuration = 0
				arg_209_1.dialogCg_.alpha = 1

				arg_209_1.dialog_:SetActive(true)
				SetActive(arg_209_1.leftNameGo_, true)

				local var_212_17 = arg_209_1:FormatText(StoryNameCfg[909].name)

				arg_209_1.leftNameTxt_.text = var_212_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_209_1.leftNameTxt_.transform)

				arg_209_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_209_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_209_1:RecordName(arg_209_1.leftNameTxt_.text)
				SetActive(arg_209_1.iconTrs_.gameObject, false)
				arg_209_1.callingController_:SetSelectedState("normal")

				local var_212_18 = arg_209_1:GetWordFromCfg(411121050)
				local var_212_19 = arg_209_1:FormatText(var_212_18.content)

				arg_209_1.text_.text = var_212_19

				LuaForUtil.ClearLinePrefixSymbol(arg_209_1.text_)

				local var_212_20 = 5
				local var_212_21 = utf8.len(var_212_19)
				local var_212_22 = var_212_20 <= 0 and var_212_16 or var_212_16 * (var_212_21 / var_212_20)

				if var_212_22 > 0 and var_212_16 < var_212_22 then
					arg_209_1.talkMaxDuration = var_212_22

					if var_212_22 + var_212_15 > arg_209_1.duration_ then
						arg_209_1.duration_ = var_212_22 + var_212_15
					end
				end

				arg_209_1.text_.text = var_212_19
				arg_209_1.typewritter.percent = 0

				arg_209_1.typewritter:SetDirty()
				arg_209_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121050", "story_v_out_411121.awb") ~= 0 then
					local var_212_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121050", "story_v_out_411121.awb") / 1000

					if var_212_23 + var_212_15 > arg_209_1.duration_ then
						arg_209_1.duration_ = var_212_23 + var_212_15
					end

					if var_212_18.prefab_name ~= "" and arg_209_1.actors_[var_212_18.prefab_name] ~= nil then
						local var_212_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_209_1.actors_[var_212_18.prefab_name].transform, "story_v_out_411121", "411121050", "story_v_out_411121.awb")

						arg_209_1:RecordAudio("411121050", var_212_24)
						arg_209_1:RecordAudio("411121050", var_212_24)
					else
						arg_209_1:AudioAction("play", "voice", "story_v_out_411121", "411121050", "story_v_out_411121.awb")
					end

					arg_209_1:RecordHistoryTalkVoice("story_v_out_411121", "411121050", "story_v_out_411121.awb")
				end

				arg_209_1:RecordContent(arg_209_1.text_.text)
			end

			local var_212_25 = math.max(var_212_16, arg_209_1.talkMaxDuration)

			if var_212_15 <= arg_209_1.time_ and arg_209_1.time_ < var_212_15 + var_212_25 then
				arg_209_1.typewritter.percent = (arg_209_1.time_ - var_212_15) / var_212_25

				arg_209_1.typewritter:SetDirty()
			end

			if arg_209_1.time_ >= var_212_15 + var_212_25 and arg_209_1.time_ < var_212_15 + var_212_25 + arg_212_0 then
				arg_209_1.typewritter.percent = 1

				arg_209_1.typewritter:SetDirty()
				arg_209_1:ShowNextGo(true)
			end
		end
	end,
	Play411121051 = function(arg_213_0, arg_213_1)
		arg_213_1.time_ = 0
		arg_213_1.frameCnt_ = 0
		arg_213_1.state_ = "playing"
		arg_213_1.curTalkId_ = 411121051
		arg_213_1.duration_ = 5.5

		local var_213_0 = {
			zh = 3.666,
			ja = 5.5
		}
		local var_213_1 = manager.audio:GetLocalizationFlag()

		if var_213_0[var_213_1] ~= nil then
			arg_213_1.duration_ = var_213_0[var_213_1]
		end

		SetActive(arg_213_1.tipsGo_, false)

		function arg_213_1.onSingleLineFinish_()
			arg_213_1.onSingleLineUpdate_ = nil
			arg_213_1.onSingleLineFinish_ = nil
			arg_213_1.state_ = "waiting"
		end

		function arg_213_1.playNext_(arg_215_0)
			if arg_215_0 == 1 then
				arg_213_0:Play411121052(arg_213_1)
			end
		end

		function arg_213_1.onSingleLineUpdate_(arg_216_0)
			local var_216_0 = arg_213_1.actors_["10071ui_story"].transform
			local var_216_1 = 0

			if var_216_1 < arg_213_1.time_ and arg_213_1.time_ <= var_216_1 + arg_216_0 then
				arg_213_1.var_.moveOldPos10071ui_story = var_216_0.localPosition
			end

			local var_216_2 = 0.001

			if var_216_1 <= arg_213_1.time_ and arg_213_1.time_ < var_216_1 + var_216_2 then
				local var_216_3 = (arg_213_1.time_ - var_216_1) / var_216_2
				local var_216_4 = Vector3.New(0.7, -0.9, -6.26)

				var_216_0.localPosition = Vector3.Lerp(arg_213_1.var_.moveOldPos10071ui_story, var_216_4, var_216_3)

				local var_216_5 = manager.ui.mainCamera.transform.position - var_216_0.position

				var_216_0.forward = Vector3.New(var_216_5.x, var_216_5.y, var_216_5.z)

				local var_216_6 = var_216_0.localEulerAngles

				var_216_6.z = 0
				var_216_6.x = 0
				var_216_0.localEulerAngles = var_216_6
			end

			if arg_213_1.time_ >= var_216_1 + var_216_2 and arg_213_1.time_ < var_216_1 + var_216_2 + arg_216_0 then
				var_216_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_216_7 = manager.ui.mainCamera.transform.position - var_216_0.position

				var_216_0.forward = Vector3.New(var_216_7.x, var_216_7.y, var_216_7.z)

				local var_216_8 = var_216_0.localEulerAngles

				var_216_8.z = 0
				var_216_8.x = 0
				var_216_0.localEulerAngles = var_216_8
			end

			local var_216_9 = arg_213_1.actors_["10071ui_story"]
			local var_216_10 = 0

			if var_216_10 < arg_213_1.time_ and arg_213_1.time_ <= var_216_10 + arg_216_0 and arg_213_1.var_.characterEffect10071ui_story == nil then
				arg_213_1.var_.characterEffect10071ui_story = var_216_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_216_11 = 0.200000002980232

			if var_216_10 <= arg_213_1.time_ and arg_213_1.time_ < var_216_10 + var_216_11 then
				local var_216_12 = (arg_213_1.time_ - var_216_10) / var_216_11

				if arg_213_1.var_.characterEffect10071ui_story then
					arg_213_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_213_1.time_ >= var_216_10 + var_216_11 and arg_213_1.time_ < var_216_10 + var_216_11 + arg_216_0 and arg_213_1.var_.characterEffect10071ui_story then
				arg_213_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_216_13 = 0

			if var_216_13 < arg_213_1.time_ and arg_213_1.time_ <= var_216_13 + arg_216_0 then
				arg_213_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action2_2")
			end

			local var_216_14 = 0

			if var_216_14 < arg_213_1.time_ and arg_213_1.time_ <= var_216_14 + arg_216_0 then
				arg_213_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_216_15 = arg_213_1.actors_["1095ui_story"].transform
			local var_216_16 = 0

			if var_216_16 < arg_213_1.time_ and arg_213_1.time_ <= var_216_16 + arg_216_0 then
				arg_213_1.var_.moveOldPos1095ui_story = var_216_15.localPosition
			end

			local var_216_17 = 0.001

			if var_216_16 <= arg_213_1.time_ and arg_213_1.time_ < var_216_16 + var_216_17 then
				local var_216_18 = (arg_213_1.time_ - var_216_16) / var_216_17
				local var_216_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_216_15.localPosition = Vector3.Lerp(arg_213_1.var_.moveOldPos1095ui_story, var_216_19, var_216_18)

				local var_216_20 = manager.ui.mainCamera.transform.position - var_216_15.position

				var_216_15.forward = Vector3.New(var_216_20.x, var_216_20.y, var_216_20.z)

				local var_216_21 = var_216_15.localEulerAngles

				var_216_21.z = 0
				var_216_21.x = 0
				var_216_15.localEulerAngles = var_216_21
			end

			if arg_213_1.time_ >= var_216_16 + var_216_17 and arg_213_1.time_ < var_216_16 + var_216_17 + arg_216_0 then
				var_216_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_216_22 = manager.ui.mainCamera.transform.position - var_216_15.position

				var_216_15.forward = Vector3.New(var_216_22.x, var_216_22.y, var_216_22.z)

				local var_216_23 = var_216_15.localEulerAngles

				var_216_23.z = 0
				var_216_23.x = 0
				var_216_15.localEulerAngles = var_216_23
			end

			local var_216_24 = arg_213_1.actors_["1095ui_story"]
			local var_216_25 = 0

			if var_216_25 < arg_213_1.time_ and arg_213_1.time_ <= var_216_25 + arg_216_0 and arg_213_1.var_.characterEffect1095ui_story == nil then
				arg_213_1.var_.characterEffect1095ui_story = var_216_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_216_26 = 0.200000002980232

			if var_216_25 <= arg_213_1.time_ and arg_213_1.time_ < var_216_25 + var_216_26 then
				local var_216_27 = (arg_213_1.time_ - var_216_25) / var_216_26

				if arg_213_1.var_.characterEffect1095ui_story then
					local var_216_28 = Mathf.Lerp(0, 0.5, var_216_27)

					arg_213_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_213_1.var_.characterEffect1095ui_story.fillRatio = var_216_28
				end
			end

			if arg_213_1.time_ >= var_216_25 + var_216_26 and arg_213_1.time_ < var_216_25 + var_216_26 + arg_216_0 and arg_213_1.var_.characterEffect1095ui_story then
				local var_216_29 = 0.5

				arg_213_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_213_1.var_.characterEffect1095ui_story.fillRatio = var_216_29
			end

			local var_216_30 = 0
			local var_216_31 = 0.475

			if var_216_30 < arg_213_1.time_ and arg_213_1.time_ <= var_216_30 + arg_216_0 then
				arg_213_1.talkMaxDuration = 0
				arg_213_1.dialogCg_.alpha = 1

				arg_213_1.dialog_:SetActive(true)
				SetActive(arg_213_1.leftNameGo_, true)

				local var_216_32 = arg_213_1:FormatText(StoryNameCfg[670].name)

				arg_213_1.leftNameTxt_.text = var_216_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_213_1.leftNameTxt_.transform)

				arg_213_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_213_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_213_1:RecordName(arg_213_1.leftNameTxt_.text)
				SetActive(arg_213_1.iconTrs_.gameObject, false)
				arg_213_1.callingController_:SetSelectedState("normal")

				local var_216_33 = arg_213_1:GetWordFromCfg(411121051)
				local var_216_34 = arg_213_1:FormatText(var_216_33.content)

				arg_213_1.text_.text = var_216_34

				LuaForUtil.ClearLinePrefixSymbol(arg_213_1.text_)

				local var_216_35 = 19
				local var_216_36 = utf8.len(var_216_34)
				local var_216_37 = var_216_35 <= 0 and var_216_31 or var_216_31 * (var_216_36 / var_216_35)

				if var_216_37 > 0 and var_216_31 < var_216_37 then
					arg_213_1.talkMaxDuration = var_216_37

					if var_216_37 + var_216_30 > arg_213_1.duration_ then
						arg_213_1.duration_ = var_216_37 + var_216_30
					end
				end

				arg_213_1.text_.text = var_216_34
				arg_213_1.typewritter.percent = 0

				arg_213_1.typewritter:SetDirty()
				arg_213_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121051", "story_v_out_411121.awb") ~= 0 then
					local var_216_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121051", "story_v_out_411121.awb") / 1000

					if var_216_38 + var_216_30 > arg_213_1.duration_ then
						arg_213_1.duration_ = var_216_38 + var_216_30
					end

					if var_216_33.prefab_name ~= "" and arg_213_1.actors_[var_216_33.prefab_name] ~= nil then
						local var_216_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_213_1.actors_[var_216_33.prefab_name].transform, "story_v_out_411121", "411121051", "story_v_out_411121.awb")

						arg_213_1:RecordAudio("411121051", var_216_39)
						arg_213_1:RecordAudio("411121051", var_216_39)
					else
						arg_213_1:AudioAction("play", "voice", "story_v_out_411121", "411121051", "story_v_out_411121.awb")
					end

					arg_213_1:RecordHistoryTalkVoice("story_v_out_411121", "411121051", "story_v_out_411121.awb")
				end

				arg_213_1:RecordContent(arg_213_1.text_.text)
			end

			local var_216_40 = math.max(var_216_31, arg_213_1.talkMaxDuration)

			if var_216_30 <= arg_213_1.time_ and arg_213_1.time_ < var_216_30 + var_216_40 then
				arg_213_1.typewritter.percent = (arg_213_1.time_ - var_216_30) / var_216_40

				arg_213_1.typewritter:SetDirty()
			end

			if arg_213_1.time_ >= var_216_30 + var_216_40 and arg_213_1.time_ < var_216_30 + var_216_40 + arg_216_0 then
				arg_213_1.typewritter.percent = 1

				arg_213_1.typewritter:SetDirty()
				arg_213_1:ShowNextGo(true)
			end
		end
	end,
	Play411121052 = function(arg_217_0, arg_217_1)
		arg_217_1.time_ = 0
		arg_217_1.frameCnt_ = 0
		arg_217_1.state_ = "playing"
		arg_217_1.curTalkId_ = 411121052
		arg_217_1.duration_ = 5.3

		local var_217_0 = {
			zh = 4.1,
			ja = 5.3
		}
		local var_217_1 = manager.audio:GetLocalizationFlag()

		if var_217_0[var_217_1] ~= nil then
			arg_217_1.duration_ = var_217_0[var_217_1]
		end

		SetActive(arg_217_1.tipsGo_, false)

		function arg_217_1.onSingleLineFinish_()
			arg_217_1.onSingleLineUpdate_ = nil
			arg_217_1.onSingleLineFinish_ = nil
			arg_217_1.state_ = "waiting"
		end

		function arg_217_1.playNext_(arg_219_0)
			if arg_219_0 == 1 then
				arg_217_0:Play411121053(arg_217_1)
			end
		end

		function arg_217_1.onSingleLineUpdate_(arg_220_0)
			local var_220_0 = 0
			local var_220_1 = 0.475

			if var_220_0 < arg_217_1.time_ and arg_217_1.time_ <= var_220_0 + arg_220_0 then
				arg_217_1.talkMaxDuration = 0
				arg_217_1.dialogCg_.alpha = 1

				arg_217_1.dialog_:SetActive(true)
				SetActive(arg_217_1.leftNameGo_, true)

				local var_220_2 = arg_217_1:FormatText(StoryNameCfg[670].name)

				arg_217_1.leftNameTxt_.text = var_220_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_217_1.leftNameTxt_.transform)

				arg_217_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_217_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_217_1:RecordName(arg_217_1.leftNameTxt_.text)
				SetActive(arg_217_1.iconTrs_.gameObject, false)
				arg_217_1.callingController_:SetSelectedState("normal")

				local var_220_3 = arg_217_1:GetWordFromCfg(411121052)
				local var_220_4 = arg_217_1:FormatText(var_220_3.content)

				arg_217_1.text_.text = var_220_4

				LuaForUtil.ClearLinePrefixSymbol(arg_217_1.text_)

				local var_220_5 = 19
				local var_220_6 = utf8.len(var_220_4)
				local var_220_7 = var_220_5 <= 0 and var_220_1 or var_220_1 * (var_220_6 / var_220_5)

				if var_220_7 > 0 and var_220_1 < var_220_7 then
					arg_217_1.talkMaxDuration = var_220_7

					if var_220_7 + var_220_0 > arg_217_1.duration_ then
						arg_217_1.duration_ = var_220_7 + var_220_0
					end
				end

				arg_217_1.text_.text = var_220_4
				arg_217_1.typewritter.percent = 0

				arg_217_1.typewritter:SetDirty()
				arg_217_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121052", "story_v_out_411121.awb") ~= 0 then
					local var_220_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121052", "story_v_out_411121.awb") / 1000

					if var_220_8 + var_220_0 > arg_217_1.duration_ then
						arg_217_1.duration_ = var_220_8 + var_220_0
					end

					if var_220_3.prefab_name ~= "" and arg_217_1.actors_[var_220_3.prefab_name] ~= nil then
						local var_220_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_217_1.actors_[var_220_3.prefab_name].transform, "story_v_out_411121", "411121052", "story_v_out_411121.awb")

						arg_217_1:RecordAudio("411121052", var_220_9)
						arg_217_1:RecordAudio("411121052", var_220_9)
					else
						arg_217_1:AudioAction("play", "voice", "story_v_out_411121", "411121052", "story_v_out_411121.awb")
					end

					arg_217_1:RecordHistoryTalkVoice("story_v_out_411121", "411121052", "story_v_out_411121.awb")
				end

				arg_217_1:RecordContent(arg_217_1.text_.text)
			end

			local var_220_10 = math.max(var_220_1, arg_217_1.talkMaxDuration)

			if var_220_0 <= arg_217_1.time_ and arg_217_1.time_ < var_220_0 + var_220_10 then
				arg_217_1.typewritter.percent = (arg_217_1.time_ - var_220_0) / var_220_10

				arg_217_1.typewritter:SetDirty()
			end

			if arg_217_1.time_ >= var_220_0 + var_220_10 and arg_217_1.time_ < var_220_0 + var_220_10 + arg_220_0 then
				arg_217_1.typewritter.percent = 1

				arg_217_1.typewritter:SetDirty()
				arg_217_1:ShowNextGo(true)
			end
		end
	end,
	Play411121053 = function(arg_221_0, arg_221_1)
		arg_221_1.time_ = 0
		arg_221_1.frameCnt_ = 0
		arg_221_1.state_ = "playing"
		arg_221_1.curTalkId_ = 411121053
		arg_221_1.duration_ = 1.633

		local var_221_0 = {
			zh = 1.5,
			ja = 1.633
		}
		local var_221_1 = manager.audio:GetLocalizationFlag()

		if var_221_0[var_221_1] ~= nil then
			arg_221_1.duration_ = var_221_0[var_221_1]
		end

		SetActive(arg_221_1.tipsGo_, false)

		function arg_221_1.onSingleLineFinish_()
			arg_221_1.onSingleLineUpdate_ = nil
			arg_221_1.onSingleLineFinish_ = nil
			arg_221_1.state_ = "waiting"
		end

		function arg_221_1.playNext_(arg_223_0)
			if arg_223_0 == 1 then
				arg_221_0:Play411121054(arg_221_1)
			end
		end

		function arg_221_1.onSingleLineUpdate_(arg_224_0)
			local var_224_0 = arg_221_1.actors_["10071ui_story"]
			local var_224_1 = 0

			if var_224_1 < arg_221_1.time_ and arg_221_1.time_ <= var_224_1 + arg_224_0 and arg_221_1.var_.characterEffect10071ui_story == nil then
				arg_221_1.var_.characterEffect10071ui_story = var_224_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_224_2 = 0.200000002980232

			if var_224_1 <= arg_221_1.time_ and arg_221_1.time_ < var_224_1 + var_224_2 then
				local var_224_3 = (arg_221_1.time_ - var_224_1) / var_224_2

				if arg_221_1.var_.characterEffect10071ui_story then
					local var_224_4 = Mathf.Lerp(0, 0.5, var_224_3)

					arg_221_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_221_1.var_.characterEffect10071ui_story.fillRatio = var_224_4
				end
			end

			if arg_221_1.time_ >= var_224_1 + var_224_2 and arg_221_1.time_ < var_224_1 + var_224_2 + arg_224_0 and arg_221_1.var_.characterEffect10071ui_story then
				local var_224_5 = 0.5

				arg_221_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_221_1.var_.characterEffect10071ui_story.fillRatio = var_224_5
			end

			local var_224_6 = 0
			local var_224_7 = 0.1

			if var_224_6 < arg_221_1.time_ and arg_221_1.time_ <= var_224_6 + arg_224_0 then
				arg_221_1.talkMaxDuration = 0
				arg_221_1.dialogCg_.alpha = 1

				arg_221_1.dialog_:SetActive(true)
				SetActive(arg_221_1.leftNameGo_, true)

				local var_224_8 = arg_221_1:FormatText(StoryNameCfg[471].name)

				arg_221_1.leftNameTxt_.text = var_224_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_221_1.leftNameTxt_.transform)

				arg_221_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_221_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_221_1:RecordName(arg_221_1.leftNameTxt_.text)
				SetActive(arg_221_1.iconTrs_.gameObject, true)
				arg_221_1.iconController_:SetSelectedState("hero")

				arg_221_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_221_1.callingController_:SetSelectedState("normal")

				local var_224_9 = arg_221_1:GetWordFromCfg(411121053)
				local var_224_10 = arg_221_1:FormatText(var_224_9.content)

				arg_221_1.text_.text = var_224_10

				LuaForUtil.ClearLinePrefixSymbol(arg_221_1.text_)

				local var_224_11 = 4
				local var_224_12 = utf8.len(var_224_10)
				local var_224_13 = var_224_11 <= 0 and var_224_7 or var_224_7 * (var_224_12 / var_224_11)

				if var_224_13 > 0 and var_224_7 < var_224_13 then
					arg_221_1.talkMaxDuration = var_224_13

					if var_224_13 + var_224_6 > arg_221_1.duration_ then
						arg_221_1.duration_ = var_224_13 + var_224_6
					end
				end

				arg_221_1.text_.text = var_224_10
				arg_221_1.typewritter.percent = 0

				arg_221_1.typewritter:SetDirty()
				arg_221_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121053", "story_v_out_411121.awb") ~= 0 then
					local var_224_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121053", "story_v_out_411121.awb") / 1000

					if var_224_14 + var_224_6 > arg_221_1.duration_ then
						arg_221_1.duration_ = var_224_14 + var_224_6
					end

					if var_224_9.prefab_name ~= "" and arg_221_1.actors_[var_224_9.prefab_name] ~= nil then
						local var_224_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_221_1.actors_[var_224_9.prefab_name].transform, "story_v_out_411121", "411121053", "story_v_out_411121.awb")

						arg_221_1:RecordAudio("411121053", var_224_15)
						arg_221_1:RecordAudio("411121053", var_224_15)
					else
						arg_221_1:AudioAction("play", "voice", "story_v_out_411121", "411121053", "story_v_out_411121.awb")
					end

					arg_221_1:RecordHistoryTalkVoice("story_v_out_411121", "411121053", "story_v_out_411121.awb")
				end

				arg_221_1:RecordContent(arg_221_1.text_.text)
			end

			local var_224_16 = math.max(var_224_7, arg_221_1.talkMaxDuration)

			if var_224_6 <= arg_221_1.time_ and arg_221_1.time_ < var_224_6 + var_224_16 then
				arg_221_1.typewritter.percent = (arg_221_1.time_ - var_224_6) / var_224_16

				arg_221_1.typewritter:SetDirty()
			end

			if arg_221_1.time_ >= var_224_6 + var_224_16 and arg_221_1.time_ < var_224_6 + var_224_16 + arg_224_0 then
				arg_221_1.typewritter.percent = 1

				arg_221_1.typewritter:SetDirty()
				arg_221_1:ShowNextGo(true)
			end
		end
	end,
	Play411121054 = function(arg_225_0, arg_225_1)
		arg_225_1.time_ = 0
		arg_225_1.frameCnt_ = 0
		arg_225_1.state_ = "playing"
		arg_225_1.curTalkId_ = 411121054
		arg_225_1.duration_ = 5

		SetActive(arg_225_1.tipsGo_, false)

		function arg_225_1.onSingleLineFinish_()
			arg_225_1.onSingleLineUpdate_ = nil
			arg_225_1.onSingleLineFinish_ = nil
			arg_225_1.state_ = "waiting"
		end

		function arg_225_1.playNext_(arg_227_0)
			if arg_227_0 == 1 then
				arg_225_0:Play411121055(arg_225_1)
			end
		end

		function arg_225_1.onSingleLineUpdate_(arg_228_0)
			local var_228_0 = 0
			local var_228_1 = 1.275

			if var_228_0 < arg_225_1.time_ and arg_225_1.time_ <= var_228_0 + arg_228_0 then
				arg_225_1.talkMaxDuration = 0
				arg_225_1.dialogCg_.alpha = 1

				arg_225_1.dialog_:SetActive(true)
				SetActive(arg_225_1.leftNameGo_, false)

				arg_225_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_225_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_225_1:RecordName(arg_225_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_225_1.iconTrs_.gameObject, false)
				arg_225_1.callingController_:SetSelectedState("normal")

				local var_228_2 = arg_225_1:GetWordFromCfg(411121054)
				local var_228_3 = arg_225_1:FormatText(var_228_2.content)

				arg_225_1.text_.text = var_228_3

				LuaForUtil.ClearLinePrefixSymbol(arg_225_1.text_)

				local var_228_4 = 51
				local var_228_5 = utf8.len(var_228_3)
				local var_228_6 = var_228_4 <= 0 and var_228_1 or var_228_1 * (var_228_5 / var_228_4)

				if var_228_6 > 0 and var_228_1 < var_228_6 then
					arg_225_1.talkMaxDuration = var_228_6

					if var_228_6 + var_228_0 > arg_225_1.duration_ then
						arg_225_1.duration_ = var_228_6 + var_228_0
					end
				end

				arg_225_1.text_.text = var_228_3
				arg_225_1.typewritter.percent = 0

				arg_225_1.typewritter:SetDirty()
				arg_225_1:ShowNextGo(false)
				arg_225_1:RecordContent(arg_225_1.text_.text)
			end

			local var_228_7 = math.max(var_228_1, arg_225_1.talkMaxDuration)

			if var_228_0 <= arg_225_1.time_ and arg_225_1.time_ < var_228_0 + var_228_7 then
				arg_225_1.typewritter.percent = (arg_225_1.time_ - var_228_0) / var_228_7

				arg_225_1.typewritter:SetDirty()
			end

			if arg_225_1.time_ >= var_228_0 + var_228_7 and arg_225_1.time_ < var_228_0 + var_228_7 + arg_228_0 then
				arg_225_1.typewritter.percent = 1

				arg_225_1.typewritter:SetDirty()
				arg_225_1:ShowNextGo(true)
			end
		end
	end,
	Play411121055 = function(arg_229_0, arg_229_1)
		arg_229_1.time_ = 0
		arg_229_1.frameCnt_ = 0
		arg_229_1.state_ = "playing"
		arg_229_1.curTalkId_ = 411121055
		arg_229_1.duration_ = 15.699999999999

		local var_229_0 = {
			zh = 15.699999999999,
			ja = 14.599999999999
		}
		local var_229_1 = manager.audio:GetLocalizationFlag()

		if var_229_0[var_229_1] ~= nil then
			arg_229_1.duration_ = var_229_0[var_229_1]
		end

		SetActive(arg_229_1.tipsGo_, false)

		function arg_229_1.onSingleLineFinish_()
			arg_229_1.onSingleLineUpdate_ = nil
			arg_229_1.onSingleLineFinish_ = nil
			arg_229_1.state_ = "waiting"
		end

		function arg_229_1.playNext_(arg_231_0)
			if arg_231_0 == 1 then
				arg_229_0:Play411121056(arg_229_1)
			end
		end

		function arg_229_1.onSingleLineUpdate_(arg_232_0)
			local var_232_0 = 0

			if var_232_0 < arg_229_1.time_ and arg_229_1.time_ <= var_232_0 + arg_232_0 then
				local var_232_1 = manager.ui.mainCamera.transform.localPosition
				local var_232_2 = Vector3.New(0, 0, 10) + Vector3.New(var_232_1.x, var_232_1.y, 0)
				local var_232_3 = arg_229_1.bgs_.I11r

				var_232_3.transform.localPosition = var_232_2
				var_232_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_232_4 = var_232_3:GetComponent("SpriteRenderer")

				if var_232_4 and var_232_4.sprite then
					local var_232_5 = (var_232_3.transform.localPosition - var_232_1).z
					local var_232_6 = manager.ui.mainCameraCom_
					local var_232_7 = 2 * var_232_5 * Mathf.Tan(var_232_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_232_8 = var_232_7 * var_232_6.aspect
					local var_232_9 = var_232_4.sprite.bounds.size.x
					local var_232_10 = var_232_4.sprite.bounds.size.y
					local var_232_11 = var_232_8 / var_232_9
					local var_232_12 = var_232_7 / var_232_10
					local var_232_13 = var_232_12 < var_232_11 and var_232_11 or var_232_12

					var_232_3.transform.localScale = Vector3.New(var_232_13, var_232_13, 0)
				end

				for iter_232_0, iter_232_1 in pairs(arg_229_1.bgs_) do
					if iter_232_0 ~= "I11r" then
						iter_232_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_232_14 = "ST71a"

			if arg_229_1.bgs_[var_232_14] == nil then
				local var_232_15 = Object.Instantiate(arg_229_1.paintGo_)

				var_232_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_232_14)
				var_232_15.name = var_232_14
				var_232_15.transform.parent = arg_229_1.stage_.transform
				var_232_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_229_1.bgs_[var_232_14] = var_232_15
			end

			local var_232_16 = 1.999999999999

			if var_232_16 < arg_229_1.time_ and arg_229_1.time_ <= var_232_16 + arg_232_0 then
				local var_232_17 = manager.ui.mainCamera.transform.localPosition
				local var_232_18 = Vector3.New(0, 0, 10) + Vector3.New(var_232_17.x, var_232_17.y, 0)
				local var_232_19 = arg_229_1.bgs_.ST71a

				var_232_19.transform.localPosition = var_232_18
				var_232_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_232_20 = var_232_19:GetComponent("SpriteRenderer")

				if var_232_20 and var_232_20.sprite then
					local var_232_21 = (var_232_19.transform.localPosition - var_232_17).z
					local var_232_22 = manager.ui.mainCameraCom_
					local var_232_23 = 2 * var_232_21 * Mathf.Tan(var_232_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_232_24 = var_232_23 * var_232_22.aspect
					local var_232_25 = var_232_20.sprite.bounds.size.x
					local var_232_26 = var_232_20.sprite.bounds.size.y
					local var_232_27 = var_232_24 / var_232_25
					local var_232_28 = var_232_23 / var_232_26
					local var_232_29 = var_232_28 < var_232_27 and var_232_27 or var_232_28

					var_232_19.transform.localScale = Vector3.New(var_232_29, var_232_29, 0)
				end

				for iter_232_2, iter_232_3 in pairs(arg_229_1.bgs_) do
					if iter_232_2 ~= "ST71a" then
						iter_232_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_232_30 = 0

			if var_232_30 < arg_229_1.time_ and arg_229_1.time_ <= var_232_30 + arg_232_0 then
				arg_229_1.mask_.enabled = true
				arg_229_1.mask_.raycastTarget = true

				arg_229_1:SetGaussion(false)
			end

			local var_232_31 = 2

			if var_232_30 <= arg_229_1.time_ and arg_229_1.time_ < var_232_30 + var_232_31 then
				local var_232_32 = (arg_229_1.time_ - var_232_30) / var_232_31
				local var_232_33 = Color.New(0, 0, 0)

				var_232_33.a = Mathf.Lerp(0, 1, var_232_32)
				arg_229_1.mask_.color = var_232_33
			end

			if arg_229_1.time_ >= var_232_30 + var_232_31 and arg_229_1.time_ < var_232_30 + var_232_31 + arg_232_0 then
				local var_232_34 = Color.New(0, 0, 0)

				var_232_34.a = 1
				arg_229_1.mask_.color = var_232_34
			end

			local var_232_35 = 2

			if var_232_35 < arg_229_1.time_ and arg_229_1.time_ <= var_232_35 + arg_232_0 then
				arg_229_1.mask_.enabled = true
				arg_229_1.mask_.raycastTarget = true

				arg_229_1:SetGaussion(false)
			end

			local var_232_36 = 1.999999999999

			if var_232_35 <= arg_229_1.time_ and arg_229_1.time_ < var_232_35 + var_232_36 then
				local var_232_37 = (arg_229_1.time_ - var_232_35) / var_232_36
				local var_232_38 = Color.New(0, 0, 0)

				var_232_38.a = Mathf.Lerp(1, 0, var_232_37)
				arg_229_1.mask_.color = var_232_38
			end

			if arg_229_1.time_ >= var_232_35 + var_232_36 and arg_229_1.time_ < var_232_35 + var_232_36 + arg_232_0 then
				local var_232_39 = Color.New(0, 0, 0)
				local var_232_40 = 0

				arg_229_1.mask_.enabled = false
				var_232_39.a = var_232_40
				arg_229_1.mask_.color = var_232_39
			end

			local var_232_41 = arg_229_1.actors_["1095ui_story"].transform
			local var_232_42 = 2

			if var_232_42 < arg_229_1.time_ and arg_229_1.time_ <= var_232_42 + arg_232_0 then
				arg_229_1.var_.moveOldPos1095ui_story = var_232_41.localPosition
			end

			local var_232_43 = 0.001

			if var_232_42 <= arg_229_1.time_ and arg_229_1.time_ < var_232_42 + var_232_43 then
				local var_232_44 = (arg_229_1.time_ - var_232_42) / var_232_43
				local var_232_45 = Vector3.New(0, 100, 0)

				var_232_41.localPosition = Vector3.Lerp(arg_229_1.var_.moveOldPos1095ui_story, var_232_45, var_232_44)

				local var_232_46 = manager.ui.mainCamera.transform.position - var_232_41.position

				var_232_41.forward = Vector3.New(var_232_46.x, var_232_46.y, var_232_46.z)

				local var_232_47 = var_232_41.localEulerAngles

				var_232_47.z = 0
				var_232_47.x = 0
				var_232_41.localEulerAngles = var_232_47
			end

			if arg_229_1.time_ >= var_232_42 + var_232_43 and arg_229_1.time_ < var_232_42 + var_232_43 + arg_232_0 then
				var_232_41.localPosition = Vector3.New(0, 100, 0)

				local var_232_48 = manager.ui.mainCamera.transform.position - var_232_41.position

				var_232_41.forward = Vector3.New(var_232_48.x, var_232_48.y, var_232_48.z)

				local var_232_49 = var_232_41.localEulerAngles

				var_232_49.z = 0
				var_232_49.x = 0
				var_232_41.localEulerAngles = var_232_49
			end

			local var_232_50 = arg_229_1.actors_["10071ui_story"].transform
			local var_232_51 = 2

			if var_232_51 < arg_229_1.time_ and arg_229_1.time_ <= var_232_51 + arg_232_0 then
				arg_229_1.var_.moveOldPos10071ui_story = var_232_50.localPosition
			end

			local var_232_52 = 0.001

			if var_232_51 <= arg_229_1.time_ and arg_229_1.time_ < var_232_51 + var_232_52 then
				local var_232_53 = (arg_229_1.time_ - var_232_51) / var_232_52
				local var_232_54 = Vector3.New(0, 100, 0)

				var_232_50.localPosition = Vector3.Lerp(arg_229_1.var_.moveOldPos10071ui_story, var_232_54, var_232_53)

				local var_232_55 = manager.ui.mainCamera.transform.position - var_232_50.position

				var_232_50.forward = Vector3.New(var_232_55.x, var_232_55.y, var_232_55.z)

				local var_232_56 = var_232_50.localEulerAngles

				var_232_56.z = 0
				var_232_56.x = 0
				var_232_50.localEulerAngles = var_232_56
			end

			if arg_229_1.time_ >= var_232_51 + var_232_52 and arg_229_1.time_ < var_232_51 + var_232_52 + arg_232_0 then
				var_232_50.localPosition = Vector3.New(0, 100, 0)

				local var_232_57 = manager.ui.mainCamera.transform.position - var_232_50.position

				var_232_50.forward = Vector3.New(var_232_57.x, var_232_57.y, var_232_57.z)

				local var_232_58 = var_232_50.localEulerAngles

				var_232_58.z = 0
				var_232_58.x = 0
				var_232_50.localEulerAngles = var_232_58
			end

			local var_232_59 = arg_229_1.actors_["1095ui_story"].transform
			local var_232_60 = 3.999999999999

			if var_232_60 < arg_229_1.time_ and arg_229_1.time_ <= var_232_60 + arg_232_0 then
				arg_229_1.var_.moveOldPos1095ui_story = var_232_59.localPosition
			end

			local var_232_61 = 0.001

			if var_232_60 <= arg_229_1.time_ and arg_229_1.time_ < var_232_60 + var_232_61 then
				local var_232_62 = (arg_229_1.time_ - var_232_60) / var_232_61
				local var_232_63 = Vector3.New(0, -0.98, -6.1)

				var_232_59.localPosition = Vector3.Lerp(arg_229_1.var_.moveOldPos1095ui_story, var_232_63, var_232_62)

				local var_232_64 = manager.ui.mainCamera.transform.position - var_232_59.position

				var_232_59.forward = Vector3.New(var_232_64.x, var_232_64.y, var_232_64.z)

				local var_232_65 = var_232_59.localEulerAngles

				var_232_65.z = 0
				var_232_65.x = 0
				var_232_59.localEulerAngles = var_232_65
			end

			if arg_229_1.time_ >= var_232_60 + var_232_61 and arg_229_1.time_ < var_232_60 + var_232_61 + arg_232_0 then
				var_232_59.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_232_66 = manager.ui.mainCamera.transform.position - var_232_59.position

				var_232_59.forward = Vector3.New(var_232_66.x, var_232_66.y, var_232_66.z)

				local var_232_67 = var_232_59.localEulerAngles

				var_232_67.z = 0
				var_232_67.x = 0
				var_232_59.localEulerAngles = var_232_67
			end

			local var_232_68 = arg_229_1.actors_["1095ui_story"]
			local var_232_69 = 3.999999999999

			if var_232_69 < arg_229_1.time_ and arg_229_1.time_ <= var_232_69 + arg_232_0 and arg_229_1.var_.characterEffect1095ui_story == nil then
				arg_229_1.var_.characterEffect1095ui_story = var_232_68:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_232_70 = 0.200000002980232

			if var_232_69 <= arg_229_1.time_ and arg_229_1.time_ < var_232_69 + var_232_70 then
				local var_232_71 = (arg_229_1.time_ - var_232_69) / var_232_70

				if arg_229_1.var_.characterEffect1095ui_story then
					arg_229_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_229_1.time_ >= var_232_69 + var_232_70 and arg_229_1.time_ < var_232_69 + var_232_70 + arg_232_0 and arg_229_1.var_.characterEffect1095ui_story then
				arg_229_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_232_72 = 3.999999999999

			if var_232_72 < arg_229_1.time_ and arg_229_1.time_ <= var_232_72 + arg_232_0 then
				arg_229_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_232_73 = 3.999999999999

			if var_232_73 < arg_229_1.time_ and arg_229_1.time_ <= var_232_73 + arg_232_0 then
				arg_229_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3101cva")
			end

			if arg_229_1.frameCnt_ <= 1 then
				arg_229_1.dialog_:SetActive(false)
			end

			local var_232_74 = 3.999999999999
			local var_232_75 = 1.4

			if var_232_74 < arg_229_1.time_ and arg_229_1.time_ <= var_232_74 + arg_232_0 then
				arg_229_1.talkMaxDuration = 0

				arg_229_1.dialog_:SetActive(true)

				local var_232_76 = LeanTween.value(arg_229_1.dialog_, 0, 1, 0.3)

				var_232_76:setOnUpdate(LuaHelper.FloatAction(function(arg_233_0)
					arg_229_1.dialogCg_.alpha = arg_233_0
				end))
				var_232_76:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_229_1.dialog_)
					var_232_76:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_229_1.duration_ = arg_229_1.duration_ + 0.3

				SetActive(arg_229_1.leftNameGo_, true)

				local var_232_77 = arg_229_1:FormatText(StoryNameCfg[909].name)

				arg_229_1.leftNameTxt_.text = var_232_77

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_229_1.leftNameTxt_.transform)

				arg_229_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_229_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_229_1:RecordName(arg_229_1.leftNameTxt_.text)
				SetActive(arg_229_1.iconTrs_.gameObject, false)
				arg_229_1.callingController_:SetSelectedState("normal")

				local var_232_78 = arg_229_1:GetWordFromCfg(411121055)
				local var_232_79 = arg_229_1:FormatText(var_232_78.content)

				arg_229_1.text_.text = var_232_79

				LuaForUtil.ClearLinePrefixSymbol(arg_229_1.text_)

				local var_232_80 = 56
				local var_232_81 = utf8.len(var_232_79)
				local var_232_82 = var_232_80 <= 0 and var_232_75 or var_232_75 * (var_232_81 / var_232_80)

				if var_232_82 > 0 and var_232_75 < var_232_82 then
					arg_229_1.talkMaxDuration = var_232_82
					var_232_74 = var_232_74 + 0.3

					if var_232_82 + var_232_74 > arg_229_1.duration_ then
						arg_229_1.duration_ = var_232_82 + var_232_74
					end
				end

				arg_229_1.text_.text = var_232_79
				arg_229_1.typewritter.percent = 0

				arg_229_1.typewritter:SetDirty()
				arg_229_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121055", "story_v_out_411121.awb") ~= 0 then
					local var_232_83 = manager.audio:GetVoiceLength("story_v_out_411121", "411121055", "story_v_out_411121.awb") / 1000

					if var_232_83 + var_232_74 > arg_229_1.duration_ then
						arg_229_1.duration_ = var_232_83 + var_232_74
					end

					if var_232_78.prefab_name ~= "" and arg_229_1.actors_[var_232_78.prefab_name] ~= nil then
						local var_232_84 = LuaForUtil.PlayVoiceWithCriLipsync(arg_229_1.actors_[var_232_78.prefab_name].transform, "story_v_out_411121", "411121055", "story_v_out_411121.awb")

						arg_229_1:RecordAudio("411121055", var_232_84)
						arg_229_1:RecordAudio("411121055", var_232_84)
					else
						arg_229_1:AudioAction("play", "voice", "story_v_out_411121", "411121055", "story_v_out_411121.awb")
					end

					arg_229_1:RecordHistoryTalkVoice("story_v_out_411121", "411121055", "story_v_out_411121.awb")
				end

				arg_229_1:RecordContent(arg_229_1.text_.text)
			end

			local var_232_85 = var_232_74 + 0.3
			local var_232_86 = math.max(var_232_75, arg_229_1.talkMaxDuration)

			if var_232_85 <= arg_229_1.time_ and arg_229_1.time_ < var_232_85 + var_232_86 then
				arg_229_1.typewritter.percent = (arg_229_1.time_ - var_232_85) / var_232_86

				arg_229_1.typewritter:SetDirty()
			end

			if arg_229_1.time_ >= var_232_85 + var_232_86 and arg_229_1.time_ < var_232_85 + var_232_86 + arg_232_0 then
				arg_229_1.typewritter.percent = 1

				arg_229_1.typewritter:SetDirty()
				arg_229_1:ShowNextGo(true)
			end
		end
	end,
	Play411121056 = function(arg_235_0, arg_235_1)
		arg_235_1.time_ = 0
		arg_235_1.frameCnt_ = 0
		arg_235_1.state_ = "playing"
		arg_235_1.curTalkId_ = 411121056
		arg_235_1.duration_ = 10.666

		local var_235_0 = {
			zh = 9.5,
			ja = 10.666
		}
		local var_235_1 = manager.audio:GetLocalizationFlag()

		if var_235_0[var_235_1] ~= nil then
			arg_235_1.duration_ = var_235_0[var_235_1]
		end

		SetActive(arg_235_1.tipsGo_, false)

		function arg_235_1.onSingleLineFinish_()
			arg_235_1.onSingleLineUpdate_ = nil
			arg_235_1.onSingleLineFinish_ = nil
			arg_235_1.state_ = "waiting"
		end

		function arg_235_1.playNext_(arg_237_0)
			if arg_237_0 == 1 then
				arg_235_0:Play411121057(arg_235_1)
			end
		end

		function arg_235_1.onSingleLineUpdate_(arg_238_0)
			local var_238_0 = 0
			local var_238_1 = 0.65

			if var_238_0 < arg_235_1.time_ and arg_235_1.time_ <= var_238_0 + arg_238_0 then
				arg_235_1.talkMaxDuration = 0
				arg_235_1.dialogCg_.alpha = 1

				arg_235_1.dialog_:SetActive(true)
				SetActive(arg_235_1.leftNameGo_, true)

				local var_238_2 = arg_235_1:FormatText(StoryNameCfg[909].name)

				arg_235_1.leftNameTxt_.text = var_238_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_235_1.leftNameTxt_.transform)

				arg_235_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_235_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_235_1:RecordName(arg_235_1.leftNameTxt_.text)
				SetActive(arg_235_1.iconTrs_.gameObject, false)
				arg_235_1.callingController_:SetSelectedState("normal")

				local var_238_3 = arg_235_1:GetWordFromCfg(411121056)
				local var_238_4 = arg_235_1:FormatText(var_238_3.content)

				arg_235_1.text_.text = var_238_4

				LuaForUtil.ClearLinePrefixSymbol(arg_235_1.text_)

				local var_238_5 = 26
				local var_238_6 = utf8.len(var_238_4)
				local var_238_7 = var_238_5 <= 0 and var_238_1 or var_238_1 * (var_238_6 / var_238_5)

				if var_238_7 > 0 and var_238_1 < var_238_7 then
					arg_235_1.talkMaxDuration = var_238_7

					if var_238_7 + var_238_0 > arg_235_1.duration_ then
						arg_235_1.duration_ = var_238_7 + var_238_0
					end
				end

				arg_235_1.text_.text = var_238_4
				arg_235_1.typewritter.percent = 0

				arg_235_1.typewritter:SetDirty()
				arg_235_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121056", "story_v_out_411121.awb") ~= 0 then
					local var_238_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121056", "story_v_out_411121.awb") / 1000

					if var_238_8 + var_238_0 > arg_235_1.duration_ then
						arg_235_1.duration_ = var_238_8 + var_238_0
					end

					if var_238_3.prefab_name ~= "" and arg_235_1.actors_[var_238_3.prefab_name] ~= nil then
						local var_238_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_235_1.actors_[var_238_3.prefab_name].transform, "story_v_out_411121", "411121056", "story_v_out_411121.awb")

						arg_235_1:RecordAudio("411121056", var_238_9)
						arg_235_1:RecordAudio("411121056", var_238_9)
					else
						arg_235_1:AudioAction("play", "voice", "story_v_out_411121", "411121056", "story_v_out_411121.awb")
					end

					arg_235_1:RecordHistoryTalkVoice("story_v_out_411121", "411121056", "story_v_out_411121.awb")
				end

				arg_235_1:RecordContent(arg_235_1.text_.text)
			end

			local var_238_10 = math.max(var_238_1, arg_235_1.talkMaxDuration)

			if var_238_0 <= arg_235_1.time_ and arg_235_1.time_ < var_238_0 + var_238_10 then
				arg_235_1.typewritter.percent = (arg_235_1.time_ - var_238_0) / var_238_10

				arg_235_1.typewritter:SetDirty()
			end

			if arg_235_1.time_ >= var_238_0 + var_238_10 and arg_235_1.time_ < var_238_0 + var_238_10 + arg_238_0 then
				arg_235_1.typewritter.percent = 1

				arg_235_1.typewritter:SetDirty()
				arg_235_1:ShowNextGo(true)
			end
		end
	end,
	Play411121057 = function(arg_239_0, arg_239_1)
		arg_239_1.time_ = 0
		arg_239_1.frameCnt_ = 0
		arg_239_1.state_ = "playing"
		arg_239_1.curTalkId_ = 411121057
		arg_239_1.duration_ = 4.033

		local var_239_0 = {
			zh = 4.033,
			ja = 3.6
		}
		local var_239_1 = manager.audio:GetLocalizationFlag()

		if var_239_0[var_239_1] ~= nil then
			arg_239_1.duration_ = var_239_0[var_239_1]
		end

		SetActive(arg_239_1.tipsGo_, false)

		function arg_239_1.onSingleLineFinish_()
			arg_239_1.onSingleLineUpdate_ = nil
			arg_239_1.onSingleLineFinish_ = nil
			arg_239_1.state_ = "waiting"
		end

		function arg_239_1.playNext_(arg_241_0)
			if arg_241_0 == 1 then
				arg_239_0:Play411121058(arg_239_1)
			end
		end

		function arg_239_1.onSingleLineUpdate_(arg_242_0)
			local var_242_0 = arg_239_1.actors_["10071ui_story"].transform
			local var_242_1 = 0

			if var_242_1 < arg_239_1.time_ and arg_239_1.time_ <= var_242_1 + arg_242_0 then
				arg_239_1.var_.moveOldPos10071ui_story = var_242_0.localPosition
			end

			local var_242_2 = 0.001

			if var_242_1 <= arg_239_1.time_ and arg_239_1.time_ < var_242_1 + var_242_2 then
				local var_242_3 = (arg_239_1.time_ - var_242_1) / var_242_2
				local var_242_4 = Vector3.New(0, -0.9, -6.26)

				var_242_0.localPosition = Vector3.Lerp(arg_239_1.var_.moveOldPos10071ui_story, var_242_4, var_242_3)

				local var_242_5 = manager.ui.mainCamera.transform.position - var_242_0.position

				var_242_0.forward = Vector3.New(var_242_5.x, var_242_5.y, var_242_5.z)

				local var_242_6 = var_242_0.localEulerAngles

				var_242_6.z = 0
				var_242_6.x = 0
				var_242_0.localEulerAngles = var_242_6
			end

			if arg_239_1.time_ >= var_242_1 + var_242_2 and arg_239_1.time_ < var_242_1 + var_242_2 + arg_242_0 then
				var_242_0.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_242_7 = manager.ui.mainCamera.transform.position - var_242_0.position

				var_242_0.forward = Vector3.New(var_242_7.x, var_242_7.y, var_242_7.z)

				local var_242_8 = var_242_0.localEulerAngles

				var_242_8.z = 0
				var_242_8.x = 0
				var_242_0.localEulerAngles = var_242_8
			end

			local var_242_9 = arg_239_1.actors_["10071ui_story"]
			local var_242_10 = 0

			if var_242_10 < arg_239_1.time_ and arg_239_1.time_ <= var_242_10 + arg_242_0 and arg_239_1.var_.characterEffect10071ui_story == nil then
				arg_239_1.var_.characterEffect10071ui_story = var_242_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_242_11 = 0.200000002980232

			if var_242_10 <= arg_239_1.time_ and arg_239_1.time_ < var_242_10 + var_242_11 then
				local var_242_12 = (arg_239_1.time_ - var_242_10) / var_242_11

				if arg_239_1.var_.characterEffect10071ui_story then
					arg_239_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_239_1.time_ >= var_242_10 + var_242_11 and arg_239_1.time_ < var_242_10 + var_242_11 + arg_242_0 and arg_239_1.var_.characterEffect10071ui_story then
				arg_239_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_242_13 = 0

			if var_242_13 < arg_239_1.time_ and arg_239_1.time_ <= var_242_13 + arg_242_0 then
				arg_239_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_2")
			end

			local var_242_14 = 0

			if var_242_14 < arg_239_1.time_ and arg_239_1.time_ <= var_242_14 + arg_242_0 then
				arg_239_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_242_15 = arg_239_1.actors_["1095ui_story"].transform
			local var_242_16 = 0

			if var_242_16 < arg_239_1.time_ and arg_239_1.time_ <= var_242_16 + arg_242_0 then
				arg_239_1.var_.moveOldPos1095ui_story = var_242_15.localPosition
			end

			local var_242_17 = 0.001

			if var_242_16 <= arg_239_1.time_ and arg_239_1.time_ < var_242_16 + var_242_17 then
				local var_242_18 = (arg_239_1.time_ - var_242_16) / var_242_17
				local var_242_19 = Vector3.New(0, 100, 0)

				var_242_15.localPosition = Vector3.Lerp(arg_239_1.var_.moveOldPos1095ui_story, var_242_19, var_242_18)

				local var_242_20 = manager.ui.mainCamera.transform.position - var_242_15.position

				var_242_15.forward = Vector3.New(var_242_20.x, var_242_20.y, var_242_20.z)

				local var_242_21 = var_242_15.localEulerAngles

				var_242_21.z = 0
				var_242_21.x = 0
				var_242_15.localEulerAngles = var_242_21
			end

			if arg_239_1.time_ >= var_242_16 + var_242_17 and arg_239_1.time_ < var_242_16 + var_242_17 + arg_242_0 then
				var_242_15.localPosition = Vector3.New(0, 100, 0)

				local var_242_22 = manager.ui.mainCamera.transform.position - var_242_15.position

				var_242_15.forward = Vector3.New(var_242_22.x, var_242_22.y, var_242_22.z)

				local var_242_23 = var_242_15.localEulerAngles

				var_242_23.z = 0
				var_242_23.x = 0
				var_242_15.localEulerAngles = var_242_23
			end

			local var_242_24 = 0
			local var_242_25 = 0.275

			if var_242_24 < arg_239_1.time_ and arg_239_1.time_ <= var_242_24 + arg_242_0 then
				arg_239_1.talkMaxDuration = 0
				arg_239_1.dialogCg_.alpha = 1

				arg_239_1.dialog_:SetActive(true)
				SetActive(arg_239_1.leftNameGo_, true)

				local var_242_26 = arg_239_1:FormatText(StoryNameCfg[670].name)

				arg_239_1.leftNameTxt_.text = var_242_26

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_239_1.leftNameTxt_.transform)

				arg_239_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_239_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_239_1:RecordName(arg_239_1.leftNameTxt_.text)
				SetActive(arg_239_1.iconTrs_.gameObject, false)
				arg_239_1.callingController_:SetSelectedState("normal")

				local var_242_27 = arg_239_1:GetWordFromCfg(411121057)
				local var_242_28 = arg_239_1:FormatText(var_242_27.content)

				arg_239_1.text_.text = var_242_28

				LuaForUtil.ClearLinePrefixSymbol(arg_239_1.text_)

				local var_242_29 = 11
				local var_242_30 = utf8.len(var_242_28)
				local var_242_31 = var_242_29 <= 0 and var_242_25 or var_242_25 * (var_242_30 / var_242_29)

				if var_242_31 > 0 and var_242_25 < var_242_31 then
					arg_239_1.talkMaxDuration = var_242_31

					if var_242_31 + var_242_24 > arg_239_1.duration_ then
						arg_239_1.duration_ = var_242_31 + var_242_24
					end
				end

				arg_239_1.text_.text = var_242_28
				arg_239_1.typewritter.percent = 0

				arg_239_1.typewritter:SetDirty()
				arg_239_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121057", "story_v_out_411121.awb") ~= 0 then
					local var_242_32 = manager.audio:GetVoiceLength("story_v_out_411121", "411121057", "story_v_out_411121.awb") / 1000

					if var_242_32 + var_242_24 > arg_239_1.duration_ then
						arg_239_1.duration_ = var_242_32 + var_242_24
					end

					if var_242_27.prefab_name ~= "" and arg_239_1.actors_[var_242_27.prefab_name] ~= nil then
						local var_242_33 = LuaForUtil.PlayVoiceWithCriLipsync(arg_239_1.actors_[var_242_27.prefab_name].transform, "story_v_out_411121", "411121057", "story_v_out_411121.awb")

						arg_239_1:RecordAudio("411121057", var_242_33)
						arg_239_1:RecordAudio("411121057", var_242_33)
					else
						arg_239_1:AudioAction("play", "voice", "story_v_out_411121", "411121057", "story_v_out_411121.awb")
					end

					arg_239_1:RecordHistoryTalkVoice("story_v_out_411121", "411121057", "story_v_out_411121.awb")
				end

				arg_239_1:RecordContent(arg_239_1.text_.text)
			end

			local var_242_34 = math.max(var_242_25, arg_239_1.talkMaxDuration)

			if var_242_24 <= arg_239_1.time_ and arg_239_1.time_ < var_242_24 + var_242_34 then
				arg_239_1.typewritter.percent = (arg_239_1.time_ - var_242_24) / var_242_34

				arg_239_1.typewritter:SetDirty()
			end

			if arg_239_1.time_ >= var_242_24 + var_242_34 and arg_239_1.time_ < var_242_24 + var_242_34 + arg_242_0 then
				arg_239_1.typewritter.percent = 1

				arg_239_1.typewritter:SetDirty()
				arg_239_1:ShowNextGo(true)
			end
		end
	end,
	Play411121058 = function(arg_243_0, arg_243_1)
		arg_243_1.time_ = 0
		arg_243_1.frameCnt_ = 0
		arg_243_1.state_ = "playing"
		arg_243_1.curTalkId_ = 411121058
		arg_243_1.duration_ = 6.4

		local var_243_0 = {
			zh = 6.4,
			ja = 4.633
		}
		local var_243_1 = manager.audio:GetLocalizationFlag()

		if var_243_0[var_243_1] ~= nil then
			arg_243_1.duration_ = var_243_0[var_243_1]
		end

		SetActive(arg_243_1.tipsGo_, false)

		function arg_243_1.onSingleLineFinish_()
			arg_243_1.onSingleLineUpdate_ = nil
			arg_243_1.onSingleLineFinish_ = nil
			arg_243_1.state_ = "waiting"
		end

		function arg_243_1.playNext_(arg_245_0)
			if arg_245_0 == 1 then
				arg_243_0:Play411121059(arg_243_1)
			end
		end

		function arg_243_1.onSingleLineUpdate_(arg_246_0)
			local var_246_0 = 0
			local var_246_1 = 0.65

			if var_246_0 < arg_243_1.time_ and arg_243_1.time_ <= var_246_0 + arg_246_0 then
				arg_243_1.talkMaxDuration = 0
				arg_243_1.dialogCg_.alpha = 1

				arg_243_1.dialog_:SetActive(true)
				SetActive(arg_243_1.leftNameGo_, true)

				local var_246_2 = arg_243_1:FormatText(StoryNameCfg[670].name)

				arg_243_1.leftNameTxt_.text = var_246_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_243_1.leftNameTxt_.transform)

				arg_243_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_243_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_243_1:RecordName(arg_243_1.leftNameTxt_.text)
				SetActive(arg_243_1.iconTrs_.gameObject, false)
				arg_243_1.callingController_:SetSelectedState("normal")

				local var_246_3 = arg_243_1:GetWordFromCfg(411121058)
				local var_246_4 = arg_243_1:FormatText(var_246_3.content)

				arg_243_1.text_.text = var_246_4

				LuaForUtil.ClearLinePrefixSymbol(arg_243_1.text_)

				local var_246_5 = 26
				local var_246_6 = utf8.len(var_246_4)
				local var_246_7 = var_246_5 <= 0 and var_246_1 or var_246_1 * (var_246_6 / var_246_5)

				if var_246_7 > 0 and var_246_1 < var_246_7 then
					arg_243_1.talkMaxDuration = var_246_7

					if var_246_7 + var_246_0 > arg_243_1.duration_ then
						arg_243_1.duration_ = var_246_7 + var_246_0
					end
				end

				arg_243_1.text_.text = var_246_4
				arg_243_1.typewritter.percent = 0

				arg_243_1.typewritter:SetDirty()
				arg_243_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121058", "story_v_out_411121.awb") ~= 0 then
					local var_246_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121058", "story_v_out_411121.awb") / 1000

					if var_246_8 + var_246_0 > arg_243_1.duration_ then
						arg_243_1.duration_ = var_246_8 + var_246_0
					end

					if var_246_3.prefab_name ~= "" and arg_243_1.actors_[var_246_3.prefab_name] ~= nil then
						local var_246_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_243_1.actors_[var_246_3.prefab_name].transform, "story_v_out_411121", "411121058", "story_v_out_411121.awb")

						arg_243_1:RecordAudio("411121058", var_246_9)
						arg_243_1:RecordAudio("411121058", var_246_9)
					else
						arg_243_1:AudioAction("play", "voice", "story_v_out_411121", "411121058", "story_v_out_411121.awb")
					end

					arg_243_1:RecordHistoryTalkVoice("story_v_out_411121", "411121058", "story_v_out_411121.awb")
				end

				arg_243_1:RecordContent(arg_243_1.text_.text)
			end

			local var_246_10 = math.max(var_246_1, arg_243_1.talkMaxDuration)

			if var_246_0 <= arg_243_1.time_ and arg_243_1.time_ < var_246_0 + var_246_10 then
				arg_243_1.typewritter.percent = (arg_243_1.time_ - var_246_0) / var_246_10

				arg_243_1.typewritter:SetDirty()
			end

			if arg_243_1.time_ >= var_246_0 + var_246_10 and arg_243_1.time_ < var_246_0 + var_246_10 + arg_246_0 then
				arg_243_1.typewritter.percent = 1

				arg_243_1.typewritter:SetDirty()
				arg_243_1:ShowNextGo(true)
			end
		end
	end,
	Play411121059 = function(arg_247_0, arg_247_1)
		arg_247_1.time_ = 0
		arg_247_1.frameCnt_ = 0
		arg_247_1.state_ = "playing"
		arg_247_1.curTalkId_ = 411121059
		arg_247_1.duration_ = 4.566

		local var_247_0 = {
			zh = 4.1,
			ja = 4.566
		}
		local var_247_1 = manager.audio:GetLocalizationFlag()

		if var_247_0[var_247_1] ~= nil then
			arg_247_1.duration_ = var_247_0[var_247_1]
		end

		SetActive(arg_247_1.tipsGo_, false)

		function arg_247_1.onSingleLineFinish_()
			arg_247_1.onSingleLineUpdate_ = nil
			arg_247_1.onSingleLineFinish_ = nil
			arg_247_1.state_ = "waiting"
		end

		function arg_247_1.playNext_(arg_249_0)
			if arg_249_0 == 1 then
				arg_247_0:Play411121060(arg_247_1)
			end
		end

		function arg_247_1.onSingleLineUpdate_(arg_250_0)
			local var_250_0 = arg_247_1.actors_["10071ui_story"].transform
			local var_250_1 = 0

			if var_250_1 < arg_247_1.time_ and arg_247_1.time_ <= var_250_1 + arg_250_0 then
				arg_247_1.var_.moveOldPos10071ui_story = var_250_0.localPosition
			end

			local var_250_2 = 0.001

			if var_250_1 <= arg_247_1.time_ and arg_247_1.time_ < var_250_1 + var_250_2 then
				local var_250_3 = (arg_247_1.time_ - var_250_1) / var_250_2
				local var_250_4 = Vector3.New(0, 100, 0)

				var_250_0.localPosition = Vector3.Lerp(arg_247_1.var_.moveOldPos10071ui_story, var_250_4, var_250_3)

				local var_250_5 = manager.ui.mainCamera.transform.position - var_250_0.position

				var_250_0.forward = Vector3.New(var_250_5.x, var_250_5.y, var_250_5.z)

				local var_250_6 = var_250_0.localEulerAngles

				var_250_6.z = 0
				var_250_6.x = 0
				var_250_0.localEulerAngles = var_250_6
			end

			if arg_247_1.time_ >= var_250_1 + var_250_2 and arg_247_1.time_ < var_250_1 + var_250_2 + arg_250_0 then
				var_250_0.localPosition = Vector3.New(0, 100, 0)

				local var_250_7 = manager.ui.mainCamera.transform.position - var_250_0.position

				var_250_0.forward = Vector3.New(var_250_7.x, var_250_7.y, var_250_7.z)

				local var_250_8 = var_250_0.localEulerAngles

				var_250_8.z = 0
				var_250_8.x = 0
				var_250_0.localEulerAngles = var_250_8
			end

			local var_250_9 = 0
			local var_250_10 = 0.35

			if var_250_9 < arg_247_1.time_ and arg_247_1.time_ <= var_250_9 + arg_250_0 then
				arg_247_1.talkMaxDuration = 0
				arg_247_1.dialogCg_.alpha = 1

				arg_247_1.dialog_:SetActive(true)
				SetActive(arg_247_1.leftNameGo_, true)

				local var_250_11 = arg_247_1:FormatText(StoryNameCfg[471].name)

				arg_247_1.leftNameTxt_.text = var_250_11

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_247_1.leftNameTxt_.transform)

				arg_247_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_247_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_247_1:RecordName(arg_247_1.leftNameTxt_.text)
				SetActive(arg_247_1.iconTrs_.gameObject, true)
				arg_247_1.iconController_:SetSelectedState("hero")

				arg_247_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_247_1.callingController_:SetSelectedState("normal")

				local var_250_12 = arg_247_1:GetWordFromCfg(411121059)
				local var_250_13 = arg_247_1:FormatText(var_250_12.content)

				arg_247_1.text_.text = var_250_13

				LuaForUtil.ClearLinePrefixSymbol(arg_247_1.text_)

				local var_250_14 = 14
				local var_250_15 = utf8.len(var_250_13)
				local var_250_16 = var_250_14 <= 0 and var_250_10 or var_250_10 * (var_250_15 / var_250_14)

				if var_250_16 > 0 and var_250_10 < var_250_16 then
					arg_247_1.talkMaxDuration = var_250_16

					if var_250_16 + var_250_9 > arg_247_1.duration_ then
						arg_247_1.duration_ = var_250_16 + var_250_9
					end
				end

				arg_247_1.text_.text = var_250_13
				arg_247_1.typewritter.percent = 0

				arg_247_1.typewritter:SetDirty()
				arg_247_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121059", "story_v_out_411121.awb") ~= 0 then
					local var_250_17 = manager.audio:GetVoiceLength("story_v_out_411121", "411121059", "story_v_out_411121.awb") / 1000

					if var_250_17 + var_250_9 > arg_247_1.duration_ then
						arg_247_1.duration_ = var_250_17 + var_250_9
					end

					if var_250_12.prefab_name ~= "" and arg_247_1.actors_[var_250_12.prefab_name] ~= nil then
						local var_250_18 = LuaForUtil.PlayVoiceWithCriLipsync(arg_247_1.actors_[var_250_12.prefab_name].transform, "story_v_out_411121", "411121059", "story_v_out_411121.awb")

						arg_247_1:RecordAudio("411121059", var_250_18)
						arg_247_1:RecordAudio("411121059", var_250_18)
					else
						arg_247_1:AudioAction("play", "voice", "story_v_out_411121", "411121059", "story_v_out_411121.awb")
					end

					arg_247_1:RecordHistoryTalkVoice("story_v_out_411121", "411121059", "story_v_out_411121.awb")
				end

				arg_247_1:RecordContent(arg_247_1.text_.text)
			end

			local var_250_19 = math.max(var_250_10, arg_247_1.talkMaxDuration)

			if var_250_9 <= arg_247_1.time_ and arg_247_1.time_ < var_250_9 + var_250_19 then
				arg_247_1.typewritter.percent = (arg_247_1.time_ - var_250_9) / var_250_19

				arg_247_1.typewritter:SetDirty()
			end

			if arg_247_1.time_ >= var_250_9 + var_250_19 and arg_247_1.time_ < var_250_9 + var_250_19 + arg_250_0 then
				arg_247_1.typewritter.percent = 1

				arg_247_1.typewritter:SetDirty()
				arg_247_1:ShowNextGo(true)
			end
		end
	end,
	Play411121060 = function(arg_251_0, arg_251_1)
		arg_251_1.time_ = 0
		arg_251_1.frameCnt_ = 0
		arg_251_1.state_ = "playing"
		arg_251_1.curTalkId_ = 411121060
		arg_251_1.duration_ = 7.8

		SetActive(arg_251_1.tipsGo_, false)

		function arg_251_1.onSingleLineFinish_()
			arg_251_1.onSingleLineUpdate_ = nil
			arg_251_1.onSingleLineFinish_ = nil
			arg_251_1.state_ = "waiting"
		end

		function arg_251_1.playNext_(arg_253_0)
			if arg_253_0 == 1 then
				arg_251_0:Play411121061(arg_251_1)
			end
		end

		function arg_251_1.onSingleLineUpdate_(arg_254_0)
			local var_254_0 = 2

			if var_254_0 < arg_251_1.time_ and arg_251_1.time_ <= var_254_0 + arg_254_0 then
				local var_254_1 = manager.ui.mainCamera.transform.localPosition
				local var_254_2 = Vector3.New(0, 0, 10) + Vector3.New(var_254_1.x, var_254_1.y, 0)
				local var_254_3 = arg_251_1.bgs_.STblack

				var_254_3.transform.localPosition = var_254_2
				var_254_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_254_4 = var_254_3:GetComponent("SpriteRenderer")

				if var_254_4 and var_254_4.sprite then
					local var_254_5 = (var_254_3.transform.localPosition - var_254_1).z
					local var_254_6 = manager.ui.mainCameraCom_
					local var_254_7 = 2 * var_254_5 * Mathf.Tan(var_254_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_254_8 = var_254_7 * var_254_6.aspect
					local var_254_9 = var_254_4.sprite.bounds.size.x
					local var_254_10 = var_254_4.sprite.bounds.size.y
					local var_254_11 = var_254_8 / var_254_9
					local var_254_12 = var_254_7 / var_254_10
					local var_254_13 = var_254_12 < var_254_11 and var_254_11 or var_254_12

					var_254_3.transform.localScale = Vector3.New(var_254_13, var_254_13, 0)
				end

				for iter_254_0, iter_254_1 in pairs(arg_251_1.bgs_) do
					if iter_254_0 ~= "STblack" then
						iter_254_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_254_14 = arg_251_1.actors_["10071ui_story"].transform
			local var_254_15 = 1.96599999815226

			if var_254_15 < arg_251_1.time_ and arg_251_1.time_ <= var_254_15 + arg_254_0 then
				arg_251_1.var_.moveOldPos10071ui_story = var_254_14.localPosition
			end

			local var_254_16 = 0.001

			if var_254_15 <= arg_251_1.time_ and arg_251_1.time_ < var_254_15 + var_254_16 then
				local var_254_17 = (arg_251_1.time_ - var_254_15) / var_254_16
				local var_254_18 = Vector3.New(0, 100, 0)

				var_254_14.localPosition = Vector3.Lerp(arg_251_1.var_.moveOldPos10071ui_story, var_254_18, var_254_17)

				local var_254_19 = manager.ui.mainCamera.transform.position - var_254_14.position

				var_254_14.forward = Vector3.New(var_254_19.x, var_254_19.y, var_254_19.z)

				local var_254_20 = var_254_14.localEulerAngles

				var_254_20.z = 0
				var_254_20.x = 0
				var_254_14.localEulerAngles = var_254_20
			end

			if arg_251_1.time_ >= var_254_15 + var_254_16 and arg_251_1.time_ < var_254_15 + var_254_16 + arg_254_0 then
				var_254_14.localPosition = Vector3.New(0, 100, 0)

				local var_254_21 = manager.ui.mainCamera.transform.position - var_254_14.position

				var_254_14.forward = Vector3.New(var_254_21.x, var_254_21.y, var_254_21.z)

				local var_254_22 = var_254_14.localEulerAngles

				var_254_22.z = 0
				var_254_22.x = 0
				var_254_14.localEulerAngles = var_254_22
			end

			local var_254_23 = arg_251_1.actors_["10071ui_story"]
			local var_254_24 = 1.96599999815226

			if var_254_24 < arg_251_1.time_ and arg_251_1.time_ <= var_254_24 + arg_254_0 and arg_251_1.var_.characterEffect10071ui_story == nil then
				arg_251_1.var_.characterEffect10071ui_story = var_254_23:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_254_25 = 0.034000001847744

			if var_254_24 <= arg_251_1.time_ and arg_251_1.time_ < var_254_24 + var_254_25 then
				local var_254_26 = (arg_251_1.time_ - var_254_24) / var_254_25

				if arg_251_1.var_.characterEffect10071ui_story then
					local var_254_27 = Mathf.Lerp(0, 0.5, var_254_26)

					arg_251_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_251_1.var_.characterEffect10071ui_story.fillRatio = var_254_27
				end
			end

			if arg_251_1.time_ >= var_254_24 + var_254_25 and arg_251_1.time_ < var_254_24 + var_254_25 + arg_254_0 and arg_251_1.var_.characterEffect10071ui_story then
				local var_254_28 = 0.5

				arg_251_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_251_1.var_.characterEffect10071ui_story.fillRatio = var_254_28
			end

			local var_254_29 = arg_251_1.actors_["1095ui_story"].transform
			local var_254_30 = 1.96599999815226

			if var_254_30 < arg_251_1.time_ and arg_251_1.time_ <= var_254_30 + arg_254_0 then
				arg_251_1.var_.moveOldPos1095ui_story = var_254_29.localPosition
			end

			local var_254_31 = 0.001

			if var_254_30 <= arg_251_1.time_ and arg_251_1.time_ < var_254_30 + var_254_31 then
				local var_254_32 = (arg_251_1.time_ - var_254_30) / var_254_31
				local var_254_33 = Vector3.New(0, 100, 0)

				var_254_29.localPosition = Vector3.Lerp(arg_251_1.var_.moveOldPos1095ui_story, var_254_33, var_254_32)

				local var_254_34 = manager.ui.mainCamera.transform.position - var_254_29.position

				var_254_29.forward = Vector3.New(var_254_34.x, var_254_34.y, var_254_34.z)

				local var_254_35 = var_254_29.localEulerAngles

				var_254_35.z = 0
				var_254_35.x = 0
				var_254_29.localEulerAngles = var_254_35
			end

			if arg_251_1.time_ >= var_254_30 + var_254_31 and arg_251_1.time_ < var_254_30 + var_254_31 + arg_254_0 then
				var_254_29.localPosition = Vector3.New(0, 100, 0)

				local var_254_36 = manager.ui.mainCamera.transform.position - var_254_29.position

				var_254_29.forward = Vector3.New(var_254_36.x, var_254_36.y, var_254_36.z)

				local var_254_37 = var_254_29.localEulerAngles

				var_254_37.z = 0
				var_254_37.x = 0
				var_254_29.localEulerAngles = var_254_37
			end

			local var_254_38 = arg_251_1.actors_["1095ui_story"]
			local var_254_39 = 1.96599999815226

			if var_254_39 < arg_251_1.time_ and arg_251_1.time_ <= var_254_39 + arg_254_0 and arg_251_1.var_.characterEffect1095ui_story == nil then
				arg_251_1.var_.characterEffect1095ui_story = var_254_38:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_254_40 = 0.0166666666666667

			if var_254_39 <= arg_251_1.time_ and arg_251_1.time_ < var_254_39 + var_254_40 then
				local var_254_41 = (arg_251_1.time_ - var_254_39) / var_254_40

				if arg_251_1.var_.characterEffect1095ui_story then
					local var_254_42 = Mathf.Lerp(0, 0.5, var_254_41)

					arg_251_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_251_1.var_.characterEffect1095ui_story.fillRatio = var_254_42
				end
			end

			if arg_251_1.time_ >= var_254_39 + var_254_40 and arg_251_1.time_ < var_254_39 + var_254_40 + arg_254_0 and arg_251_1.var_.characterEffect1095ui_story then
				local var_254_43 = 0.5

				arg_251_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_251_1.var_.characterEffect1095ui_story.fillRatio = var_254_43
			end

			local var_254_44 = 0

			if var_254_44 < arg_251_1.time_ and arg_251_1.time_ <= var_254_44 + arg_254_0 then
				arg_251_1.mask_.enabled = true
				arg_251_1.mask_.raycastTarget = true

				arg_251_1:SetGaussion(false)
			end

			local var_254_45 = 2

			if var_254_44 <= arg_251_1.time_ and arg_251_1.time_ < var_254_44 + var_254_45 then
				local var_254_46 = (arg_251_1.time_ - var_254_44) / var_254_45
				local var_254_47 = Color.New(0, 0, 0)

				var_254_47.a = Mathf.Lerp(0, 1, var_254_46)
				arg_251_1.mask_.color = var_254_47
			end

			if arg_251_1.time_ >= var_254_44 + var_254_45 and arg_251_1.time_ < var_254_44 + var_254_45 + arg_254_0 then
				local var_254_48 = Color.New(0, 0, 0)

				var_254_48.a = 1
				arg_251_1.mask_.color = var_254_48
			end

			local var_254_49 = 2

			if var_254_49 < arg_251_1.time_ and arg_251_1.time_ <= var_254_49 + arg_254_0 then
				arg_251_1.mask_.enabled = true
				arg_251_1.mask_.raycastTarget = true

				arg_251_1:SetGaussion(false)
			end

			local var_254_50 = 1

			if var_254_49 <= arg_251_1.time_ and arg_251_1.time_ < var_254_49 + var_254_50 then
				local var_254_51 = (arg_251_1.time_ - var_254_49) / var_254_50
				local var_254_52 = Color.New(0, 0, 0)

				var_254_52.a = Mathf.Lerp(1, 0, var_254_51)
				arg_251_1.mask_.color = var_254_52
			end

			if arg_251_1.time_ >= var_254_49 + var_254_50 and arg_251_1.time_ < var_254_49 + var_254_50 + arg_254_0 then
				local var_254_53 = Color.New(0, 0, 0)
				local var_254_54 = 0

				arg_251_1.mask_.enabled = false
				var_254_53.a = var_254_54
				arg_251_1.mask_.color = var_254_53
			end

			if arg_251_1.frameCnt_ <= 1 then
				arg_251_1.dialog_:SetActive(false)
			end

			local var_254_55 = 2.8
			local var_254_56 = 1.2

			if var_254_55 < arg_251_1.time_ and arg_251_1.time_ <= var_254_55 + arg_254_0 then
				arg_251_1.talkMaxDuration = 0

				arg_251_1.dialog_:SetActive(true)

				local var_254_57 = LeanTween.value(arg_251_1.dialog_, 0, 1, 0.3)

				var_254_57:setOnUpdate(LuaHelper.FloatAction(function(arg_255_0)
					arg_251_1.dialogCg_.alpha = arg_255_0
				end))
				var_254_57:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_251_1.dialog_)
					var_254_57:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_251_1.duration_ = arg_251_1.duration_ + 0.3

				SetActive(arg_251_1.leftNameGo_, false)

				arg_251_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_251_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_251_1:RecordName(arg_251_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_251_1.iconTrs_.gameObject, false)
				arg_251_1.callingController_:SetSelectedState("normal")

				local var_254_58 = arg_251_1:GetWordFromCfg(411121060)
				local var_254_59 = arg_251_1:FormatText(var_254_58.content)

				arg_251_1.text_.text = var_254_59

				LuaForUtil.ClearLinePrefixSymbol(arg_251_1.text_)

				local var_254_60 = 48
				local var_254_61 = utf8.len(var_254_59)
				local var_254_62 = var_254_60 <= 0 and var_254_56 or var_254_56 * (var_254_61 / var_254_60)

				if var_254_62 > 0 and var_254_56 < var_254_62 then
					arg_251_1.talkMaxDuration = var_254_62
					var_254_55 = var_254_55 + 0.3

					if var_254_62 + var_254_55 > arg_251_1.duration_ then
						arg_251_1.duration_ = var_254_62 + var_254_55
					end
				end

				arg_251_1.text_.text = var_254_59
				arg_251_1.typewritter.percent = 0

				arg_251_1.typewritter:SetDirty()
				arg_251_1:ShowNextGo(false)
				arg_251_1:RecordContent(arg_251_1.text_.text)
			end

			local var_254_63 = var_254_55 + 0.3
			local var_254_64 = math.max(var_254_56, arg_251_1.talkMaxDuration)

			if var_254_63 <= arg_251_1.time_ and arg_251_1.time_ < var_254_63 + var_254_64 then
				arg_251_1.typewritter.percent = (arg_251_1.time_ - var_254_63) / var_254_64

				arg_251_1.typewritter:SetDirty()
			end

			if arg_251_1.time_ >= var_254_63 + var_254_64 and arg_251_1.time_ < var_254_63 + var_254_64 + arg_254_0 then
				arg_251_1.typewritter.percent = 1

				arg_251_1.typewritter:SetDirty()
				arg_251_1:ShowNextGo(true)
			end
		end
	end,
	Play411121061 = function(arg_257_0, arg_257_1)
		arg_257_1.time_ = 0
		arg_257_1.frameCnt_ = 0
		arg_257_1.state_ = "playing"
		arg_257_1.curTalkId_ = 411121061
		arg_257_1.duration_ = 2.000666668513

		SetActive(arg_257_1.tipsGo_, false)

		function arg_257_1.onSingleLineFinish_()
			arg_257_1.onSingleLineUpdate_ = nil
			arg_257_1.onSingleLineFinish_ = nil
			arg_257_1.state_ = "waiting"
		end

		function arg_257_1.playNext_(arg_259_0)
			if arg_259_0 == 1 then
				arg_257_0:Play411121062(arg_257_1)
			end
		end

		function arg_257_1.onSingleLineUpdate_(arg_260_0)
			local var_260_0 = arg_257_1.actors_["10014ui_story"].transform
			local var_260_1 = 0.766666666666667

			if var_260_1 < arg_257_1.time_ and arg_257_1.time_ <= var_260_1 + arg_260_0 then
				arg_257_1.var_.moveOldPos10014ui_story = var_260_0.localPosition
			end

			local var_260_2 = 0.001

			if var_260_1 <= arg_257_1.time_ and arg_257_1.time_ < var_260_1 + var_260_2 then
				local var_260_3 = (arg_257_1.time_ - var_260_1) / var_260_2
				local var_260_4 = Vector3.New(0, 100, 0)

				var_260_0.localPosition = Vector3.Lerp(arg_257_1.var_.moveOldPos10014ui_story, var_260_4, var_260_3)

				local var_260_5 = manager.ui.mainCamera.transform.position - var_260_0.position

				var_260_0.forward = Vector3.New(var_260_5.x, var_260_5.y, var_260_5.z)

				local var_260_6 = var_260_0.localEulerAngles

				var_260_6.z = 0
				var_260_6.x = 0
				var_260_0.localEulerAngles = var_260_6
			end

			if arg_257_1.time_ >= var_260_1 + var_260_2 and arg_257_1.time_ < var_260_1 + var_260_2 + arg_260_0 then
				var_260_0.localPosition = Vector3.New(0, 100, 0)

				local var_260_7 = manager.ui.mainCamera.transform.position - var_260_0.position

				var_260_0.forward = Vector3.New(var_260_7.x, var_260_7.y, var_260_7.z)

				local var_260_8 = var_260_0.localEulerAngles

				var_260_8.z = 0
				var_260_8.x = 0
				var_260_0.localEulerAngles = var_260_8
			end

			local var_260_9 = 0.766666666666667

			if var_260_9 < arg_257_1.time_ and arg_257_1.time_ <= var_260_9 + arg_260_0 then
				arg_257_1.var_.oldValueTypewriter = arg_257_1.fswtw_.percent

				arg_257_1:ShowNextGo(false)
			end

			local var_260_10 = 7
			local var_260_11 = 0.466666666666667
			local var_260_12 = arg_257_1:GetWordFromCfg(411121061)
			local var_260_13 = arg_257_1:FormatText(var_260_12.content)
			local var_260_14, var_260_15 = arg_257_1:GetPercentByPara(var_260_13, 1)

			if var_260_9 < arg_257_1.time_ and arg_257_1.time_ <= var_260_9 + arg_260_0 then
				arg_257_1.talkMaxDuration = 0

				local var_260_16 = var_260_10 <= 0 and var_260_11 or var_260_11 * ((var_260_15 - arg_257_1.typewritterCharCountI18N) / var_260_10)

				if var_260_16 > 0 and var_260_11 < var_260_16 then
					arg_257_1.talkMaxDuration = var_260_16

					if var_260_16 + var_260_9 > arg_257_1.duration_ then
						arg_257_1.duration_ = var_260_16 + var_260_9
					end
				end
			end

			local var_260_17 = 0.466666666666667
			local var_260_18 = math.max(var_260_17, arg_257_1.talkMaxDuration)

			if var_260_9 <= arg_257_1.time_ and arg_257_1.time_ < var_260_9 + var_260_18 then
				local var_260_19 = (arg_257_1.time_ - var_260_9) / var_260_18

				arg_257_1.fswtw_.percent = Mathf.Lerp(arg_257_1.var_.oldValueTypewriter, var_260_14, var_260_19)
				arg_257_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_257_1.fswtw_:SetDirty()
			end

			if arg_257_1.time_ >= var_260_9 + var_260_18 and arg_257_1.time_ < var_260_9 + var_260_18 + arg_260_0 then
				arg_257_1.fswtw_.percent = var_260_14

				arg_257_1.fswtw_:SetDirty()
				arg_257_1:ShowNextGo(true)

				arg_257_1.typewritterCharCountI18N = var_260_15
			end

			local var_260_20 = 0

			if var_260_20 < arg_257_1.time_ and arg_257_1.time_ <= var_260_20 + arg_260_0 then
				arg_257_1.fswbg_:SetActive(true)
				arg_257_1.dialog_:SetActive(false)

				arg_257_1.fswtw_.percent = 0

				local var_260_21 = arg_257_1:GetWordFromCfg(411121061)
				local var_260_22 = arg_257_1:FormatText(var_260_21.content)

				arg_257_1.fswt_.text = var_260_22

				LuaForUtil.ClearLinePrefixSymbol(arg_257_1.fswt_)

				arg_257_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_257_1.fswtw_:SetDirty()

				arg_257_1.typewritterCharCountI18N = 0

				SetActive(arg_257_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_257_1:ShowNextGo(false)
			end

			local var_260_23 = 0.766666666666667

			if var_260_23 < arg_257_1.time_ and arg_257_1.time_ <= var_260_23 + arg_260_0 then
				local var_260_24 = arg_257_1.fswbg_.transform:Find("textbox/adapt/content") or arg_257_1.fswbg_.transform:Find("textbox/content")
				local var_260_25 = var_260_24:GetComponent("Text")
				local var_260_26 = var_260_24:GetComponent("RectTransform")

				var_260_25.alignment = UnityEngine.TextAnchor.LowerCenter
				var_260_26.offsetMin = Vector2.New(0, 0)
				var_260_26.offsetMax = Vector2.New(0, 0)
			end

			local var_260_27 = 0.766666666666667

			if var_260_27 < arg_257_1.time_ and arg_257_1.time_ <= var_260_27 + arg_260_0 then
				arg_257_1.cswbg_:SetActive(true)

				local var_260_28 = arg_257_1.cswt_:GetComponent("RectTransform")

				arg_257_1.cswt_.alignment = UnityEngine.TextAnchor.MiddleCenter
				var_260_28.offsetMin = Vector2.New(400, 270)
				var_260_28.offsetMax = Vector2.New(-400, -200)

				local var_260_29 = arg_257_1:GetWordFromCfg(401001)
				local var_260_30 = arg_257_1:FormatText(var_260_29.content)

				arg_257_1.cswt_.text = var_260_30

				LuaForUtil.ClearLinePrefixSymbol(arg_257_1.cswt_)

				arg_257_1.cswt_.fontSize = 180
				arg_257_1.cswt_:GetComponent("Text").color = Color(1, 1, 1)
				arg_257_1.cswt_.font = Asset.Load("Fonts/SourceHanSerifCN-Bold-3.0")
			end

			local var_260_31 = 0.000666668514410773

			if var_260_31 < arg_257_1.time_ and arg_257_1.time_ <= var_260_31 + arg_260_0 then
				local var_260_32 = manager.ui.mainCamera.transform.localPosition
				local var_260_33 = Vector3.New(0, 0, 10) + Vector3.New(var_260_32.x, var_260_32.y, 0)
				local var_260_34 = arg_257_1.bgs_.STblack

				var_260_34.transform.localPosition = var_260_33
				var_260_34.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_260_35 = var_260_34:GetComponent("SpriteRenderer")

				if var_260_35 and var_260_35.sprite then
					local var_260_36 = (var_260_34.transform.localPosition - var_260_32).z
					local var_260_37 = manager.ui.mainCameraCom_
					local var_260_38 = 2 * var_260_36 * Mathf.Tan(var_260_37.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_260_39 = var_260_38 * var_260_37.aspect
					local var_260_40 = var_260_35.sprite.bounds.size.x
					local var_260_41 = var_260_35.sprite.bounds.size.y
					local var_260_42 = var_260_39 / var_260_40
					local var_260_43 = var_260_38 / var_260_41
					local var_260_44 = var_260_43 < var_260_42 and var_260_42 or var_260_43

					var_260_34.transform.localScale = Vector3.New(var_260_44, var_260_44, 0)
				end

				for iter_260_0, iter_260_1 in pairs(arg_257_1.bgs_) do
					if iter_260_0 ~= "STblack" then
						iter_260_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_260_45 = 0

			if var_260_45 < arg_257_1.time_ and arg_257_1.time_ <= var_260_45 + arg_260_0 then
				arg_257_1.mask_.enabled = true
				arg_257_1.mask_.raycastTarget = true

				arg_257_1:SetGaussion(false)
			end

			local var_260_46 = 1.999999999999

			if var_260_45 <= arg_257_1.time_ and arg_257_1.time_ < var_260_45 + var_260_46 then
				local var_260_47 = (arg_257_1.time_ - var_260_45) / var_260_46
				local var_260_48 = Color.New(0, 0, 0)

				var_260_48.a = Mathf.Lerp(1, 0, var_260_47)
				arg_257_1.mask_.color = var_260_48
			end

			if arg_257_1.time_ >= var_260_45 + var_260_46 and arg_257_1.time_ < var_260_45 + var_260_46 + arg_260_0 then
				local var_260_49 = Color.New(0, 0, 0)
				local var_260_50 = 0

				arg_257_1.mask_.enabled = false
				var_260_49.a = var_260_50
				arg_257_1.mask_.color = var_260_49
			end

			local var_260_51 = 0.766666666666667
			local var_260_52 = 1
			local var_260_53 = manager.audio:GetVoiceLength("story_v_out_411121", "411121061", "story_v_out_411121.awb") / 1000

			if var_260_53 > 0 and var_260_52 < var_260_53 and var_260_53 + var_260_51 > arg_257_1.duration_ then
				local var_260_54 = var_260_53

				arg_257_1.duration_ = var_260_53 + var_260_51
			end

			if var_260_51 < arg_257_1.time_ and arg_257_1.time_ <= var_260_51 + arg_260_0 then
				local var_260_55 = "play"
				local var_260_56 = "voice"

				arg_257_1:AudioAction(var_260_55, var_260_56, "story_v_out_411121", "411121061", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121062 = function(arg_261_0, arg_261_1)
		arg_261_1.time_ = 0
		arg_261_1.frameCnt_ = 0
		arg_261_1.state_ = "playing"
		arg_261_1.curTalkId_ = 411121062
		arg_261_1.duration_ = 1.283333333332

		SetActive(arg_261_1.tipsGo_, false)

		function arg_261_1.onSingleLineFinish_()
			arg_261_1.onSingleLineUpdate_ = nil
			arg_261_1.onSingleLineFinish_ = nil
			arg_261_1.state_ = "waiting"
		end

		function arg_261_1.playNext_(arg_263_0)
			if arg_263_0 == 1 then
				arg_261_0:Play411121063(arg_261_1)
			end
		end

		function arg_261_1.onSingleLineUpdate_(arg_264_0)
			local var_264_0 = 0

			if var_264_0 < arg_261_1.time_ and arg_261_1.time_ <= var_264_0 + arg_264_0 then
				arg_261_1.fswbg_:SetActive(true)
				arg_261_1.dialog_:SetActive(false)

				arg_261_1.fswtw_.percent = 0

				local var_264_1 = arg_261_1:GetWordFromCfg(411121062)
				local var_264_2 = arg_261_1:FormatText(var_264_1.content)

				arg_261_1.fswt_.text = var_264_2

				LuaForUtil.ClearLinePrefixSymbol(arg_261_1.fswt_)

				arg_261_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_261_1.fswtw_:SetDirty()

				arg_261_1.typewritterCharCountI18N = 0

				SetActive(arg_261_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_261_1:ShowNextGo(false)
			end

			local var_264_3 = 0.0166666666666666

			if var_264_3 < arg_261_1.time_ and arg_261_1.time_ <= var_264_3 + arg_264_0 then
				arg_261_1.var_.oldValueTypewriter = arg_261_1.fswtw_.percent

				arg_261_1:ShowNextGo(false)
			end

			local var_264_4 = 19
			local var_264_5 = 1.26666666666667
			local var_264_6 = arg_261_1:GetWordFromCfg(411121062)
			local var_264_7 = arg_261_1:FormatText(var_264_6.content)
			local var_264_8, var_264_9 = arg_261_1:GetPercentByPara(var_264_7, 1)

			if var_264_3 < arg_261_1.time_ and arg_261_1.time_ <= var_264_3 + arg_264_0 then
				arg_261_1.talkMaxDuration = 0

				local var_264_10 = var_264_4 <= 0 and var_264_5 or var_264_5 * ((var_264_9 - arg_261_1.typewritterCharCountI18N) / var_264_4)

				if var_264_10 > 0 and var_264_5 < var_264_10 then
					arg_261_1.talkMaxDuration = var_264_10

					if var_264_10 + var_264_3 > arg_261_1.duration_ then
						arg_261_1.duration_ = var_264_10 + var_264_3
					end
				end
			end

			local var_264_11 = 1.26666666666667
			local var_264_12 = math.max(var_264_11, arg_261_1.talkMaxDuration)

			if var_264_3 <= arg_261_1.time_ and arg_261_1.time_ < var_264_3 + var_264_12 then
				local var_264_13 = (arg_261_1.time_ - var_264_3) / var_264_12

				arg_261_1.fswtw_.percent = Mathf.Lerp(arg_261_1.var_.oldValueTypewriter, var_264_8, var_264_13)
				arg_261_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_261_1.fswtw_:SetDirty()
			end

			if arg_261_1.time_ >= var_264_3 + var_264_12 and arg_261_1.time_ < var_264_3 + var_264_12 + arg_264_0 then
				arg_261_1.fswtw_.percent = var_264_8

				arg_261_1.fswtw_:SetDirty()
				arg_261_1:ShowNextGo(true)

				arg_261_1.typewritterCharCountI18N = var_264_9
			end

			local var_264_14 = 0.0166666666666667
			local var_264_15 = 1
			local var_264_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121062", "story_v_out_411121.awb") / 1000

			if var_264_16 > 0 and var_264_15 < var_264_16 and var_264_16 + var_264_14 > arg_261_1.duration_ then
				local var_264_17 = var_264_16

				arg_261_1.duration_ = var_264_16 + var_264_14
			end

			if var_264_14 < arg_261_1.time_ and arg_261_1.time_ <= var_264_14 + arg_264_0 then
				local var_264_18 = "play"
				local var_264_19 = "voice"

				arg_261_1:AudioAction(var_264_18, var_264_19, "story_v_out_411121", "411121062", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121063 = function(arg_265_0, arg_265_1)
		arg_265_1.time_ = 0
		arg_265_1.frameCnt_ = 0
		arg_265_1.state_ = "playing"
		arg_265_1.curTalkId_ = 411121063
		arg_265_1.duration_ = 2.483333333332

		SetActive(arg_265_1.tipsGo_, false)

		function arg_265_1.onSingleLineFinish_()
			arg_265_1.onSingleLineUpdate_ = nil
			arg_265_1.onSingleLineFinish_ = nil
			arg_265_1.state_ = "waiting"
		end

		function arg_265_1.playNext_(arg_267_0)
			if arg_267_0 == 1 then
				arg_265_0:Play411121064(arg_265_1)
			end
		end

		function arg_265_1.onSingleLineUpdate_(arg_268_0)
			local var_268_0 = 0

			if var_268_0 < arg_265_1.time_ and arg_265_1.time_ <= var_268_0 + arg_268_0 then
				arg_265_1.fswbg_:SetActive(true)
				arg_265_1.dialog_:SetActive(false)

				arg_265_1.fswtw_.percent = 0

				local var_268_1 = arg_265_1:GetWordFromCfg(411121063)
				local var_268_2 = arg_265_1:FormatText(var_268_1.content)

				arg_265_1.fswt_.text = var_268_2

				LuaForUtil.ClearLinePrefixSymbol(arg_265_1.fswt_)

				arg_265_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_265_1.fswtw_:SetDirty()

				arg_265_1.typewritterCharCountI18N = 0

				SetActive(arg_265_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_265_1:ShowNextGo(false)
			end

			local var_268_3 = 0.0166666666666666

			if var_268_3 < arg_265_1.time_ and arg_265_1.time_ <= var_268_3 + arg_268_0 then
				arg_265_1.var_.oldValueTypewriter = arg_265_1.fswtw_.percent

				arg_265_1:ShowNextGo(false)
			end

			local var_268_4 = 37
			local var_268_5 = 2.46666666666667
			local var_268_6 = arg_265_1:GetWordFromCfg(411121063)
			local var_268_7 = arg_265_1:FormatText(var_268_6.content)
			local var_268_8, var_268_9 = arg_265_1:GetPercentByPara(var_268_7, 1)

			if var_268_3 < arg_265_1.time_ and arg_265_1.time_ <= var_268_3 + arg_268_0 then
				arg_265_1.talkMaxDuration = 0

				local var_268_10 = var_268_4 <= 0 and var_268_5 or var_268_5 * ((var_268_9 - arg_265_1.typewritterCharCountI18N) / var_268_4)

				if var_268_10 > 0 and var_268_5 < var_268_10 then
					arg_265_1.talkMaxDuration = var_268_10

					if var_268_10 + var_268_3 > arg_265_1.duration_ then
						arg_265_1.duration_ = var_268_10 + var_268_3
					end
				end
			end

			local var_268_11 = 2.46666666666667
			local var_268_12 = math.max(var_268_11, arg_265_1.talkMaxDuration)

			if var_268_3 <= arg_265_1.time_ and arg_265_1.time_ < var_268_3 + var_268_12 then
				local var_268_13 = (arg_265_1.time_ - var_268_3) / var_268_12

				arg_265_1.fswtw_.percent = Mathf.Lerp(arg_265_1.var_.oldValueTypewriter, var_268_8, var_268_13)
				arg_265_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_265_1.fswtw_:SetDirty()
			end

			if arg_265_1.time_ >= var_268_3 + var_268_12 and arg_265_1.time_ < var_268_3 + var_268_12 + arg_268_0 then
				arg_265_1.fswtw_.percent = var_268_8

				arg_265_1.fswtw_:SetDirty()
				arg_265_1:ShowNextGo(true)

				arg_265_1.typewritterCharCountI18N = var_268_9
			end

			local var_268_14 = 0.0166666666666667
			local var_268_15 = 1
			local var_268_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121063", "story_v_out_411121.awb") / 1000

			if var_268_16 > 0 and var_268_15 < var_268_16 and var_268_16 + var_268_14 > arg_265_1.duration_ then
				local var_268_17 = var_268_16

				arg_265_1.duration_ = var_268_16 + var_268_14
			end

			if var_268_14 < arg_265_1.time_ and arg_265_1.time_ <= var_268_14 + arg_268_0 then
				local var_268_18 = "play"
				local var_268_19 = "voice"

				arg_265_1:AudioAction(var_268_18, var_268_19, "story_v_out_411121", "411121063", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121064 = function(arg_269_0, arg_269_1)
		arg_269_1.time_ = 0
		arg_269_1.frameCnt_ = 0
		arg_269_1.state_ = "playing"
		arg_269_1.curTalkId_ = 411121064
		arg_269_1.duration_ = 4.999999999999

		SetActive(arg_269_1.tipsGo_, false)

		function arg_269_1.onSingleLineFinish_()
			arg_269_1.onSingleLineUpdate_ = nil
			arg_269_1.onSingleLineFinish_ = nil
			arg_269_1.state_ = "waiting"
		end

		function arg_269_1.playNext_(arg_271_0)
			if arg_271_0 == 1 then
				arg_269_0:Play411121065(arg_269_1)
			end
		end

		function arg_269_1.onSingleLineUpdate_(arg_272_0)
			local var_272_0 = 0

			if var_272_0 < arg_269_1.time_ and arg_269_1.time_ <= var_272_0 + arg_272_0 then
				arg_269_1.fswbg_:SetActive(true)
				arg_269_1.dialog_:SetActive(false)

				arg_269_1.fswtw_.percent = 0

				local var_272_1 = arg_269_1:GetWordFromCfg(411121064)
				local var_272_2 = arg_269_1:FormatText(var_272_1.content)

				arg_269_1.fswt_.text = var_272_2

				LuaForUtil.ClearLinePrefixSymbol(arg_269_1.fswt_)

				arg_269_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_269_1.fswtw_:SetDirty()

				arg_269_1.typewritterCharCountI18N = 0

				SetActive(arg_269_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_269_1:ShowNextGo(false)
			end

			local var_272_3 = 0.0166666666666666

			if var_272_3 < arg_269_1.time_ and arg_269_1.time_ <= var_272_3 + arg_272_0 then
				arg_269_1.var_.oldValueTypewriter = arg_269_1.fswtw_.percent

				arg_269_1:ShowNextGo(false)
			end

			local var_272_4 = 51
			local var_272_5 = 3.4
			local var_272_6 = arg_269_1:GetWordFromCfg(411121064)
			local var_272_7 = arg_269_1:FormatText(var_272_6.content)
			local var_272_8, var_272_9 = arg_269_1:GetPercentByPara(var_272_7, 1)

			if var_272_3 < arg_269_1.time_ and arg_269_1.time_ <= var_272_3 + arg_272_0 then
				arg_269_1.talkMaxDuration = 0

				local var_272_10 = var_272_4 <= 0 and var_272_5 or var_272_5 * ((var_272_9 - arg_269_1.typewritterCharCountI18N) / var_272_4)

				if var_272_10 > 0 and var_272_5 < var_272_10 then
					arg_269_1.talkMaxDuration = var_272_10

					if var_272_10 + var_272_3 > arg_269_1.duration_ then
						arg_269_1.duration_ = var_272_10 + var_272_3
					end
				end
			end

			local var_272_11 = 3.4
			local var_272_12 = math.max(var_272_11, arg_269_1.talkMaxDuration)

			if var_272_3 <= arg_269_1.time_ and arg_269_1.time_ < var_272_3 + var_272_12 then
				local var_272_13 = (arg_269_1.time_ - var_272_3) / var_272_12

				arg_269_1.fswtw_.percent = Mathf.Lerp(arg_269_1.var_.oldValueTypewriter, var_272_8, var_272_13)
				arg_269_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_269_1.fswtw_:SetDirty()
			end

			if arg_269_1.time_ >= var_272_3 + var_272_12 and arg_269_1.time_ < var_272_3 + var_272_12 + arg_272_0 then
				arg_269_1.fswtw_.percent = var_272_8

				arg_269_1.fswtw_:SetDirty()
				arg_269_1:ShowNextGo(true)

				arg_269_1.typewritterCharCountI18N = var_272_9
			end

			local var_272_14 = 0

			if var_272_14 < arg_269_1.time_ and arg_269_1.time_ <= var_272_14 + arg_272_0 then
				local var_272_15 = arg_269_1.fswbg_.transform:Find("textbox/adapt/content") or arg_269_1.fswbg_.transform:Find("textbox/content")
				local var_272_16 = var_272_15:GetComponent("Text")
				local var_272_17 = var_272_15:GetComponent("RectTransform")

				var_272_16.alignment = UnityEngine.TextAnchor.LowerCenter
				var_272_17.offsetMin = Vector2.New(0, 20)
				var_272_17.offsetMax = Vector2.New(0, 0)
			end

			local var_272_18 = 0.0166666666666667
			local var_272_19 = 1
			local var_272_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121064", "story_v_out_411121.awb") / 1000

			if var_272_20 > 0 and var_272_19 < var_272_20 and var_272_20 + var_272_18 > arg_269_1.duration_ then
				local var_272_21 = var_272_20

				arg_269_1.duration_ = var_272_20 + var_272_18
			end

			if var_272_18 < arg_269_1.time_ and arg_269_1.time_ <= var_272_18 + arg_272_0 then
				local var_272_22 = "play"
				local var_272_23 = "voice"

				arg_269_1:AudioAction(var_272_22, var_272_23, "story_v_out_411121", "411121064", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121065 = function(arg_273_0, arg_273_1)
		arg_273_1.time_ = 0
		arg_273_1.frameCnt_ = 0
		arg_273_1.state_ = "playing"
		arg_273_1.curTalkId_ = 411121065
		arg_273_1.duration_ = 3.216666666666

		SetActive(arg_273_1.tipsGo_, false)

		function arg_273_1.onSingleLineFinish_()
			arg_273_1.onSingleLineUpdate_ = nil
			arg_273_1.onSingleLineFinish_ = nil
			arg_273_1.state_ = "waiting"
		end

		function arg_273_1.playNext_(arg_275_0)
			if arg_275_0 == 1 then
				arg_273_0:Play411121066(arg_273_1)
			end
		end

		function arg_273_1.onSingleLineUpdate_(arg_276_0)
			local var_276_0 = 0

			if var_276_0 < arg_273_1.time_ and arg_273_1.time_ <= var_276_0 + arg_276_0 then
				arg_273_1.fswbg_:SetActive(true)
				arg_273_1.dialog_:SetActive(false)

				arg_273_1.fswtw_.percent = 0

				local var_276_1 = arg_273_1:GetWordFromCfg(411121065)
				local var_276_2 = arg_273_1:FormatText(var_276_1.content)

				arg_273_1.fswt_.text = var_276_2

				LuaForUtil.ClearLinePrefixSymbol(arg_273_1.fswt_)

				arg_273_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_273_1.fswtw_:SetDirty()

				arg_273_1.typewritterCharCountI18N = 0

				SetActive(arg_273_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_273_1:ShowNextGo(false)
			end

			local var_276_3 = 0.0166666666666666

			if var_276_3 < arg_273_1.time_ and arg_273_1.time_ <= var_276_3 + arg_276_0 then
				arg_273_1.var_.oldValueTypewriter = arg_273_1.fswtw_.percent

				arg_273_1:ShowNextGo(false)
			end

			local var_276_4 = 48
			local var_276_5 = 3.2
			local var_276_6 = arg_273_1:GetWordFromCfg(411121065)
			local var_276_7 = arg_273_1:FormatText(var_276_6.content)
			local var_276_8, var_276_9 = arg_273_1:GetPercentByPara(var_276_7, 1)

			if var_276_3 < arg_273_1.time_ and arg_273_1.time_ <= var_276_3 + arg_276_0 then
				arg_273_1.talkMaxDuration = 0

				local var_276_10 = var_276_4 <= 0 and var_276_5 or var_276_5 * ((var_276_9 - arg_273_1.typewritterCharCountI18N) / var_276_4)

				if var_276_10 > 0 and var_276_5 < var_276_10 then
					arg_273_1.talkMaxDuration = var_276_10

					if var_276_10 + var_276_3 > arg_273_1.duration_ then
						arg_273_1.duration_ = var_276_10 + var_276_3
					end
				end
			end

			local var_276_11 = 3.2
			local var_276_12 = math.max(var_276_11, arg_273_1.talkMaxDuration)

			if var_276_3 <= arg_273_1.time_ and arg_273_1.time_ < var_276_3 + var_276_12 then
				local var_276_13 = (arg_273_1.time_ - var_276_3) / var_276_12

				arg_273_1.fswtw_.percent = Mathf.Lerp(arg_273_1.var_.oldValueTypewriter, var_276_8, var_276_13)
				arg_273_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_273_1.fswtw_:SetDirty()
			end

			if arg_273_1.time_ >= var_276_3 + var_276_12 and arg_273_1.time_ < var_276_3 + var_276_12 + arg_276_0 then
				arg_273_1.fswtw_.percent = var_276_8

				arg_273_1.fswtw_:SetDirty()
				arg_273_1:ShowNextGo(true)

				arg_273_1.typewritterCharCountI18N = var_276_9
			end

			local var_276_14 = 0
			local var_276_15 = 1

			if var_276_14 < arg_273_1.time_ and arg_273_1.time_ <= var_276_14 + arg_276_0 then
				local var_276_16 = "play"
				local var_276_17 = "music"

				arg_273_1:AudioAction(var_276_16, var_276_17, "", "", "")
			end

			local var_276_18 = 0

			if var_276_18 < arg_273_1.time_ and arg_273_1.time_ <= var_276_18 + arg_276_0 then
				local var_276_19 = arg_273_1.fswbg_.transform:Find("textbox/adapt/content") or arg_273_1.fswbg_.transform:Find("textbox/content")
				local var_276_20 = var_276_19:GetComponent("Text")
				local var_276_21 = var_276_19:GetComponent("RectTransform")

				var_276_20.alignment = UnityEngine.TextAnchor.LowerCenter
				var_276_21.offsetMin = Vector2.New(-10, 20)
				var_276_21.offsetMax = Vector2.New(0, 0)
			end

			local var_276_22 = 0.0166666666666667
			local var_276_23 = 1
			local var_276_24 = manager.audio:GetVoiceLength("story_v_out_411121", "411121065", "story_v_out_411121.awb") / 1000

			if var_276_24 > 0 and var_276_23 < var_276_24 and var_276_24 + var_276_22 > arg_273_1.duration_ then
				local var_276_25 = var_276_24

				arg_273_1.duration_ = var_276_24 + var_276_22
			end

			if var_276_22 < arg_273_1.time_ and arg_273_1.time_ <= var_276_22 + arg_276_0 then
				local var_276_26 = "play"
				local var_276_27 = "voice"

				arg_273_1:AudioAction(var_276_26, var_276_27, "story_v_out_411121", "411121065", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121066 = function(arg_277_0, arg_277_1)
		arg_277_1.time_ = 0
		arg_277_1.frameCnt_ = 0
		arg_277_1.state_ = "playing"
		arg_277_1.curTalkId_ = 411121066
		arg_277_1.duration_ = 1.616666666666

		SetActive(arg_277_1.tipsGo_, false)

		function arg_277_1.onSingleLineFinish_()
			arg_277_1.onSingleLineUpdate_ = nil
			arg_277_1.onSingleLineFinish_ = nil
			arg_277_1.state_ = "waiting"
		end

		function arg_277_1.playNext_(arg_279_0)
			if arg_279_0 == 1 then
				arg_277_0:Play411121067(arg_277_1)
			end
		end

		function arg_277_1.onSingleLineUpdate_(arg_280_0)
			local var_280_0 = 0

			if var_280_0 < arg_277_1.time_ and arg_277_1.time_ <= var_280_0 + arg_280_0 then
				arg_277_1.fswbg_:SetActive(true)
				arg_277_1.dialog_:SetActive(false)

				arg_277_1.fswtw_.percent = 0

				local var_280_1 = arg_277_1:GetWordFromCfg(411121066)
				local var_280_2 = arg_277_1:FormatText(var_280_1.content)

				arg_277_1.fswt_.text = var_280_2

				LuaForUtil.ClearLinePrefixSymbol(arg_277_1.fswt_)

				arg_277_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_277_1.fswtw_:SetDirty()

				arg_277_1.typewritterCharCountI18N = 0

				SetActive(arg_277_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_277_1:ShowNextGo(false)
			end

			local var_280_3 = 0.0166666666666666

			if var_280_3 < arg_277_1.time_ and arg_277_1.time_ <= var_280_3 + arg_280_0 then
				arg_277_1.var_.oldValueTypewriter = arg_277_1.fswtw_.percent

				arg_277_1:ShowNextGo(false)
			end

			local var_280_4 = 24
			local var_280_5 = 1.6
			local var_280_6 = arg_277_1:GetWordFromCfg(411121066)
			local var_280_7 = arg_277_1:FormatText(var_280_6.content)
			local var_280_8, var_280_9 = arg_277_1:GetPercentByPara(var_280_7, 1)

			if var_280_3 < arg_277_1.time_ and arg_277_1.time_ <= var_280_3 + arg_280_0 then
				arg_277_1.talkMaxDuration = 0

				local var_280_10 = var_280_4 <= 0 and var_280_5 or var_280_5 * ((var_280_9 - arg_277_1.typewritterCharCountI18N) / var_280_4)

				if var_280_10 > 0 and var_280_5 < var_280_10 then
					arg_277_1.talkMaxDuration = var_280_10

					if var_280_10 + var_280_3 > arg_277_1.duration_ then
						arg_277_1.duration_ = var_280_10 + var_280_3
					end
				end
			end

			local var_280_11 = 1.6
			local var_280_12 = math.max(var_280_11, arg_277_1.talkMaxDuration)

			if var_280_3 <= arg_277_1.time_ and arg_277_1.time_ < var_280_3 + var_280_12 then
				local var_280_13 = (arg_277_1.time_ - var_280_3) / var_280_12

				arg_277_1.fswtw_.percent = Mathf.Lerp(arg_277_1.var_.oldValueTypewriter, var_280_8, var_280_13)
				arg_277_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_277_1.fswtw_:SetDirty()
			end

			if arg_277_1.time_ >= var_280_3 + var_280_12 and arg_277_1.time_ < var_280_3 + var_280_12 + arg_280_0 then
				arg_277_1.fswtw_.percent = var_280_8

				arg_277_1.fswtw_:SetDirty()
				arg_277_1:ShowNextGo(true)

				arg_277_1.typewritterCharCountI18N = var_280_9
			end

			local var_280_14 = 0

			if var_280_14 < arg_277_1.time_ and arg_277_1.time_ <= var_280_14 + arg_280_0 then
				local var_280_15 = arg_277_1.fswbg_.transform:Find("textbox/adapt/content") or arg_277_1.fswbg_.transform:Find("textbox/content")
				local var_280_16 = var_280_15:GetComponent("Text")
				local var_280_17 = var_280_15:GetComponent("RectTransform")

				var_280_16.alignment = UnityEngine.TextAnchor.LowerCenter
				var_280_17.offsetMin = Vector2.New(0, 0)
				var_280_17.offsetMax = Vector2.New(0, 0)
			end

			local var_280_18 = 0.0166666666666667
			local var_280_19 = 1
			local var_280_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121066", "story_v_out_411121.awb") / 1000

			if var_280_20 > 0 and var_280_19 < var_280_20 and var_280_20 + var_280_18 > arg_277_1.duration_ then
				local var_280_21 = var_280_20

				arg_277_1.duration_ = var_280_20 + var_280_18
			end

			if var_280_18 < arg_277_1.time_ and arg_277_1.time_ <= var_280_18 + arg_280_0 then
				local var_280_22 = "play"
				local var_280_23 = "voice"

				arg_277_1:AudioAction(var_280_22, var_280_23, "story_v_out_411121", "411121066", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121067 = function(arg_281_0, arg_281_1)
		arg_281_1.time_ = 0
		arg_281_1.frameCnt_ = 0
		arg_281_1.state_ = "playing"
		arg_281_1.curTalkId_ = 411121067
		arg_281_1.duration_ = 1.816666666666

		SetActive(arg_281_1.tipsGo_, false)

		function arg_281_1.onSingleLineFinish_()
			arg_281_1.onSingleLineUpdate_ = nil
			arg_281_1.onSingleLineFinish_ = nil
			arg_281_1.state_ = "waiting"
		end

		function arg_281_1.playNext_(arg_283_0)
			if arg_283_0 == 1 then
				arg_281_0:Play411121068(arg_281_1)
			end
		end

		function arg_281_1.onSingleLineUpdate_(arg_284_0)
			local var_284_0 = 0

			if var_284_0 < arg_281_1.time_ and arg_281_1.time_ <= var_284_0 + arg_284_0 then
				arg_281_1.fswbg_:SetActive(true)
				arg_281_1.dialog_:SetActive(false)

				arg_281_1.fswtw_.percent = 0

				local var_284_1 = arg_281_1:GetWordFromCfg(411121067)
				local var_284_2 = arg_281_1:FormatText(var_284_1.content)

				arg_281_1.fswt_.text = var_284_2

				LuaForUtil.ClearLinePrefixSymbol(arg_281_1.fswt_)

				arg_281_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_281_1.fswtw_:SetDirty()

				arg_281_1.typewritterCharCountI18N = 0

				SetActive(arg_281_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_281_1:ShowNextGo(false)
			end

			local var_284_3 = 0.0166666666666666

			if var_284_3 < arg_281_1.time_ and arg_281_1.time_ <= var_284_3 + arg_284_0 then
				arg_281_1.var_.oldValueTypewriter = arg_281_1.fswtw_.percent

				arg_281_1:ShowNextGo(false)
			end

			local var_284_4 = 27
			local var_284_5 = 1.8
			local var_284_6 = arg_281_1:GetWordFromCfg(411121067)
			local var_284_7 = arg_281_1:FormatText(var_284_6.content)
			local var_284_8, var_284_9 = arg_281_1:GetPercentByPara(var_284_7, 1)

			if var_284_3 < arg_281_1.time_ and arg_281_1.time_ <= var_284_3 + arg_284_0 then
				arg_281_1.talkMaxDuration = 0

				local var_284_10 = var_284_4 <= 0 and var_284_5 or var_284_5 * ((var_284_9 - arg_281_1.typewritterCharCountI18N) / var_284_4)

				if var_284_10 > 0 and var_284_5 < var_284_10 then
					arg_281_1.talkMaxDuration = var_284_10

					if var_284_10 + var_284_3 > arg_281_1.duration_ then
						arg_281_1.duration_ = var_284_10 + var_284_3
					end
				end
			end

			local var_284_11 = 1.8
			local var_284_12 = math.max(var_284_11, arg_281_1.talkMaxDuration)

			if var_284_3 <= arg_281_1.time_ and arg_281_1.time_ < var_284_3 + var_284_12 then
				local var_284_13 = (arg_281_1.time_ - var_284_3) / var_284_12

				arg_281_1.fswtw_.percent = Mathf.Lerp(arg_281_1.var_.oldValueTypewriter, var_284_8, var_284_13)
				arg_281_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_281_1.fswtw_:SetDirty()
			end

			if arg_281_1.time_ >= var_284_3 + var_284_12 and arg_281_1.time_ < var_284_3 + var_284_12 + arg_284_0 then
				arg_281_1.fswtw_.percent = var_284_8

				arg_281_1.fswtw_:SetDirty()
				arg_281_1:ShowNextGo(true)

				arg_281_1.typewritterCharCountI18N = var_284_9
			end

			local var_284_14 = 0.0166666666666667
			local var_284_15 = 1
			local var_284_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121067", "story_v_out_411121.awb") / 1000

			if var_284_16 > 0 and var_284_15 < var_284_16 and var_284_16 + var_284_14 > arg_281_1.duration_ then
				local var_284_17 = var_284_16

				arg_281_1.duration_ = var_284_16 + var_284_14
			end

			if var_284_14 < arg_281_1.time_ and arg_281_1.time_ <= var_284_14 + arg_284_0 then
				local var_284_18 = "play"
				local var_284_19 = "voice"

				arg_281_1:AudioAction(var_284_18, var_284_19, "story_v_out_411121", "411121067", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121068 = function(arg_285_0, arg_285_1)
		arg_285_1.time_ = 0
		arg_285_1.frameCnt_ = 0
		arg_285_1.state_ = "playing"
		arg_285_1.curTalkId_ = 411121068
		arg_285_1.duration_ = 2.283333333332

		SetActive(arg_285_1.tipsGo_, false)

		function arg_285_1.onSingleLineFinish_()
			arg_285_1.onSingleLineUpdate_ = nil
			arg_285_1.onSingleLineFinish_ = nil
			arg_285_1.state_ = "waiting"
		end

		function arg_285_1.playNext_(arg_287_0)
			if arg_287_0 == 1 then
				arg_285_0:Play411121069(arg_285_1)
			end
		end

		function arg_285_1.onSingleLineUpdate_(arg_288_0)
			local var_288_0 = 0

			if var_288_0 < arg_285_1.time_ and arg_285_1.time_ <= var_288_0 + arg_288_0 then
				arg_285_1.fswbg_:SetActive(true)
				arg_285_1.dialog_:SetActive(false)

				arg_285_1.fswtw_.percent = 0

				local var_288_1 = arg_285_1:GetWordFromCfg(411121068)
				local var_288_2 = arg_285_1:FormatText(var_288_1.content)

				arg_285_1.fswt_.text = var_288_2

				LuaForUtil.ClearLinePrefixSymbol(arg_285_1.fswt_)

				arg_285_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_285_1.fswtw_:SetDirty()

				arg_285_1.typewritterCharCountI18N = 0

				SetActive(arg_285_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_285_1:ShowNextGo(false)
			end

			local var_288_3 = 0.0166666666666666

			if var_288_3 < arg_285_1.time_ and arg_285_1.time_ <= var_288_3 + arg_288_0 then
				arg_285_1.var_.oldValueTypewriter = arg_285_1.fswtw_.percent

				arg_285_1:ShowNextGo(false)
			end

			local var_288_4 = 34
			local var_288_5 = 2.26666666666667
			local var_288_6 = arg_285_1:GetWordFromCfg(411121068)
			local var_288_7 = arg_285_1:FormatText(var_288_6.content)
			local var_288_8, var_288_9 = arg_285_1:GetPercentByPara(var_288_7, 1)

			if var_288_3 < arg_285_1.time_ and arg_285_1.time_ <= var_288_3 + arg_288_0 then
				arg_285_1.talkMaxDuration = 0

				local var_288_10 = var_288_4 <= 0 and var_288_5 or var_288_5 * ((var_288_9 - arg_285_1.typewritterCharCountI18N) / var_288_4)

				if var_288_10 > 0 and var_288_5 < var_288_10 then
					arg_285_1.talkMaxDuration = var_288_10

					if var_288_10 + var_288_3 > arg_285_1.duration_ then
						arg_285_1.duration_ = var_288_10 + var_288_3
					end
				end
			end

			local var_288_11 = 2.26666666666667
			local var_288_12 = math.max(var_288_11, arg_285_1.talkMaxDuration)

			if var_288_3 <= arg_285_1.time_ and arg_285_1.time_ < var_288_3 + var_288_12 then
				local var_288_13 = (arg_285_1.time_ - var_288_3) / var_288_12

				arg_285_1.fswtw_.percent = Mathf.Lerp(arg_285_1.var_.oldValueTypewriter, var_288_8, var_288_13)
				arg_285_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_285_1.fswtw_:SetDirty()
			end

			if arg_285_1.time_ >= var_288_3 + var_288_12 and arg_285_1.time_ < var_288_3 + var_288_12 + arg_288_0 then
				arg_285_1.fswtw_.percent = var_288_8

				arg_285_1.fswtw_:SetDirty()
				arg_285_1:ShowNextGo(true)

				arg_285_1.typewritterCharCountI18N = var_288_9
			end

			local var_288_14 = 0.0166666666666667
			local var_288_15 = 1
			local var_288_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121068", "story_v_out_411121.awb") / 1000

			if var_288_16 > 0 and var_288_15 < var_288_16 and var_288_16 + var_288_14 > arg_285_1.duration_ then
				local var_288_17 = var_288_16

				arg_285_1.duration_ = var_288_16 + var_288_14
			end

			if var_288_14 < arg_285_1.time_ and arg_285_1.time_ <= var_288_14 + arg_288_0 then
				local var_288_18 = "play"
				local var_288_19 = "voice"

				arg_285_1:AudioAction(var_288_18, var_288_19, "story_v_out_411121", "411121068", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121069 = function(arg_289_0, arg_289_1)
		arg_289_1.time_ = 0
		arg_289_1.frameCnt_ = 0
		arg_289_1.state_ = "playing"
		arg_289_1.curTalkId_ = 411121069
		arg_289_1.duration_ = 2.083333333332

		SetActive(arg_289_1.tipsGo_, false)

		function arg_289_1.onSingleLineFinish_()
			arg_289_1.onSingleLineUpdate_ = nil
			arg_289_1.onSingleLineFinish_ = nil
			arg_289_1.state_ = "waiting"
		end

		function arg_289_1.playNext_(arg_291_0)
			if arg_291_0 == 1 then
				arg_289_0:Play411121070(arg_289_1)
			end
		end

		function arg_289_1.onSingleLineUpdate_(arg_292_0)
			local var_292_0 = 0

			if var_292_0 < arg_289_1.time_ and arg_289_1.time_ <= var_292_0 + arg_292_0 then
				arg_289_1.fswbg_:SetActive(true)
				arg_289_1.dialog_:SetActive(false)

				arg_289_1.fswtw_.percent = 0

				local var_292_1 = arg_289_1:GetWordFromCfg(411121069)
				local var_292_2 = arg_289_1:FormatText(var_292_1.content)

				arg_289_1.fswt_.text = var_292_2

				LuaForUtil.ClearLinePrefixSymbol(arg_289_1.fswt_)

				arg_289_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_289_1.fswtw_:SetDirty()

				arg_289_1.typewritterCharCountI18N = 0

				SetActive(arg_289_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_289_1:ShowNextGo(false)
			end

			local var_292_3 = 0.0166666666666666

			if var_292_3 < arg_289_1.time_ and arg_289_1.time_ <= var_292_3 + arg_292_0 then
				arg_289_1.var_.oldValueTypewriter = arg_289_1.fswtw_.percent

				arg_289_1:ShowNextGo(false)
			end

			local var_292_4 = 31
			local var_292_5 = 2.06666666666667
			local var_292_6 = arg_289_1:GetWordFromCfg(411121069)
			local var_292_7 = arg_289_1:FormatText(var_292_6.content)
			local var_292_8, var_292_9 = arg_289_1:GetPercentByPara(var_292_7, 1)

			if var_292_3 < arg_289_1.time_ and arg_289_1.time_ <= var_292_3 + arg_292_0 then
				arg_289_1.talkMaxDuration = 0

				local var_292_10 = var_292_4 <= 0 and var_292_5 or var_292_5 * ((var_292_9 - arg_289_1.typewritterCharCountI18N) / var_292_4)

				if var_292_10 > 0 and var_292_5 < var_292_10 then
					arg_289_1.talkMaxDuration = var_292_10

					if var_292_10 + var_292_3 > arg_289_1.duration_ then
						arg_289_1.duration_ = var_292_10 + var_292_3
					end
				end
			end

			local var_292_11 = 2.06666666666667
			local var_292_12 = math.max(var_292_11, arg_289_1.talkMaxDuration)

			if var_292_3 <= arg_289_1.time_ and arg_289_1.time_ < var_292_3 + var_292_12 then
				local var_292_13 = (arg_289_1.time_ - var_292_3) / var_292_12

				arg_289_1.fswtw_.percent = Mathf.Lerp(arg_289_1.var_.oldValueTypewriter, var_292_8, var_292_13)
				arg_289_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_289_1.fswtw_:SetDirty()
			end

			if arg_289_1.time_ >= var_292_3 + var_292_12 and arg_289_1.time_ < var_292_3 + var_292_12 + arg_292_0 then
				arg_289_1.fswtw_.percent = var_292_8

				arg_289_1.fswtw_:SetDirty()
				arg_289_1:ShowNextGo(true)

				arg_289_1.typewritterCharCountI18N = var_292_9
			end

			local var_292_14 = 0.0166666666666667
			local var_292_15 = 1
			local var_292_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121069", "story_v_out_411121.awb") / 1000

			if var_292_16 > 0 and var_292_15 < var_292_16 and var_292_16 + var_292_14 > arg_289_1.duration_ then
				local var_292_17 = var_292_16

				arg_289_1.duration_ = var_292_16 + var_292_14
			end

			if var_292_14 < arg_289_1.time_ and arg_289_1.time_ <= var_292_14 + arg_292_0 then
				local var_292_18 = "play"
				local var_292_19 = "voice"

				arg_289_1:AudioAction(var_292_18, var_292_19, "story_v_out_411121", "411121069", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121070 = function(arg_293_0, arg_293_1)
		arg_293_1.time_ = 0
		arg_293_1.frameCnt_ = 0
		arg_293_1.state_ = "playing"
		arg_293_1.curTalkId_ = 411121070
		arg_293_1.duration_ = 1.616666666666

		SetActive(arg_293_1.tipsGo_, false)

		function arg_293_1.onSingleLineFinish_()
			arg_293_1.onSingleLineUpdate_ = nil
			arg_293_1.onSingleLineFinish_ = nil
			arg_293_1.state_ = "waiting"
		end

		function arg_293_1.playNext_(arg_295_0)
			if arg_295_0 == 1 then
				arg_293_0:Play411121071(arg_293_1)
			end
		end

		function arg_293_1.onSingleLineUpdate_(arg_296_0)
			local var_296_0 = 0

			if var_296_0 < arg_293_1.time_ and arg_293_1.time_ <= var_296_0 + arg_296_0 then
				arg_293_1.fswbg_:SetActive(true)
				arg_293_1.dialog_:SetActive(false)

				arg_293_1.fswtw_.percent = 0

				local var_296_1 = arg_293_1:GetWordFromCfg(411121070)
				local var_296_2 = arg_293_1:FormatText(var_296_1.content)

				arg_293_1.fswt_.text = var_296_2

				LuaForUtil.ClearLinePrefixSymbol(arg_293_1.fswt_)

				arg_293_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_293_1.fswtw_:SetDirty()

				arg_293_1.typewritterCharCountI18N = 0

				SetActive(arg_293_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_293_1:ShowNextGo(false)
			end

			local var_296_3 = 0.0166666666666666

			if var_296_3 < arg_293_1.time_ and arg_293_1.time_ <= var_296_3 + arg_296_0 then
				arg_293_1.var_.oldValueTypewriter = arg_293_1.fswtw_.percent

				arg_293_1:ShowNextGo(false)
			end

			local var_296_4 = 24
			local var_296_5 = 1.6
			local var_296_6 = arg_293_1:GetWordFromCfg(411121070)
			local var_296_7 = arg_293_1:FormatText(var_296_6.content)
			local var_296_8, var_296_9 = arg_293_1:GetPercentByPara(var_296_7, 1)

			if var_296_3 < arg_293_1.time_ and arg_293_1.time_ <= var_296_3 + arg_296_0 then
				arg_293_1.talkMaxDuration = 0

				local var_296_10 = var_296_4 <= 0 and var_296_5 or var_296_5 * ((var_296_9 - arg_293_1.typewritterCharCountI18N) / var_296_4)

				if var_296_10 > 0 and var_296_5 < var_296_10 then
					arg_293_1.talkMaxDuration = var_296_10

					if var_296_10 + var_296_3 > arg_293_1.duration_ then
						arg_293_1.duration_ = var_296_10 + var_296_3
					end
				end
			end

			local var_296_11 = 1.6
			local var_296_12 = math.max(var_296_11, arg_293_1.talkMaxDuration)

			if var_296_3 <= arg_293_1.time_ and arg_293_1.time_ < var_296_3 + var_296_12 then
				local var_296_13 = (arg_293_1.time_ - var_296_3) / var_296_12

				arg_293_1.fswtw_.percent = Mathf.Lerp(arg_293_1.var_.oldValueTypewriter, var_296_8, var_296_13)
				arg_293_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_293_1.fswtw_:SetDirty()
			end

			if arg_293_1.time_ >= var_296_3 + var_296_12 and arg_293_1.time_ < var_296_3 + var_296_12 + arg_296_0 then
				arg_293_1.fswtw_.percent = var_296_8

				arg_293_1.fswtw_:SetDirty()
				arg_293_1:ShowNextGo(true)

				arg_293_1.typewritterCharCountI18N = var_296_9
			end
		end
	end,
	Play411121071 = function(arg_297_0, arg_297_1)
		arg_297_1.time_ = 0
		arg_297_1.frameCnt_ = 0
		arg_297_1.state_ = "playing"
		arg_297_1.curTalkId_ = 411121071
		arg_297_1.duration_ = 6.53400000184774

		local var_297_0 = {
			zh = 6.33400000184774,
			ja = 6.53400000184774
		}
		local var_297_1 = manager.audio:GetLocalizationFlag()

		if var_297_0[var_297_1] ~= nil then
			arg_297_1.duration_ = var_297_0[var_297_1]
		end

		SetActive(arg_297_1.tipsGo_, false)

		function arg_297_1.onSingleLineFinish_()
			arg_297_1.onSingleLineUpdate_ = nil
			arg_297_1.onSingleLineFinish_ = nil
			arg_297_1.state_ = "waiting"
		end

		function arg_297_1.playNext_(arg_299_0)
			if arg_299_0 == 1 then
				arg_297_0:Play411121072(arg_297_1)
			end
		end

		function arg_297_1.onSingleLineUpdate_(arg_300_0)
			local var_300_0 = 3

			if var_300_0 < arg_297_1.time_ and arg_297_1.time_ <= var_300_0 + arg_300_0 then
				local var_300_1 = manager.ui.mainCamera.transform.localPosition
				local var_300_2 = Vector3.New(0, 0, 10) + Vector3.New(var_300_1.x, var_300_1.y, 0)
				local var_300_3 = arg_297_1.bgs_.ST71a

				var_300_3.transform.localPosition = var_300_2
				var_300_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_300_4 = var_300_3:GetComponent("SpriteRenderer")

				if var_300_4 and var_300_4.sprite then
					local var_300_5 = (var_300_3.transform.localPosition - var_300_1).z
					local var_300_6 = manager.ui.mainCameraCom_
					local var_300_7 = 2 * var_300_5 * Mathf.Tan(var_300_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_300_8 = var_300_7 * var_300_6.aspect
					local var_300_9 = var_300_4.sprite.bounds.size.x
					local var_300_10 = var_300_4.sprite.bounds.size.y
					local var_300_11 = var_300_8 / var_300_9
					local var_300_12 = var_300_7 / var_300_10
					local var_300_13 = var_300_12 < var_300_11 and var_300_11 or var_300_12

					var_300_3.transform.localScale = Vector3.New(var_300_13, var_300_13, 0)
				end

				for iter_300_0, iter_300_1 in pairs(arg_297_1.bgs_) do
					if iter_300_0 ~= "ST71a" then
						iter_300_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_300_14 = 0

			if var_300_14 < arg_297_1.time_ and arg_297_1.time_ <= var_300_14 + arg_300_0 then
				local var_300_15 = manager.ui.mainCamera.transform.localPosition
				local var_300_16 = Vector3.New(0, 0, 10) + Vector3.New(var_300_15.x, var_300_15.y, 0)
				local var_300_17 = arg_297_1.bgs_.STblack

				var_300_17.transform.localPosition = var_300_16
				var_300_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_300_18 = var_300_17:GetComponent("SpriteRenderer")

				if var_300_18 and var_300_18.sprite then
					local var_300_19 = (var_300_17.transform.localPosition - var_300_15).z
					local var_300_20 = manager.ui.mainCameraCom_
					local var_300_21 = 2 * var_300_19 * Mathf.Tan(var_300_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_300_22 = var_300_21 * var_300_20.aspect
					local var_300_23 = var_300_18.sprite.bounds.size.x
					local var_300_24 = var_300_18.sprite.bounds.size.y
					local var_300_25 = var_300_22 / var_300_23
					local var_300_26 = var_300_21 / var_300_24
					local var_300_27 = var_300_26 < var_300_25 and var_300_25 or var_300_26

					var_300_17.transform.localScale = Vector3.New(var_300_27, var_300_27, 0)
				end

				for iter_300_2, iter_300_3 in pairs(arg_297_1.bgs_) do
					if iter_300_2 ~= "STblack" then
						iter_300_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_300_28 = 3

			if var_300_28 < arg_297_1.time_ and arg_297_1.time_ <= var_300_28 + arg_300_0 then
				arg_297_1.mask_.enabled = true
				arg_297_1.mask_.raycastTarget = true

				arg_297_1:SetGaussion(false)
			end

			local var_300_29 = 0.166666666666667

			if var_300_28 <= arg_297_1.time_ and arg_297_1.time_ < var_300_28 + var_300_29 then
				local var_300_30 = (arg_297_1.time_ - var_300_28) / var_300_29
				local var_300_31 = Color.New(0.8490566, 0, 0)

				var_300_31.a = Mathf.Lerp(1, 0, var_300_30)
				arg_297_1.mask_.color = var_300_31
			end

			if arg_297_1.time_ >= var_300_28 + var_300_29 and arg_297_1.time_ < var_300_28 + var_300_29 + arg_300_0 then
				local var_300_32 = Color.New(0.8490566, 0, 0)
				local var_300_33 = 0

				arg_297_1.mask_.enabled = false
				var_300_32.a = var_300_33
				arg_297_1.mask_.color = var_300_32
			end

			local var_300_34 = 3.16666666666667

			if var_300_34 < arg_297_1.time_ and arg_297_1.time_ <= var_300_34 + arg_300_0 then
				arg_297_1.mask_.enabled = true
				arg_297_1.mask_.raycastTarget = true

				arg_297_1:SetGaussion(false)
			end

			local var_300_35 = 0.166666666666667

			if var_300_34 <= arg_297_1.time_ and arg_297_1.time_ < var_300_34 + var_300_35 then
				local var_300_36 = (arg_297_1.time_ - var_300_34) / var_300_35
				local var_300_37 = Color.New(0.8490566, 0, 0)

				var_300_37.a = Mathf.Lerp(1, 0, var_300_36)
				arg_297_1.mask_.color = var_300_37
			end

			if arg_297_1.time_ >= var_300_34 + var_300_35 and arg_297_1.time_ < var_300_34 + var_300_35 + arg_300_0 then
				local var_300_38 = Color.New(0.8490566, 0, 0)
				local var_300_39 = 0

				arg_297_1.mask_.enabled = false
				var_300_38.a = var_300_39
				arg_297_1.mask_.color = var_300_38
			end

			local var_300_40 = 3.33333333333333

			if var_300_40 < arg_297_1.time_ and arg_297_1.time_ <= var_300_40 + arg_300_0 then
				arg_297_1.mask_.enabled = true
				arg_297_1.mask_.raycastTarget = true

				arg_297_1:SetGaussion(false)
			end

			local var_300_41 = 0.166666666666667

			if var_300_40 <= arg_297_1.time_ and arg_297_1.time_ < var_300_40 + var_300_41 then
				local var_300_42 = (arg_297_1.time_ - var_300_40) / var_300_41
				local var_300_43 = Color.New(0.8490566, 0, 0)

				var_300_43.a = Mathf.Lerp(1, 0, var_300_42)
				arg_297_1.mask_.color = var_300_43
			end

			if arg_297_1.time_ >= var_300_40 + var_300_41 and arg_297_1.time_ < var_300_40 + var_300_41 + arg_300_0 then
				local var_300_44 = Color.New(0.8490566, 0, 0)
				local var_300_45 = 0

				arg_297_1.mask_.enabled = false
				var_300_44.a = var_300_45
				arg_297_1.mask_.color = var_300_44
			end

			local var_300_46 = manager.ui.mainCamera.transform
			local var_300_47 = 3.26666666666667

			if var_300_47 < arg_297_1.time_ and arg_297_1.time_ <= var_300_47 + arg_300_0 then
				arg_297_1.var_.shakeOldPos = var_300_46.localPosition
			end

			local var_300_48 = 0.933333333333334

			if var_300_47 <= arg_297_1.time_ and arg_297_1.time_ < var_300_47 + var_300_48 then
				local var_300_49 = (arg_297_1.time_ - var_300_47) / 0.066
				local var_300_50, var_300_51 = math.modf(var_300_49)

				var_300_46.localPosition = Vector3.New(var_300_51 * 0.13, var_300_51 * 0.13, var_300_51 * 0.13) + arg_297_1.var_.shakeOldPos
			end

			if arg_297_1.time_ >= var_300_47 + var_300_48 and arg_297_1.time_ < var_300_47 + var_300_48 + arg_300_0 then
				var_300_46.localPosition = arg_297_1.var_.shakeOldPos
			end

			local var_300_52 = 0.383333333333333

			if var_300_52 < arg_297_1.time_ and arg_297_1.time_ <= var_300_52 + arg_300_0 then
				arg_297_1.mask_.enabled = true
				arg_297_1.mask_.raycastTarget = true

				arg_297_1:SetGaussion(false)
			end

			local var_300_53 = 2.61666666666667

			if var_300_52 <= arg_297_1.time_ and arg_297_1.time_ < var_300_52 + var_300_53 then
				local var_300_54 = (arg_297_1.time_ - var_300_52) / var_300_53
				local var_300_55 = Color.New(0, 0, 0)

				var_300_55.a = Mathf.Lerp(0, 1, var_300_54)
				arg_297_1.mask_.color = var_300_55
			end

			if arg_297_1.time_ >= var_300_52 + var_300_53 and arg_297_1.time_ < var_300_52 + var_300_53 + arg_300_0 then
				local var_300_56 = Color.New(0, 0, 0)

				var_300_56.a = 1
				arg_297_1.mask_.color = var_300_56
			end

			local var_300_57 = 0

			if var_300_57 < arg_297_1.time_ and arg_297_1.time_ <= var_300_57 + arg_300_0 then
				arg_297_1.cswbg_:SetActive(false)
			end

			local var_300_58 = 3.01666666666667

			if var_300_58 < arg_297_1.time_ and arg_297_1.time_ <= var_300_58 + arg_300_0 then
				arg_297_1.fswbg_:SetActive(false)
				arg_297_1.dialog_:SetActive(false)
				arg_297_1:ShowNextGo(false)
			end

			local var_300_59 = 3

			if var_300_59 < arg_297_1.time_ and arg_297_1.time_ <= var_300_59 + arg_300_0 then
				arg_297_1.fswbg_:SetActive(false)
				arg_297_1.dialog_:SetActive(true)
				arg_297_1:ShowNextGo(false)
			end

			local var_300_60 = 3
			local var_300_61 = 0.566666666666667

			if var_300_60 < arg_297_1.time_ and arg_297_1.time_ <= var_300_60 + arg_300_0 then
				local var_300_62 = "play"
				local var_300_63 = "effect"

				arg_297_1:AudioAction(var_300_62, var_300_63, "se_story_128", "se_story_128_stab", "")
			end

			if arg_297_1.frameCnt_ <= 1 then
				arg_297_1.dialog_:SetActive(false)
			end

			local var_300_64 = 4.03400000184774
			local var_300_65 = 1.29933333148559

			if var_300_64 < arg_297_1.time_ and arg_297_1.time_ <= var_300_64 + arg_300_0 then
				arg_297_1.talkMaxDuration = 0

				arg_297_1.dialog_:SetActive(true)

				local var_300_66 = LeanTween.value(arg_297_1.dialog_, 0, 1, 0.3)

				var_300_66:setOnUpdate(LuaHelper.FloatAction(function(arg_301_0)
					arg_297_1.dialogCg_.alpha = arg_301_0
				end))
				var_300_66:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_297_1.dialog_)
					var_300_66:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_297_1.duration_ = arg_297_1.duration_ + 0.3

				SetActive(arg_297_1.leftNameGo_, true)

				local var_300_67 = arg_297_1:FormatText(StoryNameCfg[670].name)

				arg_297_1.leftNameTxt_.text = var_300_67

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_297_1.leftNameTxt_.transform)

				arg_297_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_297_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_297_1:RecordName(arg_297_1.leftNameTxt_.text)
				SetActive(arg_297_1.iconTrs_.gameObject, true)
				arg_297_1.iconController_:SetSelectedState("hero")

				arg_297_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_297_1.callingController_:SetSelectedState("normal")

				local var_300_68 = arg_297_1:GetWordFromCfg(411121071)
				local var_300_69 = arg_297_1:FormatText(var_300_68.content)

				arg_297_1.text_.text = var_300_69

				LuaForUtil.ClearLinePrefixSymbol(arg_297_1.text_)

				local var_300_70 = 6
				local var_300_71 = utf8.len(var_300_69)
				local var_300_72 = var_300_70 <= 0 and var_300_65 or var_300_65 * (var_300_71 / var_300_70)

				if var_300_72 > 0 and var_300_65 < var_300_72 then
					arg_297_1.talkMaxDuration = var_300_72
					var_300_64 = var_300_64 + 0.3

					if var_300_72 + var_300_64 > arg_297_1.duration_ then
						arg_297_1.duration_ = var_300_72 + var_300_64
					end
				end

				arg_297_1.text_.text = var_300_69
				arg_297_1.typewritter.percent = 0

				arg_297_1.typewritter:SetDirty()
				arg_297_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121071", "story_v_out_411121.awb") ~= 0 then
					local var_300_73 = manager.audio:GetVoiceLength("story_v_out_411121", "411121071", "story_v_out_411121.awb") / 1000

					if var_300_73 + var_300_64 > arg_297_1.duration_ then
						arg_297_1.duration_ = var_300_73 + var_300_64
					end

					if var_300_68.prefab_name ~= "" and arg_297_1.actors_[var_300_68.prefab_name] ~= nil then
						local var_300_74 = LuaForUtil.PlayVoiceWithCriLipsync(arg_297_1.actors_[var_300_68.prefab_name].transform, "story_v_out_411121", "411121071", "story_v_out_411121.awb")

						arg_297_1:RecordAudio("411121071", var_300_74)
						arg_297_1:RecordAudio("411121071", var_300_74)
					else
						arg_297_1:AudioAction("play", "voice", "story_v_out_411121", "411121071", "story_v_out_411121.awb")
					end

					arg_297_1:RecordHistoryTalkVoice("story_v_out_411121", "411121071", "story_v_out_411121.awb")
				end

				arg_297_1:RecordContent(arg_297_1.text_.text)
			end

			local var_300_75 = var_300_64 + 0.3
			local var_300_76 = math.max(var_300_65, arg_297_1.talkMaxDuration)

			if var_300_75 <= arg_297_1.time_ and arg_297_1.time_ < var_300_75 + var_300_76 then
				arg_297_1.typewritter.percent = (arg_297_1.time_ - var_300_75) / var_300_76

				arg_297_1.typewritter:SetDirty()
			end

			if arg_297_1.time_ >= var_300_75 + var_300_76 and arg_297_1.time_ < var_300_75 + var_300_76 + arg_300_0 then
				arg_297_1.typewritter.percent = 1

				arg_297_1.typewritter:SetDirty()
				arg_297_1:ShowNextGo(true)
			end
		end
	end,
	Play411121072 = function(arg_303_0, arg_303_1)
		arg_303_1.time_ = 0
		arg_303_1.frameCnt_ = 0
		arg_303_1.state_ = "playing"
		arg_303_1.curTalkId_ = 411121072
		arg_303_1.duration_ = 11.5996666666667

		local var_303_0 = {
			zh = 11.5996666666667,
			ja = 9.43266666666667
		}
		local var_303_1 = manager.audio:GetLocalizationFlag()

		if var_303_0[var_303_1] ~= nil then
			arg_303_1.duration_ = var_303_0[var_303_1]
		end

		SetActive(arg_303_1.tipsGo_, false)

		function arg_303_1.onSingleLineFinish_()
			arg_303_1.onSingleLineUpdate_ = nil
			arg_303_1.onSingleLineFinish_ = nil
			arg_303_1.state_ = "waiting"
		end

		function arg_303_1.playNext_(arg_305_0)
			if arg_305_0 == 1 then
				arg_303_0:Play411121073(arg_303_1)
			end
		end

		function arg_303_1.onSingleLineUpdate_(arg_306_0)
			local var_306_0 = 0

			if var_306_0 < arg_303_1.time_ and arg_303_1.time_ <= var_306_0 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_1 = 0.366666666666667

			if var_306_0 <= arg_303_1.time_ and arg_303_1.time_ < var_306_0 + var_306_1 then
				local var_306_2 = (arg_303_1.time_ - var_306_0) / var_306_1
				local var_306_3 = Color.New(0.8490566, 0, 0)

				var_306_3.a = Mathf.Lerp(1, 0, var_306_2)
				arg_303_1.mask_.color = var_306_3
			end

			if arg_303_1.time_ >= var_306_0 + var_306_1 and arg_303_1.time_ < var_306_0 + var_306_1 + arg_306_0 then
				local var_306_4 = Color.New(0.8490566, 0, 0)
				local var_306_5 = 0

				arg_303_1.mask_.enabled = false
				var_306_4.a = var_306_5
				arg_303_1.mask_.color = var_306_4
			end

			local var_306_6 = 0.7

			if var_306_6 < arg_303_1.time_ and arg_303_1.time_ <= var_306_6 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_7 = 0.3

			if var_306_6 <= arg_303_1.time_ and arg_303_1.time_ < var_306_6 + var_306_7 then
				local var_306_8 = (arg_303_1.time_ - var_306_6) / var_306_7
				local var_306_9 = Color.New(0.3113208, 0, 0)

				var_306_9.a = Mathf.Lerp(1, 0, var_306_8)
				arg_303_1.mask_.color = var_306_9
			end

			if arg_303_1.time_ >= var_306_6 + var_306_7 and arg_303_1.time_ < var_306_6 + var_306_7 + arg_306_0 then
				local var_306_10 = Color.New(0.3113208, 0, 0)
				local var_306_11 = 0

				arg_303_1.mask_.enabled = false
				var_306_10.a = var_306_11
				arg_303_1.mask_.color = var_306_10
			end

			local var_306_12 = 0.366666666666667

			if var_306_12 < arg_303_1.time_ and arg_303_1.time_ <= var_306_12 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_13 = 0.333333333333333

			if var_306_12 <= arg_303_1.time_ and arg_303_1.time_ < var_306_12 + var_306_13 then
				local var_306_14 = (arg_303_1.time_ - var_306_12) / var_306_13
				local var_306_15 = Color.New(0.5660378, 0.002669996, 0.002669996)

				var_306_15.a = Mathf.Lerp(1, 0, var_306_14)
				arg_303_1.mask_.color = var_306_15
			end

			if arg_303_1.time_ >= var_306_12 + var_306_13 and arg_303_1.time_ < var_306_12 + var_306_13 + arg_306_0 then
				local var_306_16 = Color.New(0.5660378, 0.002669996, 0.002669996)
				local var_306_17 = 0

				arg_303_1.mask_.enabled = false
				var_306_16.a = var_306_17
				arg_303_1.mask_.color = var_306_16
			end

			local var_306_18 = 1

			if var_306_18 < arg_303_1.time_ and arg_303_1.time_ <= var_306_18 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_19 = 1.76666666666667

			if var_306_18 <= arg_303_1.time_ and arg_303_1.time_ < var_306_18 + var_306_19 then
				local var_306_20 = (arg_303_1.time_ - var_306_18) / var_306_19
				local var_306_21 = Color.New(0, 0, 0)

				var_306_21.a = Mathf.Lerp(0, 1, var_306_20)
				arg_303_1.mask_.color = var_306_21
			end

			if arg_303_1.time_ >= var_306_18 + var_306_19 and arg_303_1.time_ < var_306_18 + var_306_19 + arg_306_0 then
				local var_306_22 = Color.New(0, 0, 0)

				var_306_22.a = 1
				arg_303_1.mask_.color = var_306_22
			end

			local var_306_23 = 2.76666666666667

			if var_306_23 < arg_303_1.time_ and arg_303_1.time_ <= var_306_23 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_24 = 1.5

			if var_306_23 <= arg_303_1.time_ and arg_303_1.time_ < var_306_23 + var_306_24 then
				local var_306_25 = (arg_303_1.time_ - var_306_23) / var_306_24
				local var_306_26 = Color.New(0, 0, 0)

				var_306_26.a = Mathf.Lerp(1, 0, var_306_25)
				arg_303_1.mask_.color = var_306_26
			end

			if arg_303_1.time_ >= var_306_23 + var_306_24 and arg_303_1.time_ < var_306_23 + var_306_24 + arg_306_0 then
				local var_306_27 = Color.New(0, 0, 0)
				local var_306_28 = 0

				arg_303_1.mask_.enabled = false
				var_306_27.a = var_306_28
				arg_303_1.mask_.color = var_306_27
			end

			local var_306_29 = 2.76666666666667

			if var_306_29 < arg_303_1.time_ and arg_303_1.time_ <= var_306_29 + arg_306_0 then
				local var_306_30 = manager.ui.mainCamera.transform.localPosition
				local var_306_31 = Vector3.New(0, 0, 10) + Vector3.New(var_306_30.x, var_306_30.y, 0)
				local var_306_32 = arg_303_1.bgs_.STblack

				var_306_32.transform.localPosition = var_306_31
				var_306_32.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_306_33 = var_306_32:GetComponent("SpriteRenderer")

				if var_306_33 and var_306_33.sprite then
					local var_306_34 = (var_306_32.transform.localPosition - var_306_30).z
					local var_306_35 = manager.ui.mainCameraCom_
					local var_306_36 = 2 * var_306_34 * Mathf.Tan(var_306_35.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_306_37 = var_306_36 * var_306_35.aspect
					local var_306_38 = var_306_33.sprite.bounds.size.x
					local var_306_39 = var_306_33.sprite.bounds.size.y
					local var_306_40 = var_306_37 / var_306_38
					local var_306_41 = var_306_36 / var_306_39
					local var_306_42 = var_306_41 < var_306_40 and var_306_40 or var_306_41

					var_306_32.transform.localScale = Vector3.New(var_306_42, var_306_42, 0)
				end

				for iter_306_0, iter_306_1 in pairs(arg_303_1.bgs_) do
					if iter_306_0 ~= "STblack" then
						iter_306_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_306_43 = 0

			if var_306_43 < arg_303_1.time_ and arg_303_1.time_ <= var_306_43 + arg_306_0 then
				local var_306_44 = manager.ui.mainCamera.transform.localPosition
				local var_306_45 = Vector3.New(0, 0, 10) + Vector3.New(var_306_44.x, var_306_44.y, 0)
				local var_306_46 = arg_303_1.bgs_.ST71a

				var_306_46.transform.localPosition = var_306_45
				var_306_46.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_306_47 = var_306_46:GetComponent("SpriteRenderer")

				if var_306_47 and var_306_47.sprite then
					local var_306_48 = (var_306_46.transform.localPosition - var_306_44).z
					local var_306_49 = manager.ui.mainCameraCom_
					local var_306_50 = 2 * var_306_48 * Mathf.Tan(var_306_49.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_306_51 = var_306_50 * var_306_49.aspect
					local var_306_52 = var_306_47.sprite.bounds.size.x
					local var_306_53 = var_306_47.sprite.bounds.size.y
					local var_306_54 = var_306_51 / var_306_52
					local var_306_55 = var_306_50 / var_306_53
					local var_306_56 = var_306_55 < var_306_54 and var_306_54 or var_306_55

					var_306_46.transform.localScale = Vector3.New(var_306_56, var_306_56, 0)
				end

				for iter_306_2, iter_306_3 in pairs(arg_303_1.bgs_) do
					if iter_306_2 ~= "ST71a" then
						iter_306_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			if arg_303_1.frameCnt_ <= 1 then
				arg_303_1.dialog_:SetActive(false)
			end

			local var_306_57 = 4.16666666666667
			local var_306_58 = 1.15

			if var_306_57 < arg_303_1.time_ and arg_303_1.time_ <= var_306_57 + arg_306_0 then
				arg_303_1.talkMaxDuration = 0

				arg_303_1.dialog_:SetActive(true)

				local var_306_59 = LeanTween.value(arg_303_1.dialog_, 0, 1, 0.3)

				var_306_59:setOnUpdate(LuaHelper.FloatAction(function(arg_307_0)
					arg_303_1.dialogCg_.alpha = arg_307_0
				end))
				var_306_59:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_303_1.dialog_)
					var_306_59:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_303_1.duration_ = arg_303_1.duration_ + 0.3

				SetActive(arg_303_1.leftNameGo_, true)

				local var_306_60 = arg_303_1:FormatText(StoryNameCfg[670].name)

				arg_303_1.leftNameTxt_.text = var_306_60

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_303_1.leftNameTxt_.transform)

				arg_303_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_303_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_303_1:RecordName(arg_303_1.leftNameTxt_.text)
				SetActive(arg_303_1.iconTrs_.gameObject, true)
				arg_303_1.iconController_:SetSelectedState("hero")

				arg_303_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_303_1.callingController_:SetSelectedState("normal")

				local var_306_61 = arg_303_1:GetWordFromCfg(411121072)
				local var_306_62 = arg_303_1:FormatText(var_306_61.content)

				arg_303_1.text_.text = var_306_62

				LuaForUtil.ClearLinePrefixSymbol(arg_303_1.text_)

				local var_306_63 = 14
				local var_306_64 = utf8.len(var_306_62)
				local var_306_65 = var_306_63 <= 0 and var_306_58 or var_306_58 * (var_306_64 / var_306_63)

				if var_306_65 > 0 and var_306_58 < var_306_65 then
					arg_303_1.talkMaxDuration = var_306_65
					var_306_57 = var_306_57 + 0.3

					if var_306_65 + var_306_57 > arg_303_1.duration_ then
						arg_303_1.duration_ = var_306_65 + var_306_57
					end
				end

				arg_303_1.text_.text = var_306_62
				arg_303_1.typewritter.percent = 0

				arg_303_1.typewritter:SetDirty()
				arg_303_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121072", "story_v_out_411121.awb") ~= 0 then
					local var_306_66 = manager.audio:GetVoiceLength("story_v_out_411121", "411121072", "story_v_out_411121.awb") / 1000

					if var_306_66 + var_306_57 > arg_303_1.duration_ then
						arg_303_1.duration_ = var_306_66 + var_306_57
					end

					if var_306_61.prefab_name ~= "" and arg_303_1.actors_[var_306_61.prefab_name] ~= nil then
						local var_306_67 = LuaForUtil.PlayVoiceWithCriLipsync(arg_303_1.actors_[var_306_61.prefab_name].transform, "story_v_out_411121", "411121072", "story_v_out_411121.awb")

						arg_303_1:RecordAudio("411121072", var_306_67)
						arg_303_1:RecordAudio("411121072", var_306_67)
					else
						arg_303_1:AudioAction("play", "voice", "story_v_out_411121", "411121072", "story_v_out_411121.awb")
					end

					arg_303_1:RecordHistoryTalkVoice("story_v_out_411121", "411121072", "story_v_out_411121.awb")
				end

				arg_303_1:RecordContent(arg_303_1.text_.text)
			end

			local var_306_68 = var_306_57 + 0.3
			local var_306_69 = math.max(var_306_58, arg_303_1.talkMaxDuration)

			if var_306_68 <= arg_303_1.time_ and arg_303_1.time_ < var_306_68 + var_306_69 then
				arg_303_1.typewritter.percent = (arg_303_1.time_ - var_306_68) / var_306_69

				arg_303_1.typewritter:SetDirty()
			end

			if arg_303_1.time_ >= var_306_68 + var_306_69 and arg_303_1.time_ < var_306_68 + var_306_69 + arg_306_0 then
				arg_303_1.typewritter.percent = 1

				arg_303_1.typewritter:SetDirty()
				arg_303_1:ShowNextGo(true)
			end
		end
	end,
	Play411121073 = function(arg_309_0, arg_309_1)
		arg_309_1.time_ = 0
		arg_309_1.frameCnt_ = 0
		arg_309_1.state_ = "playing"
		arg_309_1.curTalkId_ = 411121073
		arg_309_1.duration_ = 5

		SetActive(arg_309_1.tipsGo_, false)

		function arg_309_1.onSingleLineFinish_()
			arg_309_1.onSingleLineUpdate_ = nil
			arg_309_1.onSingleLineFinish_ = nil
			arg_309_1.state_ = "waiting"
		end

		function arg_309_1.playNext_(arg_311_0)
			if arg_311_0 == 1 then
				arg_309_0:Play411121074(arg_309_1)
			end
		end

		function arg_309_1.onSingleLineUpdate_(arg_312_0)
			local var_312_0 = 0
			local var_312_1 = 0.8

			if var_312_0 < arg_309_1.time_ and arg_309_1.time_ <= var_312_0 + arg_312_0 then
				arg_309_1.talkMaxDuration = 0
				arg_309_1.dialogCg_.alpha = 1

				arg_309_1.dialog_:SetActive(true)
				SetActive(arg_309_1.leftNameGo_, false)

				arg_309_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_309_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_309_1:RecordName(arg_309_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_309_1.iconTrs_.gameObject, false)
				arg_309_1.callingController_:SetSelectedState("normal")

				local var_312_2 = arg_309_1:GetWordFromCfg(411121073)
				local var_312_3 = arg_309_1:FormatText(var_312_2.content)

				arg_309_1.text_.text = var_312_3

				LuaForUtil.ClearLinePrefixSymbol(arg_309_1.text_)

				local var_312_4 = 32
				local var_312_5 = utf8.len(var_312_3)
				local var_312_6 = var_312_4 <= 0 and var_312_1 or var_312_1 * (var_312_5 / var_312_4)

				if var_312_6 > 0 and var_312_1 < var_312_6 then
					arg_309_1.talkMaxDuration = var_312_6

					if var_312_6 + var_312_0 > arg_309_1.duration_ then
						arg_309_1.duration_ = var_312_6 + var_312_0
					end
				end

				arg_309_1.text_.text = var_312_3
				arg_309_1.typewritter.percent = 0

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(false)
				arg_309_1:RecordContent(arg_309_1.text_.text)
			end

			local var_312_7 = math.max(var_312_1, arg_309_1.talkMaxDuration)

			if var_312_0 <= arg_309_1.time_ and arg_309_1.time_ < var_312_0 + var_312_7 then
				arg_309_1.typewritter.percent = (arg_309_1.time_ - var_312_0) / var_312_7

				arg_309_1.typewritter:SetDirty()
			end

			if arg_309_1.time_ >= var_312_0 + var_312_7 and arg_309_1.time_ < var_312_0 + var_312_7 + arg_312_0 then
				arg_309_1.typewritter.percent = 1

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(true)
			end
		end
	end,
	Play411121074 = function(arg_313_0, arg_313_1)
		arg_313_1.time_ = 0
		arg_313_1.frameCnt_ = 0
		arg_313_1.state_ = "playing"
		arg_313_1.curTalkId_ = 411121074
		arg_313_1.duration_ = 5

		SetActive(arg_313_1.tipsGo_, false)

		function arg_313_1.onSingleLineFinish_()
			arg_313_1.onSingleLineUpdate_ = nil
			arg_313_1.onSingleLineFinish_ = nil
			arg_313_1.state_ = "waiting"
		end

		function arg_313_1.playNext_(arg_315_0)
			if arg_315_0 == 1 then
				arg_313_0:Play411121075(arg_313_1)
			end
		end

		function arg_313_1.onSingleLineUpdate_(arg_316_0)
			local var_316_0 = 0
			local var_316_1 = 0.4

			if var_316_0 < arg_313_1.time_ and arg_313_1.time_ <= var_316_0 + arg_316_0 then
				arg_313_1.talkMaxDuration = 0
				arg_313_1.dialogCg_.alpha = 1

				arg_313_1.dialog_:SetActive(true)
				SetActive(arg_313_1.leftNameGo_, false)

				arg_313_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_313_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_313_1:RecordName(arg_313_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_313_1.iconTrs_.gameObject, false)
				arg_313_1.callingController_:SetSelectedState("normal")

				local var_316_2 = arg_313_1:GetWordFromCfg(411121074)
				local var_316_3 = arg_313_1:FormatText(var_316_2.content)

				arg_313_1.text_.text = var_316_3

				LuaForUtil.ClearLinePrefixSymbol(arg_313_1.text_)

				local var_316_4 = 16
				local var_316_5 = utf8.len(var_316_3)
				local var_316_6 = var_316_4 <= 0 and var_316_1 or var_316_1 * (var_316_5 / var_316_4)

				if var_316_6 > 0 and var_316_1 < var_316_6 then
					arg_313_1.talkMaxDuration = var_316_6

					if var_316_6 + var_316_0 > arg_313_1.duration_ then
						arg_313_1.duration_ = var_316_6 + var_316_0
					end
				end

				arg_313_1.text_.text = var_316_3
				arg_313_1.typewritter.percent = 0

				arg_313_1.typewritter:SetDirty()
				arg_313_1:ShowNextGo(false)
				arg_313_1:RecordContent(arg_313_1.text_.text)
			end

			local var_316_7 = math.max(var_316_1, arg_313_1.talkMaxDuration)

			if var_316_0 <= arg_313_1.time_ and arg_313_1.time_ < var_316_0 + var_316_7 then
				arg_313_1.typewritter.percent = (arg_313_1.time_ - var_316_0) / var_316_7

				arg_313_1.typewritter:SetDirty()
			end

			if arg_313_1.time_ >= var_316_0 + var_316_7 and arg_313_1.time_ < var_316_0 + var_316_7 + arg_316_0 then
				arg_313_1.typewritter.percent = 1

				arg_313_1.typewritter:SetDirty()
				arg_313_1:ShowNextGo(true)
			end
		end
	end,
	Play411121075 = function(arg_317_0, arg_317_1)
		arg_317_1.time_ = 0
		arg_317_1.frameCnt_ = 0
		arg_317_1.state_ = "playing"
		arg_317_1.curTalkId_ = 411121075
		arg_317_1.duration_ = 5

		SetActive(arg_317_1.tipsGo_, false)

		function arg_317_1.onSingleLineFinish_()
			arg_317_1.onSingleLineUpdate_ = nil
			arg_317_1.onSingleLineFinish_ = nil
			arg_317_1.state_ = "waiting"
		end

		function arg_317_1.playNext_(arg_319_0)
			if arg_319_0 == 1 then
				arg_317_0:Play411121076(arg_317_1)
			end
		end

		function arg_317_1.onSingleLineUpdate_(arg_320_0)
			local var_320_0 = 0
			local var_320_1 = 0.875

			if var_320_0 < arg_317_1.time_ and arg_317_1.time_ <= var_320_0 + arg_320_0 then
				arg_317_1.talkMaxDuration = 0
				arg_317_1.dialogCg_.alpha = 1

				arg_317_1.dialog_:SetActive(true)
				SetActive(arg_317_1.leftNameGo_, false)

				arg_317_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_317_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_317_1:RecordName(arg_317_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_317_1.iconTrs_.gameObject, false)
				arg_317_1.callingController_:SetSelectedState("normal")

				local var_320_2 = arg_317_1:GetWordFromCfg(411121075)
				local var_320_3 = arg_317_1:FormatText(var_320_2.content)

				arg_317_1.text_.text = var_320_3

				LuaForUtil.ClearLinePrefixSymbol(arg_317_1.text_)

				local var_320_4 = 35
				local var_320_5 = utf8.len(var_320_3)
				local var_320_6 = var_320_4 <= 0 and var_320_1 or var_320_1 * (var_320_5 / var_320_4)

				if var_320_6 > 0 and var_320_1 < var_320_6 then
					arg_317_1.talkMaxDuration = var_320_6

					if var_320_6 + var_320_0 > arg_317_1.duration_ then
						arg_317_1.duration_ = var_320_6 + var_320_0
					end
				end

				arg_317_1.text_.text = var_320_3
				arg_317_1.typewritter.percent = 0

				arg_317_1.typewritter:SetDirty()
				arg_317_1:ShowNextGo(false)
				arg_317_1:RecordContent(arg_317_1.text_.text)
			end

			local var_320_7 = math.max(var_320_1, arg_317_1.talkMaxDuration)

			if var_320_0 <= arg_317_1.time_ and arg_317_1.time_ < var_320_0 + var_320_7 then
				arg_317_1.typewritter.percent = (arg_317_1.time_ - var_320_0) / var_320_7

				arg_317_1.typewritter:SetDirty()
			end

			if arg_317_1.time_ >= var_320_0 + var_320_7 and arg_317_1.time_ < var_320_0 + var_320_7 + arg_320_0 then
				arg_317_1.typewritter.percent = 1

				arg_317_1.typewritter:SetDirty()
				arg_317_1:ShowNextGo(true)
			end
		end
	end,
	Play411121076 = function(arg_321_0, arg_321_1)
		arg_321_1.time_ = 0
		arg_321_1.frameCnt_ = 0
		arg_321_1.state_ = "playing"
		arg_321_1.curTalkId_ = 411121076
		arg_321_1.duration_ = 5.3

		local var_321_0 = {
			zh = 5.3,
			ja = 3.733
		}
		local var_321_1 = manager.audio:GetLocalizationFlag()

		if var_321_0[var_321_1] ~= nil then
			arg_321_1.duration_ = var_321_0[var_321_1]
		end

		SetActive(arg_321_1.tipsGo_, false)

		function arg_321_1.onSingleLineFinish_()
			arg_321_1.onSingleLineUpdate_ = nil
			arg_321_1.onSingleLineFinish_ = nil
			arg_321_1.state_ = "waiting"
		end

		function arg_321_1.playNext_(arg_323_0)
			if arg_323_0 == 1 then
				arg_321_0:Play411121077(arg_321_1)
			end
		end

		function arg_321_1.onSingleLineUpdate_(arg_324_0)
			local var_324_0 = 0

			if var_324_0 < arg_321_1.time_ and arg_321_1.time_ <= var_324_0 + arg_324_0 then
				local var_324_1 = manager.ui.mainCamera.transform.localPosition
				local var_324_2 = Vector3.New(0, 0, 10) + Vector3.New(var_324_1.x, var_324_1.y, 0)
				local var_324_3 = arg_321_1.bgs_.ST71a

				var_324_3.transform.localPosition = var_324_2
				var_324_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_324_4 = var_324_3:GetComponent("SpriteRenderer")

				if var_324_4 and var_324_4.sprite then
					local var_324_5 = (var_324_3.transform.localPosition - var_324_1).z
					local var_324_6 = manager.ui.mainCameraCom_
					local var_324_7 = 2 * var_324_5 * Mathf.Tan(var_324_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_324_8 = var_324_7 * var_324_6.aspect
					local var_324_9 = var_324_4.sprite.bounds.size.x
					local var_324_10 = var_324_4.sprite.bounds.size.y
					local var_324_11 = var_324_8 / var_324_9
					local var_324_12 = var_324_7 / var_324_10
					local var_324_13 = var_324_12 < var_324_11 and var_324_11 or var_324_12

					var_324_3.transform.localScale = Vector3.New(var_324_13, var_324_13, 0)
				end

				for iter_324_0, iter_324_1 in pairs(arg_321_1.bgs_) do
					if iter_324_0 ~= "ST71a" then
						iter_324_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_324_14 = 0

			if var_324_14 < arg_321_1.time_ and arg_321_1.time_ <= var_324_14 + arg_324_0 then
				arg_321_1.mask_.enabled = true
				arg_321_1.mask_.raycastTarget = true

				arg_321_1:SetGaussion(false)
			end

			local var_324_15 = 0.8

			if var_324_14 <= arg_321_1.time_ and arg_321_1.time_ < var_324_14 + var_324_15 then
				local var_324_16 = (arg_321_1.time_ - var_324_14) / var_324_15
				local var_324_17 = Color.New(0, 0, 0)

				var_324_17.a = Mathf.Lerp(1, 0, var_324_16)
				arg_321_1.mask_.color = var_324_17
			end

			if arg_321_1.time_ >= var_324_14 + var_324_15 and arg_321_1.time_ < var_324_14 + var_324_15 + arg_324_0 then
				local var_324_18 = Color.New(0, 0, 0)
				local var_324_19 = 0

				arg_321_1.mask_.enabled = false
				var_324_18.a = var_324_19
				arg_321_1.mask_.color = var_324_18
			end

			local var_324_20 = arg_321_1.bgs_.ST71a.transform
			local var_324_21 = 0

			if var_324_21 < arg_321_1.time_ and arg_321_1.time_ <= var_324_21 + arg_324_0 then
				arg_321_1.var_.moveOldPosST71a = var_324_20.localPosition
			end

			local var_324_22 = 0.001

			if var_324_21 <= arg_321_1.time_ and arg_321_1.time_ < var_324_21 + var_324_22 then
				local var_324_23 = (arg_321_1.time_ - var_324_21) / var_324_22
				local var_324_24 = Vector3.New(0, 1, 10)

				var_324_20.localPosition = Vector3.Lerp(arg_321_1.var_.moveOldPosST71a, var_324_24, var_324_23)
			end

			if arg_321_1.time_ >= var_324_21 + var_324_22 and arg_321_1.time_ < var_324_21 + var_324_22 + arg_324_0 then
				var_324_20.localPosition = Vector3.New(0, 1, 10)
			end

			if arg_321_1.frameCnt_ <= 1 then
				arg_321_1.dialog_:SetActive(false)
			end

			local var_324_25 = 2
			local var_324_26 = 0.075

			if var_324_25 < arg_321_1.time_ and arg_321_1.time_ <= var_324_25 + arg_324_0 then
				arg_321_1.talkMaxDuration = 0

				arg_321_1.dialog_:SetActive(true)

				local var_324_27 = LeanTween.value(arg_321_1.dialog_, 0, 1, 0.3)

				var_324_27:setOnUpdate(LuaHelper.FloatAction(function(arg_325_0)
					arg_321_1.dialogCg_.alpha = arg_325_0
				end))
				var_324_27:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_321_1.dialog_)
					var_324_27:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_321_1.duration_ = arg_321_1.duration_ + 0.3

				SetActive(arg_321_1.leftNameGo_, true)

				local var_324_28 = arg_321_1:FormatText(StoryNameCfg[670].name)

				arg_321_1.leftNameTxt_.text = var_324_28

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_321_1.leftNameTxt_.transform)

				arg_321_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_321_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_321_1:RecordName(arg_321_1.leftNameTxt_.text)
				SetActive(arg_321_1.iconTrs_.gameObject, true)
				arg_321_1.iconController_:SetSelectedState("hero")

				arg_321_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_321_1.callingController_:SetSelectedState("normal")

				local var_324_29 = arg_321_1:GetWordFromCfg(411121076)
				local var_324_30 = arg_321_1:FormatText(var_324_29.content)

				arg_321_1.text_.text = var_324_30

				LuaForUtil.ClearLinePrefixSymbol(arg_321_1.text_)

				local var_324_31 = 3
				local var_324_32 = utf8.len(var_324_30)
				local var_324_33 = var_324_31 <= 0 and var_324_26 or var_324_26 * (var_324_32 / var_324_31)

				if var_324_33 > 0 and var_324_26 < var_324_33 then
					arg_321_1.talkMaxDuration = var_324_33
					var_324_25 = var_324_25 + 0.3

					if var_324_33 + var_324_25 > arg_321_1.duration_ then
						arg_321_1.duration_ = var_324_33 + var_324_25
					end
				end

				arg_321_1.text_.text = var_324_30
				arg_321_1.typewritter.percent = 0

				arg_321_1.typewritter:SetDirty()
				arg_321_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121076", "story_v_out_411121.awb") ~= 0 then
					local var_324_34 = manager.audio:GetVoiceLength("story_v_out_411121", "411121076", "story_v_out_411121.awb") / 1000

					if var_324_34 + var_324_25 > arg_321_1.duration_ then
						arg_321_1.duration_ = var_324_34 + var_324_25
					end

					if var_324_29.prefab_name ~= "" and arg_321_1.actors_[var_324_29.prefab_name] ~= nil then
						local var_324_35 = LuaForUtil.PlayVoiceWithCriLipsync(arg_321_1.actors_[var_324_29.prefab_name].transform, "story_v_out_411121", "411121076", "story_v_out_411121.awb")

						arg_321_1:RecordAudio("411121076", var_324_35)
						arg_321_1:RecordAudio("411121076", var_324_35)
					else
						arg_321_1:AudioAction("play", "voice", "story_v_out_411121", "411121076", "story_v_out_411121.awb")
					end

					arg_321_1:RecordHistoryTalkVoice("story_v_out_411121", "411121076", "story_v_out_411121.awb")
				end

				arg_321_1:RecordContent(arg_321_1.text_.text)
			end

			local var_324_36 = var_324_25 + 0.3
			local var_324_37 = math.max(var_324_26, arg_321_1.talkMaxDuration)

			if var_324_36 <= arg_321_1.time_ and arg_321_1.time_ < var_324_36 + var_324_37 then
				arg_321_1.typewritter.percent = (arg_321_1.time_ - var_324_36) / var_324_37

				arg_321_1.typewritter:SetDirty()
			end

			if arg_321_1.time_ >= var_324_36 + var_324_37 and arg_321_1.time_ < var_324_36 + var_324_37 + arg_324_0 then
				arg_321_1.typewritter.percent = 1

				arg_321_1.typewritter:SetDirty()
				arg_321_1:ShowNextGo(true)
			end
		end
	end,
	Play411121077 = function(arg_327_0, arg_327_1)
		arg_327_1.time_ = 0
		arg_327_1.frameCnt_ = 0
		arg_327_1.state_ = "playing"
		arg_327_1.curTalkId_ = 411121077
		arg_327_1.duration_ = 8.233

		local var_327_0 = {
			zh = 8.233,
			ja = 5.166
		}
		local var_327_1 = manager.audio:GetLocalizationFlag()

		if var_327_0[var_327_1] ~= nil then
			arg_327_1.duration_ = var_327_0[var_327_1]
		end

		SetActive(arg_327_1.tipsGo_, false)

		function arg_327_1.onSingleLineFinish_()
			arg_327_1.onSingleLineUpdate_ = nil
			arg_327_1.onSingleLineFinish_ = nil
			arg_327_1.state_ = "waiting"
		end

		function arg_327_1.playNext_(arg_329_0)
			if arg_329_0 == 1 then
				arg_327_0:Play411121078(arg_327_1)
			end
		end

		function arg_327_1.onSingleLineUpdate_(arg_330_0)
			local var_330_0 = 0
			local var_330_1 = 0.65

			if var_330_0 < arg_327_1.time_ and arg_327_1.time_ <= var_330_0 + arg_330_0 then
				arg_327_1.talkMaxDuration = 0
				arg_327_1.dialogCg_.alpha = 1

				arg_327_1.dialog_:SetActive(true)
				SetActive(arg_327_1.leftNameGo_, true)

				local var_330_2 = arg_327_1:FormatText(StoryNameCfg[670].name)

				arg_327_1.leftNameTxt_.text = var_330_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_327_1.leftNameTxt_.transform)

				arg_327_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_327_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_327_1:RecordName(arg_327_1.leftNameTxt_.text)
				SetActive(arg_327_1.iconTrs_.gameObject, true)
				arg_327_1.iconController_:SetSelectedState("hero")

				arg_327_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_327_1.callingController_:SetSelectedState("normal")

				local var_330_3 = arg_327_1:GetWordFromCfg(411121077)
				local var_330_4 = arg_327_1:FormatText(var_330_3.content)

				arg_327_1.text_.text = var_330_4

				LuaForUtil.ClearLinePrefixSymbol(arg_327_1.text_)

				local var_330_5 = 26
				local var_330_6 = utf8.len(var_330_4)
				local var_330_7 = var_330_5 <= 0 and var_330_1 or var_330_1 * (var_330_6 / var_330_5)

				if var_330_7 > 0 and var_330_1 < var_330_7 then
					arg_327_1.talkMaxDuration = var_330_7

					if var_330_7 + var_330_0 > arg_327_1.duration_ then
						arg_327_1.duration_ = var_330_7 + var_330_0
					end
				end

				arg_327_1.text_.text = var_330_4
				arg_327_1.typewritter.percent = 0

				arg_327_1.typewritter:SetDirty()
				arg_327_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121077", "story_v_out_411121.awb") ~= 0 then
					local var_330_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121077", "story_v_out_411121.awb") / 1000

					if var_330_8 + var_330_0 > arg_327_1.duration_ then
						arg_327_1.duration_ = var_330_8 + var_330_0
					end

					if var_330_3.prefab_name ~= "" and arg_327_1.actors_[var_330_3.prefab_name] ~= nil then
						local var_330_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_327_1.actors_[var_330_3.prefab_name].transform, "story_v_out_411121", "411121077", "story_v_out_411121.awb")

						arg_327_1:RecordAudio("411121077", var_330_9)
						arg_327_1:RecordAudio("411121077", var_330_9)
					else
						arg_327_1:AudioAction("play", "voice", "story_v_out_411121", "411121077", "story_v_out_411121.awb")
					end

					arg_327_1:RecordHistoryTalkVoice("story_v_out_411121", "411121077", "story_v_out_411121.awb")
				end

				arg_327_1:RecordContent(arg_327_1.text_.text)
			end

			local var_330_10 = math.max(var_330_1, arg_327_1.talkMaxDuration)

			if var_330_0 <= arg_327_1.time_ and arg_327_1.time_ < var_330_0 + var_330_10 then
				arg_327_1.typewritter.percent = (arg_327_1.time_ - var_330_0) / var_330_10

				arg_327_1.typewritter:SetDirty()
			end

			if arg_327_1.time_ >= var_330_0 + var_330_10 and arg_327_1.time_ < var_330_0 + var_330_10 + arg_330_0 then
				arg_327_1.typewritter.percent = 1

				arg_327_1.typewritter:SetDirty()
				arg_327_1:ShowNextGo(true)
			end
		end
	end,
	Play411121078 = function(arg_331_0, arg_331_1)
		arg_331_1.time_ = 0
		arg_331_1.frameCnt_ = 0
		arg_331_1.state_ = "playing"
		arg_331_1.curTalkId_ = 411121078
		arg_331_1.duration_ = 5

		SetActive(arg_331_1.tipsGo_, false)

		function arg_331_1.onSingleLineFinish_()
			arg_331_1.onSingleLineUpdate_ = nil
			arg_331_1.onSingleLineFinish_ = nil
			arg_331_1.state_ = "waiting"
		end

		function arg_331_1.playNext_(arg_333_0)
			if arg_333_0 == 1 then
				arg_331_0:Play411121079(arg_331_1)
			end
		end

		function arg_331_1.onSingleLineUpdate_(arg_334_0)
			local var_334_0 = 0
			local var_334_1 = 0.575

			if var_334_0 < arg_331_1.time_ and arg_331_1.time_ <= var_334_0 + arg_334_0 then
				arg_331_1.talkMaxDuration = 0
				arg_331_1.dialogCg_.alpha = 1

				arg_331_1.dialog_:SetActive(true)
				SetActive(arg_331_1.leftNameGo_, false)

				arg_331_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_331_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_331_1:RecordName(arg_331_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_331_1.iconTrs_.gameObject, false)
				arg_331_1.callingController_:SetSelectedState("normal")

				local var_334_2 = arg_331_1:GetWordFromCfg(411121078)
				local var_334_3 = arg_331_1:FormatText(var_334_2.content)

				arg_331_1.text_.text = var_334_3

				LuaForUtil.ClearLinePrefixSymbol(arg_331_1.text_)

				local var_334_4 = 23
				local var_334_5 = utf8.len(var_334_3)
				local var_334_6 = var_334_4 <= 0 and var_334_1 or var_334_1 * (var_334_5 / var_334_4)

				if var_334_6 > 0 and var_334_1 < var_334_6 then
					arg_331_1.talkMaxDuration = var_334_6

					if var_334_6 + var_334_0 > arg_331_1.duration_ then
						arg_331_1.duration_ = var_334_6 + var_334_0
					end
				end

				arg_331_1.text_.text = var_334_3
				arg_331_1.typewritter.percent = 0

				arg_331_1.typewritter:SetDirty()
				arg_331_1:ShowNextGo(false)
				arg_331_1:RecordContent(arg_331_1.text_.text)
			end

			local var_334_7 = math.max(var_334_1, arg_331_1.talkMaxDuration)

			if var_334_0 <= arg_331_1.time_ and arg_331_1.time_ < var_334_0 + var_334_7 then
				arg_331_1.typewritter.percent = (arg_331_1.time_ - var_334_0) / var_334_7

				arg_331_1.typewritter:SetDirty()
			end

			if arg_331_1.time_ >= var_334_0 + var_334_7 and arg_331_1.time_ < var_334_0 + var_334_7 + arg_334_0 then
				arg_331_1.typewritter.percent = 1

				arg_331_1.typewritter:SetDirty()
				arg_331_1:ShowNextGo(true)
			end
		end
	end,
	Play411121079 = function(arg_335_0, arg_335_1)
		arg_335_1.time_ = 0
		arg_335_1.frameCnt_ = 0
		arg_335_1.state_ = "playing"
		arg_335_1.curTalkId_ = 411121079
		arg_335_1.duration_ = 9.533

		local var_335_0 = {
			zh = 9.533,
			ja = 3.5
		}
		local var_335_1 = manager.audio:GetLocalizationFlag()

		if var_335_0[var_335_1] ~= nil then
			arg_335_1.duration_ = var_335_0[var_335_1]
		end

		SetActive(arg_335_1.tipsGo_, false)

		function arg_335_1.onSingleLineFinish_()
			arg_335_1.onSingleLineUpdate_ = nil
			arg_335_1.onSingleLineFinish_ = nil
			arg_335_1.state_ = "waiting"
		end

		function arg_335_1.playNext_(arg_337_0)
			if arg_337_0 == 1 then
				arg_335_0:Play411121080(arg_335_1)
			end
		end

		function arg_335_1.onSingleLineUpdate_(arg_338_0)
			local var_338_0 = 0
			local var_338_1 = 0.45

			if var_338_0 < arg_335_1.time_ and arg_335_1.time_ <= var_338_0 + arg_338_0 then
				arg_335_1.talkMaxDuration = 0
				arg_335_1.dialogCg_.alpha = 1

				arg_335_1.dialog_:SetActive(true)
				SetActive(arg_335_1.leftNameGo_, true)

				local var_338_2 = arg_335_1:FormatText(StoryNameCfg[670].name)

				arg_335_1.leftNameTxt_.text = var_338_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_335_1.leftNameTxt_.transform)

				arg_335_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_335_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_335_1:RecordName(arg_335_1.leftNameTxt_.text)
				SetActive(arg_335_1.iconTrs_.gameObject, true)
				arg_335_1.iconController_:SetSelectedState("hero")

				arg_335_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_335_1.callingController_:SetSelectedState("normal")

				local var_338_3 = arg_335_1:GetWordFromCfg(411121079)
				local var_338_4 = arg_335_1:FormatText(var_338_3.content)

				arg_335_1.text_.text = var_338_4

				LuaForUtil.ClearLinePrefixSymbol(arg_335_1.text_)

				local var_338_5 = 18
				local var_338_6 = utf8.len(var_338_4)
				local var_338_7 = var_338_5 <= 0 and var_338_1 or var_338_1 * (var_338_6 / var_338_5)

				if var_338_7 > 0 and var_338_1 < var_338_7 then
					arg_335_1.talkMaxDuration = var_338_7

					if var_338_7 + var_338_0 > arg_335_1.duration_ then
						arg_335_1.duration_ = var_338_7 + var_338_0
					end
				end

				arg_335_1.text_.text = var_338_4
				arg_335_1.typewritter.percent = 0

				arg_335_1.typewritter:SetDirty()
				arg_335_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121079", "story_v_out_411121.awb") ~= 0 then
					local var_338_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121079", "story_v_out_411121.awb") / 1000

					if var_338_8 + var_338_0 > arg_335_1.duration_ then
						arg_335_1.duration_ = var_338_8 + var_338_0
					end

					if var_338_3.prefab_name ~= "" and arg_335_1.actors_[var_338_3.prefab_name] ~= nil then
						local var_338_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_335_1.actors_[var_338_3.prefab_name].transform, "story_v_out_411121", "411121079", "story_v_out_411121.awb")

						arg_335_1:RecordAudio("411121079", var_338_9)
						arg_335_1:RecordAudio("411121079", var_338_9)
					else
						arg_335_1:AudioAction("play", "voice", "story_v_out_411121", "411121079", "story_v_out_411121.awb")
					end

					arg_335_1:RecordHistoryTalkVoice("story_v_out_411121", "411121079", "story_v_out_411121.awb")
				end

				arg_335_1:RecordContent(arg_335_1.text_.text)
			end

			local var_338_10 = math.max(var_338_1, arg_335_1.talkMaxDuration)

			if var_338_0 <= arg_335_1.time_ and arg_335_1.time_ < var_338_0 + var_338_10 then
				arg_335_1.typewritter.percent = (arg_335_1.time_ - var_338_0) / var_338_10

				arg_335_1.typewritter:SetDirty()
			end

			if arg_335_1.time_ >= var_338_0 + var_338_10 and arg_335_1.time_ < var_338_0 + var_338_10 + arg_338_0 then
				arg_335_1.typewritter.percent = 1

				arg_335_1.typewritter:SetDirty()
				arg_335_1:ShowNextGo(true)
			end
		end
	end,
	Play411121080 = function(arg_339_0, arg_339_1)
		arg_339_1.time_ = 0
		arg_339_1.frameCnt_ = 0
		arg_339_1.state_ = "playing"
		arg_339_1.curTalkId_ = 411121080
		arg_339_1.duration_ = 4.266

		local var_339_0 = {
			zh = 4.233,
			ja = 4.266
		}
		local var_339_1 = manager.audio:GetLocalizationFlag()

		if var_339_0[var_339_1] ~= nil then
			arg_339_1.duration_ = var_339_0[var_339_1]
		end

		SetActive(arg_339_1.tipsGo_, false)

		function arg_339_1.onSingleLineFinish_()
			arg_339_1.onSingleLineUpdate_ = nil
			arg_339_1.onSingleLineFinish_ = nil
			arg_339_1.state_ = "waiting"
		end

		function arg_339_1.playNext_(arg_341_0)
			if arg_341_0 == 1 then
				arg_339_0:Play411121081(arg_339_1)
			end
		end

		function arg_339_1.onSingleLineUpdate_(arg_342_0)
			local var_342_0 = 0
			local var_342_1 = 0.375

			if var_342_0 < arg_339_1.time_ and arg_339_1.time_ <= var_342_0 + arg_342_0 then
				arg_339_1.talkMaxDuration = 0
				arg_339_1.dialogCg_.alpha = 1

				arg_339_1.dialog_:SetActive(true)
				SetActive(arg_339_1.leftNameGo_, true)

				local var_342_2 = arg_339_1:FormatText(StoryNameCfg[670].name)

				arg_339_1.leftNameTxt_.text = var_342_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_339_1.leftNameTxt_.transform)

				arg_339_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_339_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_339_1:RecordName(arg_339_1.leftNameTxt_.text)
				SetActive(arg_339_1.iconTrs_.gameObject, true)
				arg_339_1.iconController_:SetSelectedState("hero")

				arg_339_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_339_1.callingController_:SetSelectedState("normal")

				local var_342_3 = arg_339_1:GetWordFromCfg(411121080)
				local var_342_4 = arg_339_1:FormatText(var_342_3.content)

				arg_339_1.text_.text = var_342_4

				LuaForUtil.ClearLinePrefixSymbol(arg_339_1.text_)

				local var_342_5 = 15
				local var_342_6 = utf8.len(var_342_4)
				local var_342_7 = var_342_5 <= 0 and var_342_1 or var_342_1 * (var_342_6 / var_342_5)

				if var_342_7 > 0 and var_342_1 < var_342_7 then
					arg_339_1.talkMaxDuration = var_342_7

					if var_342_7 + var_342_0 > arg_339_1.duration_ then
						arg_339_1.duration_ = var_342_7 + var_342_0
					end
				end

				arg_339_1.text_.text = var_342_4
				arg_339_1.typewritter.percent = 0

				arg_339_1.typewritter:SetDirty()
				arg_339_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121080", "story_v_out_411121.awb") ~= 0 then
					local var_342_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121080", "story_v_out_411121.awb") / 1000

					if var_342_8 + var_342_0 > arg_339_1.duration_ then
						arg_339_1.duration_ = var_342_8 + var_342_0
					end

					if var_342_3.prefab_name ~= "" and arg_339_1.actors_[var_342_3.prefab_name] ~= nil then
						local var_342_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_339_1.actors_[var_342_3.prefab_name].transform, "story_v_out_411121", "411121080", "story_v_out_411121.awb")

						arg_339_1:RecordAudio("411121080", var_342_9)
						arg_339_1:RecordAudio("411121080", var_342_9)
					else
						arg_339_1:AudioAction("play", "voice", "story_v_out_411121", "411121080", "story_v_out_411121.awb")
					end

					arg_339_1:RecordHistoryTalkVoice("story_v_out_411121", "411121080", "story_v_out_411121.awb")
				end

				arg_339_1:RecordContent(arg_339_1.text_.text)
			end

			local var_342_10 = math.max(var_342_1, arg_339_1.talkMaxDuration)

			if var_342_0 <= arg_339_1.time_ and arg_339_1.time_ < var_342_0 + var_342_10 then
				arg_339_1.typewritter.percent = (arg_339_1.time_ - var_342_0) / var_342_10

				arg_339_1.typewritter:SetDirty()
			end

			if arg_339_1.time_ >= var_342_0 + var_342_10 and arg_339_1.time_ < var_342_0 + var_342_10 + arg_342_0 then
				arg_339_1.typewritter.percent = 1

				arg_339_1.typewritter:SetDirty()
				arg_339_1:ShowNextGo(true)
			end
		end
	end,
	Play411121081 = function(arg_343_0, arg_343_1)
		arg_343_1.time_ = 0
		arg_343_1.frameCnt_ = 0
		arg_343_1.state_ = "playing"
		arg_343_1.curTalkId_ = 411121081
		arg_343_1.duration_ = 7.73333333333333

		SetActive(arg_343_1.tipsGo_, false)

		function arg_343_1.onSingleLineFinish_()
			arg_343_1.onSingleLineUpdate_ = nil
			arg_343_1.onSingleLineFinish_ = nil
			arg_343_1.state_ = "waiting"
		end

		function arg_343_1.playNext_(arg_345_0)
			if arg_345_0 == 1 then
				arg_343_0:Play411121082(arg_343_1)
			end
		end

		function arg_343_1.onSingleLineUpdate_(arg_346_0)
			local var_346_0 = 0

			if var_346_0 < arg_343_1.time_ and arg_343_1.time_ <= var_346_0 + arg_346_0 then
				local var_346_1 = manager.ui.mainCamera.transform.localPosition
				local var_346_2 = Vector3.New(0, 0, 10) + Vector3.New(var_346_1.x, var_346_1.y, 0)
				local var_346_3 = arg_343_1.bgs_.ST71a

				var_346_3.transform.localPosition = var_346_2
				var_346_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_346_4 = var_346_3:GetComponent("SpriteRenderer")

				if var_346_4 and var_346_4.sprite then
					local var_346_5 = (var_346_3.transform.localPosition - var_346_1).z
					local var_346_6 = manager.ui.mainCameraCom_
					local var_346_7 = 2 * var_346_5 * Mathf.Tan(var_346_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_346_8 = var_346_7 * var_346_6.aspect
					local var_346_9 = var_346_4.sprite.bounds.size.x
					local var_346_10 = var_346_4.sprite.bounds.size.y
					local var_346_11 = var_346_8 / var_346_9
					local var_346_12 = var_346_7 / var_346_10
					local var_346_13 = var_346_12 < var_346_11 and var_346_11 or var_346_12

					var_346_3.transform.localScale = Vector3.New(var_346_13, var_346_13, 0)
				end

				for iter_346_0, iter_346_1 in pairs(arg_343_1.bgs_) do
					if iter_346_0 ~= "ST71a" then
						iter_346_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_346_14 = 1.16666666666667

			if var_346_14 < arg_343_1.time_ and arg_343_1.time_ <= var_346_14 + arg_346_0 then
				local var_346_15 = manager.ui.mainCamera.transform.localPosition
				local var_346_16 = Vector3.New(0, 0, 10) + Vector3.New(var_346_15.x, var_346_15.y, 0)
				local var_346_17 = arg_343_1.bgs_.ST71a

				var_346_17.transform.localPosition = var_346_16
				var_346_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_346_18 = var_346_17:GetComponent("SpriteRenderer")

				if var_346_18 and var_346_18.sprite then
					local var_346_19 = (var_346_17.transform.localPosition - var_346_15).z
					local var_346_20 = manager.ui.mainCameraCom_
					local var_346_21 = 2 * var_346_19 * Mathf.Tan(var_346_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_346_22 = var_346_21 * var_346_20.aspect
					local var_346_23 = var_346_18.sprite.bounds.size.x
					local var_346_24 = var_346_18.sprite.bounds.size.y
					local var_346_25 = var_346_22 / var_346_23
					local var_346_26 = var_346_21 / var_346_24
					local var_346_27 = var_346_26 < var_346_25 and var_346_25 or var_346_26

					var_346_17.transform.localScale = Vector3.New(var_346_27, var_346_27, 0)
				end

				for iter_346_2, iter_346_3 in pairs(arg_343_1.bgs_) do
					if iter_346_2 ~= "ST71a" then
						iter_346_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_346_28 = 0

			if var_346_28 < arg_343_1.time_ and arg_343_1.time_ <= var_346_28 + arg_346_0 then
				arg_343_1.mask_.enabled = true
				arg_343_1.mask_.raycastTarget = true

				arg_343_1:SetGaussion(false)
			end

			local var_346_29 = 1.16666666666667

			if var_346_28 <= arg_343_1.time_ and arg_343_1.time_ < var_346_28 + var_346_29 then
				local var_346_30 = (arg_343_1.time_ - var_346_28) / var_346_29
				local var_346_31 = Color.New(0, 0, 0)

				var_346_31.a = Mathf.Lerp(0, 1, var_346_30)
				arg_343_1.mask_.color = var_346_31
			end

			if arg_343_1.time_ >= var_346_28 + var_346_29 and arg_343_1.time_ < var_346_28 + var_346_29 + arg_346_0 then
				local var_346_32 = Color.New(0, 0, 0)

				var_346_32.a = 1
				arg_343_1.mask_.color = var_346_32
			end

			local var_346_33 = 1.16666666666667

			if var_346_33 < arg_343_1.time_ and arg_343_1.time_ <= var_346_33 + arg_346_0 then
				arg_343_1.mask_.enabled = true
				arg_343_1.mask_.raycastTarget = true

				arg_343_1:SetGaussion(false)
			end

			local var_346_34 = 1.56666666666667

			if var_346_33 <= arg_343_1.time_ and arg_343_1.time_ < var_346_33 + var_346_34 then
				local var_346_35 = (arg_343_1.time_ - var_346_33) / var_346_34
				local var_346_36 = Color.New(0, 0, 0)

				var_346_36.a = Mathf.Lerp(1, 0, var_346_35)
				arg_343_1.mask_.color = var_346_36
			end

			if arg_343_1.time_ >= var_346_33 + var_346_34 and arg_343_1.time_ < var_346_33 + var_346_34 + arg_346_0 then
				local var_346_37 = Color.New(0, 0, 0)
				local var_346_38 = 0

				arg_343_1.mask_.enabled = false
				var_346_37.a = var_346_38
				arg_343_1.mask_.color = var_346_37
			end

			local var_346_39 = arg_343_1.bgs_.ST71a.transform
			local var_346_40 = 1.16666666666667

			if var_346_40 < arg_343_1.time_ and arg_343_1.time_ <= var_346_40 + arg_346_0 then
				arg_343_1.var_.moveOldPosST71a = var_346_39.localPosition
			end

			local var_346_41 = 0.001

			if var_346_40 <= arg_343_1.time_ and arg_343_1.time_ < var_346_40 + var_346_41 then
				local var_346_42 = (arg_343_1.time_ - var_346_40) / var_346_41
				local var_346_43 = Vector3.New(0, 1, 9.5)

				var_346_39.localPosition = Vector3.Lerp(arg_343_1.var_.moveOldPosST71a, var_346_43, var_346_42)
			end

			if arg_343_1.time_ >= var_346_40 + var_346_41 and arg_343_1.time_ < var_346_40 + var_346_41 + arg_346_0 then
				var_346_39.localPosition = Vector3.New(0, 1, 9.5)
			end

			if arg_343_1.frameCnt_ <= 1 then
				arg_343_1.dialog_:SetActive(false)
			end

			local var_346_44 = 2.73333333333333
			local var_346_45 = 0.3

			if var_346_44 < arg_343_1.time_ and arg_343_1.time_ <= var_346_44 + arg_346_0 then
				arg_343_1.talkMaxDuration = 0

				arg_343_1.dialog_:SetActive(true)

				local var_346_46 = LeanTween.value(arg_343_1.dialog_, 0, 1, 0.3)

				var_346_46:setOnUpdate(LuaHelper.FloatAction(function(arg_347_0)
					arg_343_1.dialogCg_.alpha = arg_347_0
				end))
				var_346_46:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_343_1.dialog_)
					var_346_46:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_343_1.duration_ = arg_343_1.duration_ + 0.3

				SetActive(arg_343_1.leftNameGo_, false)

				arg_343_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_343_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_343_1:RecordName(arg_343_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_343_1.iconTrs_.gameObject, false)
				arg_343_1.callingController_:SetSelectedState("normal")

				local var_346_47 = arg_343_1:GetWordFromCfg(411121081)
				local var_346_48 = arg_343_1:FormatText(var_346_47.content)

				arg_343_1.text_.text = var_346_48

				LuaForUtil.ClearLinePrefixSymbol(arg_343_1.text_)

				local var_346_49 = 12
				local var_346_50 = utf8.len(var_346_48)
				local var_346_51 = var_346_49 <= 0 and var_346_45 or var_346_45 * (var_346_50 / var_346_49)

				if var_346_51 > 0 and var_346_45 < var_346_51 then
					arg_343_1.talkMaxDuration = var_346_51
					var_346_44 = var_346_44 + 0.3

					if var_346_51 + var_346_44 > arg_343_1.duration_ then
						arg_343_1.duration_ = var_346_51 + var_346_44
					end
				end

				arg_343_1.text_.text = var_346_48
				arg_343_1.typewritter.percent = 0

				arg_343_1.typewritter:SetDirty()
				arg_343_1:ShowNextGo(false)
				arg_343_1:RecordContent(arg_343_1.text_.text)
			end

			local var_346_52 = var_346_44 + 0.3
			local var_346_53 = math.max(var_346_45, arg_343_1.talkMaxDuration)

			if var_346_52 <= arg_343_1.time_ and arg_343_1.time_ < var_346_52 + var_346_53 then
				arg_343_1.typewritter.percent = (arg_343_1.time_ - var_346_52) / var_346_53

				arg_343_1.typewritter:SetDirty()
			end

			if arg_343_1.time_ >= var_346_52 + var_346_53 and arg_343_1.time_ < var_346_52 + var_346_53 + arg_346_0 then
				arg_343_1.typewritter.percent = 1

				arg_343_1.typewritter:SetDirty()
				arg_343_1:ShowNextGo(true)
			end
		end
	end,
	Play411121082 = function(arg_349_0, arg_349_1)
		arg_349_1.time_ = 0
		arg_349_1.frameCnt_ = 0
		arg_349_1.state_ = "playing"
		arg_349_1.curTalkId_ = 411121082
		arg_349_1.duration_ = 5

		SetActive(arg_349_1.tipsGo_, false)

		function arg_349_1.onSingleLineFinish_()
			arg_349_1.onSingleLineUpdate_ = nil
			arg_349_1.onSingleLineFinish_ = nil
			arg_349_1.state_ = "waiting"
		end

		function arg_349_1.playNext_(arg_351_0)
			if arg_351_0 == 1 then
				arg_349_0:Play411121083(arg_349_1)
			end
		end

		function arg_349_1.onSingleLineUpdate_(arg_352_0)
			local var_352_0 = 0
			local var_352_1 = 1.075

			if var_352_0 < arg_349_1.time_ and arg_349_1.time_ <= var_352_0 + arg_352_0 then
				arg_349_1.talkMaxDuration = 0
				arg_349_1.dialogCg_.alpha = 1

				arg_349_1.dialog_:SetActive(true)
				SetActive(arg_349_1.leftNameGo_, false)

				arg_349_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_349_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_349_1:RecordName(arg_349_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_349_1.iconTrs_.gameObject, false)
				arg_349_1.callingController_:SetSelectedState("normal")

				local var_352_2 = arg_349_1:GetWordFromCfg(411121082)
				local var_352_3 = arg_349_1:FormatText(var_352_2.content)

				arg_349_1.text_.text = var_352_3

				LuaForUtil.ClearLinePrefixSymbol(arg_349_1.text_)

				local var_352_4 = 43
				local var_352_5 = utf8.len(var_352_3)
				local var_352_6 = var_352_4 <= 0 and var_352_1 or var_352_1 * (var_352_5 / var_352_4)

				if var_352_6 > 0 and var_352_1 < var_352_6 then
					arg_349_1.talkMaxDuration = var_352_6

					if var_352_6 + var_352_0 > arg_349_1.duration_ then
						arg_349_1.duration_ = var_352_6 + var_352_0
					end
				end

				arg_349_1.text_.text = var_352_3
				arg_349_1.typewritter.percent = 0

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(false)
				arg_349_1:RecordContent(arg_349_1.text_.text)
			end

			local var_352_7 = math.max(var_352_1, arg_349_1.talkMaxDuration)

			if var_352_0 <= arg_349_1.time_ and arg_349_1.time_ < var_352_0 + var_352_7 then
				arg_349_1.typewritter.percent = (arg_349_1.time_ - var_352_0) / var_352_7

				arg_349_1.typewritter:SetDirty()
			end

			if arg_349_1.time_ >= var_352_0 + var_352_7 and arg_349_1.time_ < var_352_0 + var_352_7 + arg_352_0 then
				arg_349_1.typewritter.percent = 1

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(true)
			end
		end
	end,
	Play411121083 = function(arg_353_0, arg_353_1)
		arg_353_1.time_ = 0
		arg_353_1.frameCnt_ = 0
		arg_353_1.state_ = "playing"
		arg_353_1.curTalkId_ = 411121083
		arg_353_1.duration_ = 5

		SetActive(arg_353_1.tipsGo_, false)

		function arg_353_1.onSingleLineFinish_()
			arg_353_1.onSingleLineUpdate_ = nil
			arg_353_1.onSingleLineFinish_ = nil
			arg_353_1.state_ = "waiting"
		end

		function arg_353_1.playNext_(arg_355_0)
			if arg_355_0 == 1 then
				arg_353_0:Play411121084(arg_353_1)
			end
		end

		function arg_353_1.onSingleLineUpdate_(arg_356_0)
			local var_356_0 = 0
			local var_356_1 = 0.45

			if var_356_0 < arg_353_1.time_ and arg_353_1.time_ <= var_356_0 + arg_356_0 then
				arg_353_1.talkMaxDuration = 0
				arg_353_1.dialogCg_.alpha = 1

				arg_353_1.dialog_:SetActive(true)
				SetActive(arg_353_1.leftNameGo_, false)

				arg_353_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_353_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_353_1:RecordName(arg_353_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_353_1.iconTrs_.gameObject, false)
				arg_353_1.callingController_:SetSelectedState("normal")

				local var_356_2 = arg_353_1:GetWordFromCfg(411121083)
				local var_356_3 = arg_353_1:FormatText(var_356_2.content)

				arg_353_1.text_.text = var_356_3

				LuaForUtil.ClearLinePrefixSymbol(arg_353_1.text_)

				local var_356_4 = 18
				local var_356_5 = utf8.len(var_356_3)
				local var_356_6 = var_356_4 <= 0 and var_356_1 or var_356_1 * (var_356_5 / var_356_4)

				if var_356_6 > 0 and var_356_1 < var_356_6 then
					arg_353_1.talkMaxDuration = var_356_6

					if var_356_6 + var_356_0 > arg_353_1.duration_ then
						arg_353_1.duration_ = var_356_6 + var_356_0
					end
				end

				arg_353_1.text_.text = var_356_3
				arg_353_1.typewritter.percent = 0

				arg_353_1.typewritter:SetDirty()
				arg_353_1:ShowNextGo(false)
				arg_353_1:RecordContent(arg_353_1.text_.text)
			end

			local var_356_7 = math.max(var_356_1, arg_353_1.talkMaxDuration)

			if var_356_0 <= arg_353_1.time_ and arg_353_1.time_ < var_356_0 + var_356_7 then
				arg_353_1.typewritter.percent = (arg_353_1.time_ - var_356_0) / var_356_7

				arg_353_1.typewritter:SetDirty()
			end

			if arg_353_1.time_ >= var_356_0 + var_356_7 and arg_353_1.time_ < var_356_0 + var_356_7 + arg_356_0 then
				arg_353_1.typewritter.percent = 1

				arg_353_1.typewritter:SetDirty()
				arg_353_1:ShowNextGo(true)
			end
		end
	end,
	Play411121084 = function(arg_357_0, arg_357_1)
		arg_357_1.time_ = 0
		arg_357_1.frameCnt_ = 0
		arg_357_1.state_ = "playing"
		arg_357_1.curTalkId_ = 411121084
		arg_357_1.duration_ = 1.566

		local var_357_0 = {
			zh = 1.2,
			ja = 1.566
		}
		local var_357_1 = manager.audio:GetLocalizationFlag()

		if var_357_0[var_357_1] ~= nil then
			arg_357_1.duration_ = var_357_0[var_357_1]
		end

		SetActive(arg_357_1.tipsGo_, false)

		function arg_357_1.onSingleLineFinish_()
			arg_357_1.onSingleLineUpdate_ = nil
			arg_357_1.onSingleLineFinish_ = nil
			arg_357_1.state_ = "waiting"
		end

		function arg_357_1.playNext_(arg_359_0)
			if arg_359_0 == 1 then
				arg_357_0:Play411121085(arg_357_1)
			end
		end

		function arg_357_1.onSingleLineUpdate_(arg_360_0)
			local var_360_0 = manager.ui.mainCamera.transform
			local var_360_1 = 0

			if var_360_1 < arg_357_1.time_ and arg_357_1.time_ <= var_360_1 + arg_360_0 then
				arg_357_1.var_.shakeOldPos = var_360_0.localPosition
			end

			local var_360_2 = 0.366666666666667

			if var_360_1 <= arg_357_1.time_ and arg_357_1.time_ < var_360_1 + var_360_2 then
				local var_360_3 = (arg_357_1.time_ - var_360_1) / 0.066
				local var_360_4, var_360_5 = math.modf(var_360_3)

				var_360_0.localPosition = Vector3.New(var_360_5 * 0.13, var_360_5 * 0.13, var_360_5 * 0.13) + arg_357_1.var_.shakeOldPos
			end

			if arg_357_1.time_ >= var_360_1 + var_360_2 and arg_357_1.time_ < var_360_1 + var_360_2 + arg_360_0 then
				var_360_0.localPosition = arg_357_1.var_.shakeOldPos
			end

			local var_360_6 = 0

			if var_360_6 < arg_357_1.time_ and arg_357_1.time_ <= var_360_6 + arg_360_0 then
				arg_357_1.allBtn_.enabled = false
			end

			local var_360_7 = 0.366666666666667

			if arg_357_1.time_ >= var_360_6 + var_360_7 and arg_357_1.time_ < var_360_6 + var_360_7 + arg_360_0 then
				arg_357_1.allBtn_.enabled = true
			end

			local var_360_8 = 0
			local var_360_9 = 0.125

			if var_360_8 < arg_357_1.time_ and arg_357_1.time_ <= var_360_8 + arg_360_0 then
				arg_357_1.talkMaxDuration = 0
				arg_357_1.dialogCg_.alpha = 1

				arg_357_1.dialog_:SetActive(true)
				SetActive(arg_357_1.leftNameGo_, true)

				local var_360_10 = arg_357_1:FormatText(StoryNameCfg[471].name)

				arg_357_1.leftNameTxt_.text = var_360_10

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_357_1.leftNameTxt_.transform)

				arg_357_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_357_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_357_1:RecordName(arg_357_1.leftNameTxt_.text)
				SetActive(arg_357_1.iconTrs_.gameObject, true)
				arg_357_1.iconController_:SetSelectedState("hero")

				arg_357_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_357_1.callingController_:SetSelectedState("normal")

				local var_360_11 = arg_357_1:GetWordFromCfg(411121084)
				local var_360_12 = arg_357_1:FormatText(var_360_11.content)

				arg_357_1.text_.text = var_360_12

				LuaForUtil.ClearLinePrefixSymbol(arg_357_1.text_)

				local var_360_13 = 5
				local var_360_14 = utf8.len(var_360_12)
				local var_360_15 = var_360_13 <= 0 and var_360_9 or var_360_9 * (var_360_14 / var_360_13)

				if var_360_15 > 0 and var_360_9 < var_360_15 then
					arg_357_1.talkMaxDuration = var_360_15

					if var_360_15 + var_360_8 > arg_357_1.duration_ then
						arg_357_1.duration_ = var_360_15 + var_360_8
					end
				end

				arg_357_1.text_.text = var_360_12
				arg_357_1.typewritter.percent = 0

				arg_357_1.typewritter:SetDirty()
				arg_357_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121084", "story_v_out_411121.awb") ~= 0 then
					local var_360_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121084", "story_v_out_411121.awb") / 1000

					if var_360_16 + var_360_8 > arg_357_1.duration_ then
						arg_357_1.duration_ = var_360_16 + var_360_8
					end

					if var_360_11.prefab_name ~= "" and arg_357_1.actors_[var_360_11.prefab_name] ~= nil then
						local var_360_17 = LuaForUtil.PlayVoiceWithCriLipsync(arg_357_1.actors_[var_360_11.prefab_name].transform, "story_v_out_411121", "411121084", "story_v_out_411121.awb")

						arg_357_1:RecordAudio("411121084", var_360_17)
						arg_357_1:RecordAudio("411121084", var_360_17)
					else
						arg_357_1:AudioAction("play", "voice", "story_v_out_411121", "411121084", "story_v_out_411121.awb")
					end

					arg_357_1:RecordHistoryTalkVoice("story_v_out_411121", "411121084", "story_v_out_411121.awb")
				end

				arg_357_1:RecordContent(arg_357_1.text_.text)
			end

			local var_360_18 = math.max(var_360_9, arg_357_1.talkMaxDuration)

			if var_360_8 <= arg_357_1.time_ and arg_357_1.time_ < var_360_8 + var_360_18 then
				arg_357_1.typewritter.percent = (arg_357_1.time_ - var_360_8) / var_360_18

				arg_357_1.typewritter:SetDirty()
			end

			if arg_357_1.time_ >= var_360_8 + var_360_18 and arg_357_1.time_ < var_360_8 + var_360_18 + arg_360_0 then
				arg_357_1.typewritter.percent = 1

				arg_357_1.typewritter:SetDirty()
				arg_357_1:ShowNextGo(true)
			end
		end
	end,
	Play411121085 = function(arg_361_0, arg_361_1)
		arg_361_1.time_ = 0
		arg_361_1.frameCnt_ = 0
		arg_361_1.state_ = "playing"
		arg_361_1.curTalkId_ = 411121085
		arg_361_1.duration_ = 7.1

		SetActive(arg_361_1.tipsGo_, false)

		function arg_361_1.onSingleLineFinish_()
			arg_361_1.onSingleLineUpdate_ = nil
			arg_361_1.onSingleLineFinish_ = nil
			arg_361_1.state_ = "waiting"
		end

		function arg_361_1.playNext_(arg_363_0)
			if arg_363_0 == 1 then
				arg_361_0:Play411121086(arg_361_1)
			end
		end

		function arg_361_1.onSingleLineUpdate_(arg_364_0)
			local var_364_0 = arg_361_1.actors_["1095ui_story"]
			local var_364_1 = 0

			if var_364_1 < arg_361_1.time_ and arg_361_1.time_ <= var_364_1 + arg_364_0 and arg_361_1.var_.characterEffect1095ui_story == nil then
				arg_361_1.var_.characterEffect1095ui_story = var_364_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_364_2 = 0.200000002980232

			if var_364_1 <= arg_361_1.time_ and arg_361_1.time_ < var_364_1 + var_364_2 then
				local var_364_3 = (arg_361_1.time_ - var_364_1) / var_364_2

				if arg_361_1.var_.characterEffect1095ui_story then
					local var_364_4 = Mathf.Lerp(0, 0.5, var_364_3)

					arg_361_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_361_1.var_.characterEffect1095ui_story.fillRatio = var_364_4
				end
			end

			if arg_361_1.time_ >= var_364_1 + var_364_2 and arg_361_1.time_ < var_364_1 + var_364_2 + arg_364_0 and arg_361_1.var_.characterEffect1095ui_story then
				local var_364_5 = 0.5

				arg_361_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_361_1.var_.characterEffect1095ui_story.fillRatio = var_364_5
			end

			local var_364_6 = arg_361_1.bgs_.ST71a.transform
			local var_364_7 = 0

			if var_364_7 < arg_361_1.time_ and arg_361_1.time_ <= var_364_7 + arg_364_0 then
				arg_361_1.var_.moveOldPosST71a = var_364_6.localPosition
			end

			local var_364_8 = 2.1

			if var_364_7 <= arg_361_1.time_ and arg_361_1.time_ < var_364_7 + var_364_8 then
				local var_364_9 = (arg_361_1.time_ - var_364_7) / var_364_8
				local var_364_10 = Vector3.New(0, 1, 10)

				var_364_6.localPosition = Vector3.Lerp(arg_361_1.var_.moveOldPosST71a, var_364_10, var_364_9)
			end

			if arg_361_1.time_ >= var_364_7 + var_364_8 and arg_361_1.time_ < var_364_7 + var_364_8 + arg_364_0 then
				var_364_6.localPosition = Vector3.New(0, 1, 10)
			end

			local var_364_11 = 0

			if var_364_11 < arg_361_1.time_ and arg_361_1.time_ <= var_364_11 + arg_364_0 then
				arg_361_1.allBtn_.enabled = false
			end

			local var_364_12 = 2.1

			if arg_361_1.time_ >= var_364_11 + var_364_12 and arg_361_1.time_ < var_364_11 + var_364_12 + arg_364_0 then
				arg_361_1.allBtn_.enabled = true
			end

			if arg_361_1.frameCnt_ <= 1 then
				arg_361_1.dialog_:SetActive(false)
			end

			local var_364_13 = 2.1
			local var_364_14 = 0.5

			if var_364_13 < arg_361_1.time_ and arg_361_1.time_ <= var_364_13 + arg_364_0 then
				arg_361_1.talkMaxDuration = 0

				arg_361_1.dialog_:SetActive(true)

				local var_364_15 = LeanTween.value(arg_361_1.dialog_, 0, 1, 0.3)

				var_364_15:setOnUpdate(LuaHelper.FloatAction(function(arg_365_0)
					arg_361_1.dialogCg_.alpha = arg_365_0
				end))
				var_364_15:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_361_1.dialog_)
					var_364_15:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_361_1.duration_ = arg_361_1.duration_ + 0.3

				SetActive(arg_361_1.leftNameGo_, false)

				arg_361_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_361_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_361_1:RecordName(arg_361_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_361_1.iconTrs_.gameObject, false)
				arg_361_1.callingController_:SetSelectedState("normal")

				local var_364_16 = arg_361_1:GetWordFromCfg(411121085)
				local var_364_17 = arg_361_1:FormatText(var_364_16.content)

				arg_361_1.text_.text = var_364_17

				LuaForUtil.ClearLinePrefixSymbol(arg_361_1.text_)

				local var_364_18 = 20
				local var_364_19 = utf8.len(var_364_17)
				local var_364_20 = var_364_18 <= 0 and var_364_14 or var_364_14 * (var_364_19 / var_364_18)

				if var_364_20 > 0 and var_364_14 < var_364_20 then
					arg_361_1.talkMaxDuration = var_364_20
					var_364_13 = var_364_13 + 0.3

					if var_364_20 + var_364_13 > arg_361_1.duration_ then
						arg_361_1.duration_ = var_364_20 + var_364_13
					end
				end

				arg_361_1.text_.text = var_364_17
				arg_361_1.typewritter.percent = 0

				arg_361_1.typewritter:SetDirty()
				arg_361_1:ShowNextGo(false)
				arg_361_1:RecordContent(arg_361_1.text_.text)
			end

			local var_364_21 = var_364_13 + 0.3
			local var_364_22 = math.max(var_364_14, arg_361_1.talkMaxDuration)

			if var_364_21 <= arg_361_1.time_ and arg_361_1.time_ < var_364_21 + var_364_22 then
				arg_361_1.typewritter.percent = (arg_361_1.time_ - var_364_21) / var_364_22

				arg_361_1.typewritter:SetDirty()
			end

			if arg_361_1.time_ >= var_364_21 + var_364_22 and arg_361_1.time_ < var_364_21 + var_364_22 + arg_364_0 then
				arg_361_1.typewritter.percent = 1

				arg_361_1.typewritter:SetDirty()
				arg_361_1:ShowNextGo(true)
			end
		end
	end,
	Play411121086 = function(arg_367_0, arg_367_1)
		arg_367_1.time_ = 0
		arg_367_1.frameCnt_ = 0
		arg_367_1.state_ = "playing"
		arg_367_1.curTalkId_ = 411121086
		arg_367_1.duration_ = 1.999999999999

		SetActive(arg_367_1.tipsGo_, false)

		function arg_367_1.onSingleLineFinish_()
			arg_367_1.onSingleLineUpdate_ = nil
			arg_367_1.onSingleLineFinish_ = nil
			arg_367_1.state_ = "waiting"
		end

		function arg_367_1.playNext_(arg_369_0)
			if arg_369_0 == 1 then
				arg_367_0:Play411121087(arg_367_1)
			end
		end

		function arg_367_1.onSingleLineUpdate_(arg_370_0)
			local var_370_0 = arg_367_1.actors_["1095ui_story"].transform
			local var_370_1 = 0

			if var_370_1 < arg_367_1.time_ and arg_367_1.time_ <= var_370_1 + arg_370_0 then
				arg_367_1.var_.moveOldPos1095ui_story = var_370_0.localPosition
			end

			local var_370_2 = 0.001

			if var_370_1 <= arg_367_1.time_ and arg_367_1.time_ < var_370_1 + var_370_2 then
				local var_370_3 = (arg_367_1.time_ - var_370_1) / var_370_2
				local var_370_4 = Vector3.New(0, -0.98, -6.1)

				var_370_0.localPosition = Vector3.Lerp(arg_367_1.var_.moveOldPos1095ui_story, var_370_4, var_370_3)

				local var_370_5 = manager.ui.mainCamera.transform.position - var_370_0.position

				var_370_0.forward = Vector3.New(var_370_5.x, var_370_5.y, var_370_5.z)

				local var_370_6 = var_370_0.localEulerAngles

				var_370_6.z = 0
				var_370_6.x = 0
				var_370_0.localEulerAngles = var_370_6
			end

			if arg_367_1.time_ >= var_370_1 + var_370_2 and arg_367_1.time_ < var_370_1 + var_370_2 + arg_370_0 then
				var_370_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_370_7 = manager.ui.mainCamera.transform.position - var_370_0.position

				var_370_0.forward = Vector3.New(var_370_7.x, var_370_7.y, var_370_7.z)

				local var_370_8 = var_370_0.localEulerAngles

				var_370_8.z = 0
				var_370_8.x = 0
				var_370_0.localEulerAngles = var_370_8
			end

			local var_370_9 = arg_367_1.actors_["1095ui_story"]
			local var_370_10 = 0

			if var_370_10 < arg_367_1.time_ and arg_367_1.time_ <= var_370_10 + arg_370_0 and arg_367_1.var_.characterEffect1095ui_story == nil then
				arg_367_1.var_.characterEffect1095ui_story = var_370_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_370_11 = 0.200000002980232

			if var_370_10 <= arg_367_1.time_ and arg_367_1.time_ < var_370_10 + var_370_11 then
				local var_370_12 = (arg_367_1.time_ - var_370_10) / var_370_11

				if arg_367_1.var_.characterEffect1095ui_story then
					arg_367_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_367_1.time_ >= var_370_10 + var_370_11 and arg_367_1.time_ < var_370_10 + var_370_11 + arg_370_0 and arg_367_1.var_.characterEffect1095ui_story then
				arg_367_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_370_13 = 0

			if var_370_13 < arg_367_1.time_ and arg_367_1.time_ <= var_370_13 + arg_370_0 then
				arg_367_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_370_14 = 0

			if var_370_14 < arg_367_1.time_ and arg_367_1.time_ <= var_370_14 + arg_370_0 then
				arg_367_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_370_15 = 0

			if var_370_15 < arg_367_1.time_ and arg_367_1.time_ <= var_370_15 + arg_370_0 then
				arg_367_1.mask_.enabled = true
				arg_367_1.mask_.raycastTarget = true

				arg_367_1:SetGaussion(false)
			end

			local var_370_16 = 0.6

			if var_370_15 <= arg_367_1.time_ and arg_367_1.time_ < var_370_15 + var_370_16 then
				local var_370_17 = (arg_367_1.time_ - var_370_15) / var_370_16
				local var_370_18 = Color.New(1, 1, 1)

				var_370_18.a = Mathf.Lerp(1, 0, var_370_17)
				arg_367_1.mask_.color = var_370_18
			end

			if arg_367_1.time_ >= var_370_15 + var_370_16 and arg_367_1.time_ < var_370_15 + var_370_16 + arg_370_0 then
				local var_370_19 = Color.New(1, 1, 1)
				local var_370_20 = 0

				arg_367_1.mask_.enabled = false
				var_370_19.a = var_370_20
				arg_367_1.mask_.color = var_370_19
			end

			local var_370_21 = 0

			if var_370_21 < arg_367_1.time_ and arg_367_1.time_ <= var_370_21 + arg_370_0 then
				arg_367_1.screenFilterGo_:SetActive(false)
			end

			local var_370_22 = 0.2

			if var_370_21 <= arg_367_1.time_ and arg_367_1.time_ < var_370_21 + var_370_22 then
				local var_370_23 = (arg_367_1.time_ - var_370_21) / var_370_22

				arg_367_1.screenFilterEffect_.weight = Mathf.Lerp(1, 0, var_370_23)
			end

			if arg_367_1.time_ >= var_370_21 + var_370_22 and arg_367_1.time_ < var_370_21 + var_370_22 + arg_370_0 then
				arg_367_1.screenFilterEffect_.weight = 0
			end

			local var_370_24 = 0
			local var_370_25 = 0.175

			if var_370_24 < arg_367_1.time_ and arg_367_1.time_ <= var_370_24 + arg_370_0 then
				arg_367_1.talkMaxDuration = 0
				arg_367_1.dialogCg_.alpha = 1

				arg_367_1.dialog_:SetActive(true)
				SetActive(arg_367_1.leftNameGo_, true)

				local var_370_26 = arg_367_1:FormatText(StoryNameCfg[471].name)

				arg_367_1.leftNameTxt_.text = var_370_26

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_367_1.leftNameTxt_.transform)

				arg_367_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_367_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_367_1:RecordName(arg_367_1.leftNameTxt_.text)
				SetActive(arg_367_1.iconTrs_.gameObject, false)
				arg_367_1.callingController_:SetSelectedState("normal")

				local var_370_27 = arg_367_1:GetWordFromCfg(411121086)
				local var_370_28 = arg_367_1:FormatText(var_370_27.content)

				arg_367_1.text_.text = var_370_28

				LuaForUtil.ClearLinePrefixSymbol(arg_367_1.text_)

				local var_370_29 = 7
				local var_370_30 = utf8.len(var_370_28)
				local var_370_31 = var_370_29 <= 0 and var_370_25 or var_370_25 * (var_370_30 / var_370_29)

				if var_370_31 > 0 and var_370_25 < var_370_31 then
					arg_367_1.talkMaxDuration = var_370_31

					if var_370_31 + var_370_24 > arg_367_1.duration_ then
						arg_367_1.duration_ = var_370_31 + var_370_24
					end
				end

				arg_367_1.text_.text = var_370_28
				arg_367_1.typewritter.percent = 0

				arg_367_1.typewritter:SetDirty()
				arg_367_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121086", "story_v_out_411121.awb") ~= 0 then
					local var_370_32 = manager.audio:GetVoiceLength("story_v_out_411121", "411121086", "story_v_out_411121.awb") / 1000

					if var_370_32 + var_370_24 > arg_367_1.duration_ then
						arg_367_1.duration_ = var_370_32 + var_370_24
					end

					if var_370_27.prefab_name ~= "" and arg_367_1.actors_[var_370_27.prefab_name] ~= nil then
						local var_370_33 = LuaForUtil.PlayVoiceWithCriLipsync(arg_367_1.actors_[var_370_27.prefab_name].transform, "story_v_out_411121", "411121086", "story_v_out_411121.awb")

						arg_367_1:RecordAudio("411121086", var_370_33)
						arg_367_1:RecordAudio("411121086", var_370_33)
					else
						arg_367_1:AudioAction("play", "voice", "story_v_out_411121", "411121086", "story_v_out_411121.awb")
					end

					arg_367_1:RecordHistoryTalkVoice("story_v_out_411121", "411121086", "story_v_out_411121.awb")
				end

				arg_367_1:RecordContent(arg_367_1.text_.text)
			end

			local var_370_34 = math.max(var_370_25, arg_367_1.talkMaxDuration)

			if var_370_24 <= arg_367_1.time_ and arg_367_1.time_ < var_370_24 + var_370_34 then
				arg_367_1.typewritter.percent = (arg_367_1.time_ - var_370_24) / var_370_34

				arg_367_1.typewritter:SetDirty()
			end

			if arg_367_1.time_ >= var_370_24 + var_370_34 and arg_367_1.time_ < var_370_24 + var_370_34 + arg_370_0 then
				arg_367_1.typewritter.percent = 1

				arg_367_1.typewritter:SetDirty()
				arg_367_1:ShowNextGo(true)
			end
		end
	end,
	Play411121087 = function(arg_371_0, arg_371_1)
		arg_371_1.time_ = 0
		arg_371_1.frameCnt_ = 0
		arg_371_1.state_ = "playing"
		arg_371_1.curTalkId_ = 411121087
		arg_371_1.duration_ = 9

		SetActive(arg_371_1.tipsGo_, false)

		function arg_371_1.onSingleLineFinish_()
			arg_371_1.onSingleLineUpdate_ = nil
			arg_371_1.onSingleLineFinish_ = nil
			arg_371_1.state_ = "waiting"
		end

		function arg_371_1.playNext_(arg_373_0)
			if arg_373_0 == 1 then
				arg_371_0:Play411121088(arg_371_1)
			end
		end

		function arg_371_1.onSingleLineUpdate_(arg_374_0)
			local var_374_0 = 2

			if var_374_0 < arg_371_1.time_ and arg_371_1.time_ <= var_374_0 + arg_374_0 then
				local var_374_1 = manager.ui.mainCamera.transform.localPosition
				local var_374_2 = Vector3.New(0, 0, 10) + Vector3.New(var_374_1.x, var_374_1.y, 0)
				local var_374_3 = arg_371_1.bgs_.ST71a

				var_374_3.transform.localPosition = var_374_2
				var_374_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_374_4 = var_374_3:GetComponent("SpriteRenderer")

				if var_374_4 and var_374_4.sprite then
					local var_374_5 = (var_374_3.transform.localPosition - var_374_1).z
					local var_374_6 = manager.ui.mainCameraCom_
					local var_374_7 = 2 * var_374_5 * Mathf.Tan(var_374_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_374_8 = var_374_7 * var_374_6.aspect
					local var_374_9 = var_374_4.sprite.bounds.size.x
					local var_374_10 = var_374_4.sprite.bounds.size.y
					local var_374_11 = var_374_8 / var_374_9
					local var_374_12 = var_374_7 / var_374_10
					local var_374_13 = var_374_12 < var_374_11 and var_374_11 or var_374_12

					var_374_3.transform.localScale = Vector3.New(var_374_13, var_374_13, 0)
				end

				for iter_374_0, iter_374_1 in pairs(arg_371_1.bgs_) do
					if iter_374_0 ~= "ST71a" then
						iter_374_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_374_14 = 0

			if var_374_14 < arg_371_1.time_ and arg_371_1.time_ <= var_374_14 + arg_374_0 then
				local var_374_15 = manager.ui.mainCamera.transform.localPosition
				local var_374_16 = Vector3.New(0, 0, 10) + Vector3.New(var_374_15.x, var_374_15.y, 0)
				local var_374_17 = arg_371_1.bgs_.ST71a

				var_374_17.transform.localPosition = var_374_16
				var_374_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_374_18 = var_374_17:GetComponent("SpriteRenderer")

				if var_374_18 and var_374_18.sprite then
					local var_374_19 = (var_374_17.transform.localPosition - var_374_15).z
					local var_374_20 = manager.ui.mainCameraCom_
					local var_374_21 = 2 * var_374_19 * Mathf.Tan(var_374_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_374_22 = var_374_21 * var_374_20.aspect
					local var_374_23 = var_374_18.sprite.bounds.size.x
					local var_374_24 = var_374_18.sprite.bounds.size.y
					local var_374_25 = var_374_22 / var_374_23
					local var_374_26 = var_374_21 / var_374_24
					local var_374_27 = var_374_26 < var_374_25 and var_374_25 or var_374_26

					var_374_17.transform.localScale = Vector3.New(var_374_27, var_374_27, 0)
				end

				for iter_374_2, iter_374_3 in pairs(arg_371_1.bgs_) do
					if iter_374_2 ~= "ST71a" then
						iter_374_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_374_28 = 0

			if var_374_28 < arg_371_1.time_ and arg_371_1.time_ <= var_374_28 + arg_374_0 then
				arg_371_1.mask_.enabled = true
				arg_371_1.mask_.raycastTarget = true

				arg_371_1:SetGaussion(false)
			end

			local var_374_29 = 2

			if var_374_28 <= arg_371_1.time_ and arg_371_1.time_ < var_374_28 + var_374_29 then
				local var_374_30 = (arg_371_1.time_ - var_374_28) / var_374_29
				local var_374_31 = Color.New(0, 0, 0)

				var_374_31.a = Mathf.Lerp(0, 1, var_374_30)
				arg_371_1.mask_.color = var_374_31
			end

			if arg_371_1.time_ >= var_374_28 + var_374_29 and arg_371_1.time_ < var_374_28 + var_374_29 + arg_374_0 then
				local var_374_32 = Color.New(0, 0, 0)

				var_374_32.a = 1
				arg_371_1.mask_.color = var_374_32
			end

			local var_374_33 = 2

			if var_374_33 < arg_371_1.time_ and arg_371_1.time_ <= var_374_33 + arg_374_0 then
				arg_371_1.mask_.enabled = true
				arg_371_1.mask_.raycastTarget = true

				arg_371_1:SetGaussion(false)
			end

			local var_374_34 = 2

			if var_374_33 <= arg_371_1.time_ and arg_371_1.time_ < var_374_33 + var_374_34 then
				local var_374_35 = (arg_371_1.time_ - var_374_33) / var_374_34
				local var_374_36 = Color.New(0, 0, 0)

				var_374_36.a = Mathf.Lerp(1, 0, var_374_35)
				arg_371_1.mask_.color = var_374_36
			end

			if arg_371_1.time_ >= var_374_33 + var_374_34 and arg_371_1.time_ < var_374_33 + var_374_34 + arg_374_0 then
				local var_374_37 = Color.New(0, 0, 0)
				local var_374_38 = 0

				arg_371_1.mask_.enabled = false
				var_374_37.a = var_374_38
				arg_371_1.mask_.color = var_374_37
			end

			local var_374_39 = arg_371_1.actors_["1095ui_story"].transform
			local var_374_40 = 1.96599999815226

			if var_374_40 < arg_371_1.time_ and arg_371_1.time_ <= var_374_40 + arg_374_0 then
				arg_371_1.var_.moveOldPos1095ui_story = var_374_39.localPosition
			end

			local var_374_41 = 0.001

			if var_374_40 <= arg_371_1.time_ and arg_371_1.time_ < var_374_40 + var_374_41 then
				local var_374_42 = (arg_371_1.time_ - var_374_40) / var_374_41
				local var_374_43 = Vector3.New(0, 100, 0)

				var_374_39.localPosition = Vector3.Lerp(arg_371_1.var_.moveOldPos1095ui_story, var_374_43, var_374_42)

				local var_374_44 = manager.ui.mainCamera.transform.position - var_374_39.position

				var_374_39.forward = Vector3.New(var_374_44.x, var_374_44.y, var_374_44.z)

				local var_374_45 = var_374_39.localEulerAngles

				var_374_45.z = 0
				var_374_45.x = 0
				var_374_39.localEulerAngles = var_374_45
			end

			if arg_371_1.time_ >= var_374_40 + var_374_41 and arg_371_1.time_ < var_374_40 + var_374_41 + arg_374_0 then
				var_374_39.localPosition = Vector3.New(0, 100, 0)

				local var_374_46 = manager.ui.mainCamera.transform.position - var_374_39.position

				var_374_39.forward = Vector3.New(var_374_46.x, var_374_46.y, var_374_46.z)

				local var_374_47 = var_374_39.localEulerAngles

				var_374_47.z = 0
				var_374_47.x = 0
				var_374_39.localEulerAngles = var_374_47
			end

			if arg_371_1.frameCnt_ <= 1 then
				arg_371_1.dialog_:SetActive(false)
			end

			local var_374_48 = 4
			local var_374_49 = 0.9

			if var_374_48 < arg_371_1.time_ and arg_371_1.time_ <= var_374_48 + arg_374_0 then
				arg_371_1.talkMaxDuration = 0

				arg_371_1.dialog_:SetActive(true)

				local var_374_50 = LeanTween.value(arg_371_1.dialog_, 0, 1, 0.3)

				var_374_50:setOnUpdate(LuaHelper.FloatAction(function(arg_375_0)
					arg_371_1.dialogCg_.alpha = arg_375_0
				end))
				var_374_50:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_371_1.dialog_)
					var_374_50:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_371_1.duration_ = arg_371_1.duration_ + 0.3

				SetActive(arg_371_1.leftNameGo_, false)

				arg_371_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_371_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_371_1:RecordName(arg_371_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_371_1.iconTrs_.gameObject, false)
				arg_371_1.callingController_:SetSelectedState("normal")

				local var_374_51 = arg_371_1:GetWordFromCfg(411121087)
				local var_374_52 = arg_371_1:FormatText(var_374_51.content)

				arg_371_1.text_.text = var_374_52

				LuaForUtil.ClearLinePrefixSymbol(arg_371_1.text_)

				local var_374_53 = 36
				local var_374_54 = utf8.len(var_374_52)
				local var_374_55 = var_374_53 <= 0 and var_374_49 or var_374_49 * (var_374_54 / var_374_53)

				if var_374_55 > 0 and var_374_49 < var_374_55 then
					arg_371_1.talkMaxDuration = var_374_55
					var_374_48 = var_374_48 + 0.3

					if var_374_55 + var_374_48 > arg_371_1.duration_ then
						arg_371_1.duration_ = var_374_55 + var_374_48
					end
				end

				arg_371_1.text_.text = var_374_52
				arg_371_1.typewritter.percent = 0

				arg_371_1.typewritter:SetDirty()
				arg_371_1:ShowNextGo(false)
				arg_371_1:RecordContent(arg_371_1.text_.text)
			end

			local var_374_56 = var_374_48 + 0.3
			local var_374_57 = math.max(var_374_49, arg_371_1.talkMaxDuration)

			if var_374_56 <= arg_371_1.time_ and arg_371_1.time_ < var_374_56 + var_374_57 then
				arg_371_1.typewritter.percent = (arg_371_1.time_ - var_374_56) / var_374_57

				arg_371_1.typewritter:SetDirty()
			end

			if arg_371_1.time_ >= var_374_56 + var_374_57 and arg_371_1.time_ < var_374_56 + var_374_57 + arg_374_0 then
				arg_371_1.typewritter.percent = 1

				arg_371_1.typewritter:SetDirty()
				arg_371_1:ShowNextGo(true)
			end
		end
	end,
	Play411121088 = function(arg_377_0, arg_377_1)
		arg_377_1.time_ = 0
		arg_377_1.frameCnt_ = 0
		arg_377_1.state_ = "playing"
		arg_377_1.curTalkId_ = 411121088
		arg_377_1.duration_ = 5

		SetActive(arg_377_1.tipsGo_, false)

		function arg_377_1.onSingleLineFinish_()
			arg_377_1.onSingleLineUpdate_ = nil
			arg_377_1.onSingleLineFinish_ = nil
			arg_377_1.state_ = "waiting"
		end

		function arg_377_1.playNext_(arg_379_0)
			if arg_379_0 == 1 then
				arg_377_0:Play411121089(arg_377_1)
			end
		end

		function arg_377_1.onSingleLineUpdate_(arg_380_0)
			local var_380_0 = 0
			local var_380_1 = 0.125

			if var_380_0 < arg_377_1.time_ and arg_377_1.time_ <= var_380_0 + arg_380_0 then
				arg_377_1.talkMaxDuration = 0
				arg_377_1.dialogCg_.alpha = 1

				arg_377_1.dialog_:SetActive(true)
				SetActive(arg_377_1.leftNameGo_, false)

				arg_377_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_377_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_377_1:RecordName(arg_377_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_377_1.iconTrs_.gameObject, false)
				arg_377_1.callingController_:SetSelectedState("normal")

				local var_380_2 = arg_377_1:GetWordFromCfg(411121088)
				local var_380_3 = arg_377_1:FormatText(var_380_2.content)

				arg_377_1.text_.text = var_380_3

				LuaForUtil.ClearLinePrefixSymbol(arg_377_1.text_)

				local var_380_4 = 5
				local var_380_5 = utf8.len(var_380_3)
				local var_380_6 = var_380_4 <= 0 and var_380_1 or var_380_1 * (var_380_5 / var_380_4)

				if var_380_6 > 0 and var_380_1 < var_380_6 then
					arg_377_1.talkMaxDuration = var_380_6

					if var_380_6 + var_380_0 > arg_377_1.duration_ then
						arg_377_1.duration_ = var_380_6 + var_380_0
					end
				end

				arg_377_1.text_.text = var_380_3
				arg_377_1.typewritter.percent = 0

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(false)
				arg_377_1:RecordContent(arg_377_1.text_.text)
			end

			local var_380_7 = math.max(var_380_1, arg_377_1.talkMaxDuration)

			if var_380_0 <= arg_377_1.time_ and arg_377_1.time_ < var_380_0 + var_380_7 then
				arg_377_1.typewritter.percent = (arg_377_1.time_ - var_380_0) / var_380_7

				arg_377_1.typewritter:SetDirty()
			end

			if arg_377_1.time_ >= var_380_0 + var_380_7 and arg_377_1.time_ < var_380_0 + var_380_7 + arg_380_0 then
				arg_377_1.typewritter.percent = 1

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(true)
			end
		end
	end,
	Play411121089 = function(arg_381_0, arg_381_1)
		arg_381_1.time_ = 0
		arg_381_1.frameCnt_ = 0
		arg_381_1.state_ = "playing"
		arg_381_1.curTalkId_ = 411121089
		arg_381_1.duration_ = 5

		SetActive(arg_381_1.tipsGo_, false)

		function arg_381_1.onSingleLineFinish_()
			arg_381_1.onSingleLineUpdate_ = nil
			arg_381_1.onSingleLineFinish_ = nil
			arg_381_1.state_ = "waiting"
		end

		function arg_381_1.playNext_(arg_383_0)
			if arg_383_0 == 1 then
				arg_381_0:Play411121090(arg_381_1)
			end
		end

		function arg_381_1.onSingleLineUpdate_(arg_384_0)
			local var_384_0 = 0
			local var_384_1 = 0.25

			if var_384_0 < arg_381_1.time_ and arg_381_1.time_ <= var_384_0 + arg_384_0 then
				arg_381_1.talkMaxDuration = 0
				arg_381_1.dialogCg_.alpha = 1

				arg_381_1.dialog_:SetActive(true)
				SetActive(arg_381_1.leftNameGo_, false)

				arg_381_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_381_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_381_1:RecordName(arg_381_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_381_1.iconTrs_.gameObject, false)
				arg_381_1.callingController_:SetSelectedState("normal")

				local var_384_2 = arg_381_1:GetWordFromCfg(411121089)
				local var_384_3 = arg_381_1:FormatText(var_384_2.content)

				arg_381_1.text_.text = var_384_3

				LuaForUtil.ClearLinePrefixSymbol(arg_381_1.text_)

				local var_384_4 = 10
				local var_384_5 = utf8.len(var_384_3)
				local var_384_6 = var_384_4 <= 0 and var_384_1 or var_384_1 * (var_384_5 / var_384_4)

				if var_384_6 > 0 and var_384_1 < var_384_6 then
					arg_381_1.talkMaxDuration = var_384_6

					if var_384_6 + var_384_0 > arg_381_1.duration_ then
						arg_381_1.duration_ = var_384_6 + var_384_0
					end
				end

				arg_381_1.text_.text = var_384_3
				arg_381_1.typewritter.percent = 0

				arg_381_1.typewritter:SetDirty()
				arg_381_1:ShowNextGo(false)
				arg_381_1:RecordContent(arg_381_1.text_.text)
			end

			local var_384_7 = math.max(var_384_1, arg_381_1.talkMaxDuration)

			if var_384_0 <= arg_381_1.time_ and arg_381_1.time_ < var_384_0 + var_384_7 then
				arg_381_1.typewritter.percent = (arg_381_1.time_ - var_384_0) / var_384_7

				arg_381_1.typewritter:SetDirty()
			end

			if arg_381_1.time_ >= var_384_0 + var_384_7 and arg_381_1.time_ < var_384_0 + var_384_7 + arg_384_0 then
				arg_381_1.typewritter.percent = 1

				arg_381_1.typewritter:SetDirty()
				arg_381_1:ShowNextGo(true)
			end
		end
	end,
	Play411121090 = function(arg_385_0, arg_385_1)
		arg_385_1.time_ = 0
		arg_385_1.frameCnt_ = 0
		arg_385_1.state_ = "playing"
		arg_385_1.curTalkId_ = 411121090
		arg_385_1.duration_ = 5

		SetActive(arg_385_1.tipsGo_, false)

		function arg_385_1.onSingleLineFinish_()
			arg_385_1.onSingleLineUpdate_ = nil
			arg_385_1.onSingleLineFinish_ = nil
			arg_385_1.state_ = "waiting"
		end

		function arg_385_1.playNext_(arg_387_0)
			if arg_387_0 == 1 then
				arg_385_0:Play411121091(arg_385_1)
			end
		end

		function arg_385_1.onSingleLineUpdate_(arg_388_0)
			local var_388_0 = 0
			local var_388_1 = 0.65

			if var_388_0 < arg_385_1.time_ and arg_385_1.time_ <= var_388_0 + arg_388_0 then
				arg_385_1.talkMaxDuration = 0
				arg_385_1.dialogCg_.alpha = 1

				arg_385_1.dialog_:SetActive(true)
				SetActive(arg_385_1.leftNameGo_, false)

				arg_385_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_385_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_385_1:RecordName(arg_385_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_385_1.iconTrs_.gameObject, false)
				arg_385_1.callingController_:SetSelectedState("normal")

				local var_388_2 = arg_385_1:GetWordFromCfg(411121090)
				local var_388_3 = arg_385_1:FormatText(var_388_2.content)

				arg_385_1.text_.text = var_388_3

				LuaForUtil.ClearLinePrefixSymbol(arg_385_1.text_)

				local var_388_4 = 26
				local var_388_5 = utf8.len(var_388_3)
				local var_388_6 = var_388_4 <= 0 and var_388_1 or var_388_1 * (var_388_5 / var_388_4)

				if var_388_6 > 0 and var_388_1 < var_388_6 then
					arg_385_1.talkMaxDuration = var_388_6

					if var_388_6 + var_388_0 > arg_385_1.duration_ then
						arg_385_1.duration_ = var_388_6 + var_388_0
					end
				end

				arg_385_1.text_.text = var_388_3
				arg_385_1.typewritter.percent = 0

				arg_385_1.typewritter:SetDirty()
				arg_385_1:ShowNextGo(false)
				arg_385_1:RecordContent(arg_385_1.text_.text)
			end

			local var_388_7 = math.max(var_388_1, arg_385_1.talkMaxDuration)

			if var_388_0 <= arg_385_1.time_ and arg_385_1.time_ < var_388_0 + var_388_7 then
				arg_385_1.typewritter.percent = (arg_385_1.time_ - var_388_0) / var_388_7

				arg_385_1.typewritter:SetDirty()
			end

			if arg_385_1.time_ >= var_388_0 + var_388_7 and arg_385_1.time_ < var_388_0 + var_388_7 + arg_388_0 then
				arg_385_1.typewritter.percent = 1

				arg_385_1.typewritter:SetDirty()
				arg_385_1:ShowNextGo(true)
			end
		end
	end,
	Play411121091 = function(arg_389_0, arg_389_1)
		arg_389_1.time_ = 0
		arg_389_1.frameCnt_ = 0
		arg_389_1.state_ = "playing"
		arg_389_1.curTalkId_ = 411121091
		arg_389_1.duration_ = 3.56633333333333

		local var_389_0 = {
			zh = 3.56633333333333,
			ja = 3.49933333333333
		}
		local var_389_1 = manager.audio:GetLocalizationFlag()

		if var_389_0[var_389_1] ~= nil then
			arg_389_1.duration_ = var_389_0[var_389_1]
		end

		SetActive(arg_389_1.tipsGo_, false)

		function arg_389_1.onSingleLineFinish_()
			arg_389_1.onSingleLineUpdate_ = nil
			arg_389_1.onSingleLineFinish_ = nil
			arg_389_1.state_ = "waiting"
		end

		function arg_389_1.playNext_(arg_391_0)
			if arg_391_0 == 1 then
				arg_389_0:Play411121092(arg_389_1)
			end
		end

		function arg_389_1.onSingleLineUpdate_(arg_392_0)
			local var_392_0 = 0

			if var_392_0 < arg_389_1.time_ and arg_389_1.time_ <= var_392_0 + arg_392_0 then
				local var_392_1 = manager.ui.mainCamera.transform.localPosition
				local var_392_2 = Vector3.New(0, 0, 10) + Vector3.New(var_392_1.x, var_392_1.y, 0)
				local var_392_3 = arg_389_1.bgs_.ST71a

				var_392_3.transform.localPosition = var_392_2
				var_392_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_392_4 = var_392_3:GetComponent("SpriteRenderer")

				if var_392_4 and var_392_4.sprite then
					local var_392_5 = (var_392_3.transform.localPosition - var_392_1).z
					local var_392_6 = manager.ui.mainCameraCom_
					local var_392_7 = 2 * var_392_5 * Mathf.Tan(var_392_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_392_8 = var_392_7 * var_392_6.aspect
					local var_392_9 = var_392_4.sprite.bounds.size.x
					local var_392_10 = var_392_4.sprite.bounds.size.y
					local var_392_11 = var_392_8 / var_392_9
					local var_392_12 = var_392_7 / var_392_10
					local var_392_13 = var_392_12 < var_392_11 and var_392_11 or var_392_12

					var_392_3.transform.localScale = Vector3.New(var_392_13, var_392_13, 0)
				end

				for iter_392_0, iter_392_1 in pairs(arg_389_1.bgs_) do
					if iter_392_0 ~= "ST71a" then
						iter_392_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_392_14 = 1.26666666666667

			if var_392_14 < arg_389_1.time_ and arg_389_1.time_ <= var_392_14 + arg_392_0 then
				local var_392_15 = manager.ui.mainCamera.transform.localPosition
				local var_392_16 = Vector3.New(0, 0, 10) + Vector3.New(var_392_15.x, var_392_15.y, 0)
				local var_392_17 = arg_389_1.bgs_.STblack

				var_392_17.transform.localPosition = var_392_16
				var_392_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_392_18 = var_392_17:GetComponent("SpriteRenderer")

				if var_392_18 and var_392_18.sprite then
					local var_392_19 = (var_392_17.transform.localPosition - var_392_15).z
					local var_392_20 = manager.ui.mainCameraCom_
					local var_392_21 = 2 * var_392_19 * Mathf.Tan(var_392_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_392_22 = var_392_21 * var_392_20.aspect
					local var_392_23 = var_392_18.sprite.bounds.size.x
					local var_392_24 = var_392_18.sprite.bounds.size.y
					local var_392_25 = var_392_22 / var_392_23
					local var_392_26 = var_392_21 / var_392_24
					local var_392_27 = var_392_26 < var_392_25 and var_392_25 or var_392_26

					var_392_17.transform.localScale = Vector3.New(var_392_27, var_392_27, 0)
				end

				for iter_392_2, iter_392_3 in pairs(arg_389_1.bgs_) do
					if iter_392_2 ~= "STblack" then
						iter_392_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_392_28 = 0

			if var_392_28 < arg_389_1.time_ and arg_389_1.time_ <= var_392_28 + arg_392_0 then
				arg_389_1.mask_.enabled = true
				arg_389_1.mask_.raycastTarget = true

				arg_389_1:SetGaussion(false)
			end

			local var_392_29 = 1.26666666666667

			if var_392_28 <= arg_389_1.time_ and arg_389_1.time_ < var_392_28 + var_392_29 then
				local var_392_30 = (arg_389_1.time_ - var_392_28) / var_392_29
				local var_392_31 = Color.New(0, 0, 0)

				var_392_31.a = Mathf.Lerp(0, 1, var_392_30)
				arg_389_1.mask_.color = var_392_31
			end

			if arg_389_1.time_ >= var_392_28 + var_392_29 and arg_389_1.time_ < var_392_28 + var_392_29 + arg_392_0 then
				local var_392_32 = Color.New(0, 0, 0)

				var_392_32.a = 1
				arg_389_1.mask_.color = var_392_32
			end

			local var_392_33 = 1.26666666666667

			if var_392_33 < arg_389_1.time_ and arg_389_1.time_ <= var_392_33 + arg_392_0 then
				arg_389_1.mask_.enabled = true
				arg_389_1.mask_.raycastTarget = true

				arg_389_1:SetGaussion(false)
			end

			local var_392_34 = 1.26666666666667

			if var_392_33 <= arg_389_1.time_ and arg_389_1.time_ < var_392_33 + var_392_34 then
				local var_392_35 = (arg_389_1.time_ - var_392_33) / var_392_34
				local var_392_36 = Color.New(0, 0, 0)

				var_392_36.a = Mathf.Lerp(1, 0, var_392_35)
				arg_389_1.mask_.color = var_392_36
			end

			if arg_389_1.time_ >= var_392_33 + var_392_34 and arg_389_1.time_ < var_392_33 + var_392_34 + arg_392_0 then
				local var_392_37 = Color.New(0, 0, 0)
				local var_392_38 = 0

				arg_389_1.mask_.enabled = false
				var_392_37.a = var_392_38
				arg_389_1.mask_.color = var_392_37
			end

			if arg_389_1.frameCnt_ <= 1 then
				arg_389_1.dialog_:SetActive(false)
			end

			local var_392_39 = 2.53333333333333
			local var_392_40 = 0.108333333333333

			if var_392_39 < arg_389_1.time_ and arg_389_1.time_ <= var_392_39 + arg_392_0 then
				arg_389_1.talkMaxDuration = 0

				arg_389_1.dialog_:SetActive(true)

				local var_392_41 = LeanTween.value(arg_389_1.dialog_, 0, 1, 0.3)

				var_392_41:setOnUpdate(LuaHelper.FloatAction(function(arg_393_0)
					arg_389_1.dialogCg_.alpha = arg_393_0
				end))
				var_392_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_389_1.dialog_)
					var_392_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_389_1.duration_ = arg_389_1.duration_ + 0.3

				SetActive(arg_389_1.leftNameGo_, true)

				local var_392_42 = arg_389_1:FormatText(StoryNameCfg[670].name)

				arg_389_1.leftNameTxt_.text = var_392_42

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_389_1.leftNameTxt_.transform)

				arg_389_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_389_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_389_1:RecordName(arg_389_1.leftNameTxt_.text)
				SetActive(arg_389_1.iconTrs_.gameObject, false)
				arg_389_1.callingController_:SetSelectedState("normal")

				local var_392_43 = arg_389_1:GetWordFromCfg(411121091)
				local var_392_44 = arg_389_1:FormatText(var_392_43.content)

				arg_389_1.text_.text = var_392_44

				LuaForUtil.ClearLinePrefixSymbol(arg_389_1.text_)

				local var_392_45 = 3
				local var_392_46 = utf8.len(var_392_44)
				local var_392_47 = var_392_45 <= 0 and var_392_40 or var_392_40 * (var_392_46 / var_392_45)

				if var_392_47 > 0 and var_392_40 < var_392_47 then
					arg_389_1.talkMaxDuration = var_392_47
					var_392_39 = var_392_39 + 0.3

					if var_392_47 + var_392_39 > arg_389_1.duration_ then
						arg_389_1.duration_ = var_392_47 + var_392_39
					end
				end

				arg_389_1.text_.text = var_392_44
				arg_389_1.typewritter.percent = 0

				arg_389_1.typewritter:SetDirty()
				arg_389_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121091", "story_v_out_411121.awb") ~= 0 then
					local var_392_48 = manager.audio:GetVoiceLength("story_v_out_411121", "411121091", "story_v_out_411121.awb") / 1000

					if var_392_48 + var_392_39 > arg_389_1.duration_ then
						arg_389_1.duration_ = var_392_48 + var_392_39
					end

					if var_392_43.prefab_name ~= "" and arg_389_1.actors_[var_392_43.prefab_name] ~= nil then
						local var_392_49 = LuaForUtil.PlayVoiceWithCriLipsync(arg_389_1.actors_[var_392_43.prefab_name].transform, "story_v_out_411121", "411121091", "story_v_out_411121.awb")

						arg_389_1:RecordAudio("411121091", var_392_49)
						arg_389_1:RecordAudio("411121091", var_392_49)
					else
						arg_389_1:AudioAction("play", "voice", "story_v_out_411121", "411121091", "story_v_out_411121.awb")
					end

					arg_389_1:RecordHistoryTalkVoice("story_v_out_411121", "411121091", "story_v_out_411121.awb")
				end

				arg_389_1:RecordContent(arg_389_1.text_.text)
			end

			local var_392_50 = var_392_39 + 0.3
			local var_392_51 = math.max(var_392_40, arg_389_1.talkMaxDuration)

			if var_392_50 <= arg_389_1.time_ and arg_389_1.time_ < var_392_50 + var_392_51 then
				arg_389_1.typewritter.percent = (arg_389_1.time_ - var_392_50) / var_392_51

				arg_389_1.typewritter:SetDirty()
			end

			if arg_389_1.time_ >= var_392_50 + var_392_51 and arg_389_1.time_ < var_392_50 + var_392_51 + arg_392_0 then
				arg_389_1.typewritter.percent = 1

				arg_389_1.typewritter:SetDirty()
				arg_389_1:ShowNextGo(true)
			end
		end
	end,
	Play411121092 = function(arg_395_0, arg_395_1)
		arg_395_1.time_ = 0
		arg_395_1.frameCnt_ = 0
		arg_395_1.state_ = "playing"
		arg_395_1.curTalkId_ = 411121092
		arg_395_1.duration_ = 1.033

		local var_395_0 = {
			zh = 1.033,
			ja = 0.999999999999
		}
		local var_395_1 = manager.audio:GetLocalizationFlag()

		if var_395_0[var_395_1] ~= nil then
			arg_395_1.duration_ = var_395_0[var_395_1]
		end

		SetActive(arg_395_1.tipsGo_, false)

		function arg_395_1.onSingleLineFinish_()
			arg_395_1.onSingleLineUpdate_ = nil
			arg_395_1.onSingleLineFinish_ = nil
			arg_395_1.state_ = "waiting"
		end

		function arg_395_1.playNext_(arg_397_0)
			if arg_397_0 == 1 then
				arg_395_0:Play411121093(arg_395_1)
			end
		end

		function arg_395_1.onSingleLineUpdate_(arg_398_0)
			local var_398_0 = 0
			local var_398_1 = 0.0329999998211861

			if var_398_0 < arg_395_1.time_ and arg_395_1.time_ <= var_398_0 + arg_398_0 then
				arg_395_1.talkMaxDuration = 0
				arg_395_1.dialogCg_.alpha = 1

				arg_395_1.dialog_:SetActive(true)
				SetActive(arg_395_1.leftNameGo_, true)

				local var_398_2 = arg_395_1:FormatText(StoryNameCfg[471].name)

				arg_395_1.leftNameTxt_.text = var_398_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_395_1.leftNameTxt_.transform)

				arg_395_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_395_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_395_1:RecordName(arg_395_1.leftNameTxt_.text)
				SetActive(arg_395_1.iconTrs_.gameObject, false)
				arg_395_1.callingController_:SetSelectedState("normal")

				local var_398_3 = arg_395_1:GetWordFromCfg(411121092)
				local var_398_4 = arg_395_1:FormatText(var_398_3.content)

				arg_395_1.text_.text = var_398_4

				LuaForUtil.ClearLinePrefixSymbol(arg_395_1.text_)

				local var_398_5 = 1
				local var_398_6 = utf8.len(var_398_4)
				local var_398_7 = var_398_5 <= 0 and var_398_1 or var_398_1 * (var_398_6 / var_398_5)

				if var_398_7 > 0 and var_398_1 < var_398_7 then
					arg_395_1.talkMaxDuration = var_398_7

					if var_398_7 + var_398_0 > arg_395_1.duration_ then
						arg_395_1.duration_ = var_398_7 + var_398_0
					end
				end

				arg_395_1.text_.text = var_398_4
				arg_395_1.typewritter.percent = 0

				arg_395_1.typewritter:SetDirty()
				arg_395_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121092", "story_v_out_411121.awb") ~= 0 then
					local var_398_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121092", "story_v_out_411121.awb") / 1000

					if var_398_8 + var_398_0 > arg_395_1.duration_ then
						arg_395_1.duration_ = var_398_8 + var_398_0
					end

					if var_398_3.prefab_name ~= "" and arg_395_1.actors_[var_398_3.prefab_name] ~= nil then
						local var_398_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_395_1.actors_[var_398_3.prefab_name].transform, "story_v_out_411121", "411121092", "story_v_out_411121.awb")

						arg_395_1:RecordAudio("411121092", var_398_9)
						arg_395_1:RecordAudio("411121092", var_398_9)
					else
						arg_395_1:AudioAction("play", "voice", "story_v_out_411121", "411121092", "story_v_out_411121.awb")
					end

					arg_395_1:RecordHistoryTalkVoice("story_v_out_411121", "411121092", "story_v_out_411121.awb")
				end

				arg_395_1:RecordContent(arg_395_1.text_.text)
			end

			local var_398_10 = math.max(var_398_1, arg_395_1.talkMaxDuration)

			if var_398_0 <= arg_395_1.time_ and arg_395_1.time_ < var_398_0 + var_398_10 then
				arg_395_1.typewritter.percent = (arg_395_1.time_ - var_398_0) / var_398_10

				arg_395_1.typewritter:SetDirty()
			end

			if arg_395_1.time_ >= var_398_0 + var_398_10 and arg_395_1.time_ < var_398_0 + var_398_10 + arg_398_0 then
				arg_395_1.typewritter.percent = 1

				arg_395_1.typewritter:SetDirty()
				arg_395_1:ShowNextGo(true)
			end
		end
	end,
	Play411121093 = function(arg_399_0, arg_399_1)
		arg_399_1.time_ = 0
		arg_399_1.frameCnt_ = 0
		arg_399_1.state_ = "playing"
		arg_399_1.curTalkId_ = 411121093
		arg_399_1.duration_ = 9.099999999999

		SetActive(arg_399_1.tipsGo_, false)

		function arg_399_1.onSingleLineFinish_()
			arg_399_1.onSingleLineUpdate_ = nil
			arg_399_1.onSingleLineFinish_ = nil
			arg_399_1.state_ = "waiting"
		end

		function arg_399_1.playNext_(arg_401_0)
			if arg_401_0 == 1 then
				arg_399_0:Play411121094(arg_399_1)
			end
		end

		function arg_399_1.onSingleLineUpdate_(arg_402_0)
			local var_402_0 = 0

			if var_402_0 < arg_399_1.time_ and arg_399_1.time_ <= var_402_0 + arg_402_0 then
				local var_402_1 = manager.ui.mainCamera.transform.localPosition
				local var_402_2 = Vector3.New(0, 0, 10) + Vector3.New(var_402_1.x, var_402_1.y, 0)
				local var_402_3 = arg_399_1.bgs_.STblack

				var_402_3.transform.localPosition = var_402_2
				var_402_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_402_4 = var_402_3:GetComponent("SpriteRenderer")

				if var_402_4 and var_402_4.sprite then
					local var_402_5 = (var_402_3.transform.localPosition - var_402_1).z
					local var_402_6 = manager.ui.mainCameraCom_
					local var_402_7 = 2 * var_402_5 * Mathf.Tan(var_402_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_402_8 = var_402_7 * var_402_6.aspect
					local var_402_9 = var_402_4.sprite.bounds.size.x
					local var_402_10 = var_402_4.sprite.bounds.size.y
					local var_402_11 = var_402_8 / var_402_9
					local var_402_12 = var_402_7 / var_402_10
					local var_402_13 = var_402_12 < var_402_11 and var_402_11 or var_402_12

					var_402_3.transform.localScale = Vector3.New(var_402_13, var_402_13, 0)
				end

				for iter_402_0, iter_402_1 in pairs(arg_399_1.bgs_) do
					if iter_402_0 ~= "STblack" then
						iter_402_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_402_14 = "ST74a"

			if arg_399_1.bgs_[var_402_14] == nil then
				local var_402_15 = Object.Instantiate(arg_399_1.paintGo_)

				var_402_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_402_14)
				var_402_15.name = var_402_14
				var_402_15.transform.parent = arg_399_1.stage_.transform
				var_402_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_399_1.bgs_[var_402_14] = var_402_15
			end

			local var_402_16 = 2.099999999999

			if var_402_16 < arg_399_1.time_ and arg_399_1.time_ <= var_402_16 + arg_402_0 then
				local var_402_17 = manager.ui.mainCamera.transform.localPosition
				local var_402_18 = Vector3.New(0, 0, 10) + Vector3.New(var_402_17.x, var_402_17.y, 0)
				local var_402_19 = arg_399_1.bgs_.ST74a

				var_402_19.transform.localPosition = var_402_18
				var_402_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_402_20 = var_402_19:GetComponent("SpriteRenderer")

				if var_402_20 and var_402_20.sprite then
					local var_402_21 = (var_402_19.transform.localPosition - var_402_17).z
					local var_402_22 = manager.ui.mainCameraCom_
					local var_402_23 = 2 * var_402_21 * Mathf.Tan(var_402_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_402_24 = var_402_23 * var_402_22.aspect
					local var_402_25 = var_402_20.sprite.bounds.size.x
					local var_402_26 = var_402_20.sprite.bounds.size.y
					local var_402_27 = var_402_24 / var_402_25
					local var_402_28 = var_402_23 / var_402_26
					local var_402_29 = var_402_28 < var_402_27 and var_402_27 or var_402_28

					var_402_19.transform.localScale = Vector3.New(var_402_29, var_402_29, 0)
				end

				for iter_402_2, iter_402_3 in pairs(arg_399_1.bgs_) do
					if iter_402_2 ~= "ST74a" then
						iter_402_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_402_30 = 0

			if var_402_30 < arg_399_1.time_ and arg_399_1.time_ <= var_402_30 + arg_402_0 then
				arg_399_1.mask_.enabled = true
				arg_399_1.mask_.raycastTarget = true

				arg_399_1:SetGaussion(false)
			end

			local var_402_31 = 2.099999999999

			if var_402_30 <= arg_399_1.time_ and arg_399_1.time_ < var_402_30 + var_402_31 then
				local var_402_32 = (arg_399_1.time_ - var_402_30) / var_402_31
				local var_402_33 = Color.New(0, 0, 0)

				var_402_33.a = Mathf.Lerp(0, 1, var_402_32)
				arg_399_1.mask_.color = var_402_33
			end

			if arg_399_1.time_ >= var_402_30 + var_402_31 and arg_399_1.time_ < var_402_30 + var_402_31 + arg_402_0 then
				local var_402_34 = Color.New(0, 0, 0)

				var_402_34.a = 1
				arg_399_1.mask_.color = var_402_34
			end

			local var_402_35 = 2.099999999999

			if var_402_35 < arg_399_1.time_ and arg_399_1.time_ <= var_402_35 + arg_402_0 then
				arg_399_1.mask_.enabled = true
				arg_399_1.mask_.raycastTarget = true

				arg_399_1:SetGaussion(false)
			end

			local var_402_36 = 2

			if var_402_35 <= arg_399_1.time_ and arg_399_1.time_ < var_402_35 + var_402_36 then
				local var_402_37 = (arg_399_1.time_ - var_402_35) / var_402_36
				local var_402_38 = Color.New(0, 0, 0)

				var_402_38.a = Mathf.Lerp(1, 0, var_402_37)
				arg_399_1.mask_.color = var_402_38
			end

			if arg_399_1.time_ >= var_402_35 + var_402_36 and arg_399_1.time_ < var_402_35 + var_402_36 + arg_402_0 then
				local var_402_39 = Color.New(0, 0, 0)
				local var_402_40 = 0

				arg_399_1.mask_.enabled = false
				var_402_39.a = var_402_40
				arg_399_1.mask_.color = var_402_39
			end

			local var_402_41 = 2.099999999999

			if var_402_41 < arg_399_1.time_ and arg_399_1.time_ <= var_402_41 + arg_402_0 then
				arg_399_1.screenFilterGo_:SetActive(false)
			end

			local var_402_42 = 0.0166666666666667

			if var_402_41 <= arg_399_1.time_ and arg_399_1.time_ < var_402_41 + var_402_42 then
				local var_402_43 = (arg_399_1.time_ - var_402_41) / var_402_42

				arg_399_1.screenFilterEffect_.weight = Mathf.Lerp(1, 0, var_402_43)
			end

			if arg_399_1.time_ >= var_402_41 + var_402_42 and arg_399_1.time_ < var_402_41 + var_402_42 + arg_402_0 then
				arg_399_1.screenFilterEffect_.weight = 0
			end

			if arg_399_1.frameCnt_ <= 1 then
				arg_399_1.dialog_:SetActive(false)
			end

			local var_402_44 = 4.099999999999
			local var_402_45 = 1.1

			if var_402_44 < arg_399_1.time_ and arg_399_1.time_ <= var_402_44 + arg_402_0 then
				arg_399_1.talkMaxDuration = 0

				arg_399_1.dialog_:SetActive(true)

				local var_402_46 = LeanTween.value(arg_399_1.dialog_, 0, 1, 0.3)

				var_402_46:setOnUpdate(LuaHelper.FloatAction(function(arg_403_0)
					arg_399_1.dialogCg_.alpha = arg_403_0
				end))
				var_402_46:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_399_1.dialog_)
					var_402_46:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_399_1.duration_ = arg_399_1.duration_ + 0.3

				SetActive(arg_399_1.leftNameGo_, false)

				arg_399_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_399_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_399_1:RecordName(arg_399_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_399_1.iconTrs_.gameObject, false)
				arg_399_1.callingController_:SetSelectedState("normal")

				local var_402_47 = arg_399_1:GetWordFromCfg(411121093)
				local var_402_48 = arg_399_1:FormatText(var_402_47.content)

				arg_399_1.text_.text = var_402_48

				LuaForUtil.ClearLinePrefixSymbol(arg_399_1.text_)

				local var_402_49 = 44
				local var_402_50 = utf8.len(var_402_48)
				local var_402_51 = var_402_49 <= 0 and var_402_45 or var_402_45 * (var_402_50 / var_402_49)

				if var_402_51 > 0 and var_402_45 < var_402_51 then
					arg_399_1.talkMaxDuration = var_402_51
					var_402_44 = var_402_44 + 0.3

					if var_402_51 + var_402_44 > arg_399_1.duration_ then
						arg_399_1.duration_ = var_402_51 + var_402_44
					end
				end

				arg_399_1.text_.text = var_402_48
				arg_399_1.typewritter.percent = 0

				arg_399_1.typewritter:SetDirty()
				arg_399_1:ShowNextGo(false)
				arg_399_1:RecordContent(arg_399_1.text_.text)
			end

			local var_402_52 = var_402_44 + 0.3
			local var_402_53 = math.max(var_402_45, arg_399_1.talkMaxDuration)

			if var_402_52 <= arg_399_1.time_ and arg_399_1.time_ < var_402_52 + var_402_53 then
				arg_399_1.typewritter.percent = (arg_399_1.time_ - var_402_52) / var_402_53

				arg_399_1.typewritter:SetDirty()
			end

			if arg_399_1.time_ >= var_402_52 + var_402_53 and arg_399_1.time_ < var_402_52 + var_402_53 + arg_402_0 then
				arg_399_1.typewritter.percent = 1

				arg_399_1.typewritter:SetDirty()
				arg_399_1:ShowNextGo(true)
			end
		end
	end,
	Play411121094 = function(arg_405_0, arg_405_1)
		arg_405_1.time_ = 0
		arg_405_1.frameCnt_ = 0
		arg_405_1.state_ = "playing"
		arg_405_1.curTalkId_ = 411121094
		arg_405_1.duration_ = 1.999999999999

		SetActive(arg_405_1.tipsGo_, false)

		function arg_405_1.onSingleLineFinish_()
			arg_405_1.onSingleLineUpdate_ = nil
			arg_405_1.onSingleLineFinish_ = nil
			arg_405_1.state_ = "waiting"
		end

		function arg_405_1.playNext_(arg_407_0)
			if arg_407_0 == 1 then
				arg_405_0:Play411121095(arg_405_1)
			end
		end

		function arg_405_1.onSingleLineUpdate_(arg_408_0)
			local var_408_0 = arg_405_1.actors_["1095ui_story"].transform
			local var_408_1 = 0

			if var_408_1 < arg_405_1.time_ and arg_405_1.time_ <= var_408_1 + arg_408_0 then
				arg_405_1.var_.moveOldPos1095ui_story = var_408_0.localPosition
			end

			local var_408_2 = 0.001

			if var_408_1 <= arg_405_1.time_ and arg_405_1.time_ < var_408_1 + var_408_2 then
				local var_408_3 = (arg_405_1.time_ - var_408_1) / var_408_2
				local var_408_4 = Vector3.New(0, -0.98, -6.1)

				var_408_0.localPosition = Vector3.Lerp(arg_405_1.var_.moveOldPos1095ui_story, var_408_4, var_408_3)

				local var_408_5 = manager.ui.mainCamera.transform.position - var_408_0.position

				var_408_0.forward = Vector3.New(var_408_5.x, var_408_5.y, var_408_5.z)

				local var_408_6 = var_408_0.localEulerAngles

				var_408_6.z = 0
				var_408_6.x = 0
				var_408_0.localEulerAngles = var_408_6
			end

			if arg_405_1.time_ >= var_408_1 + var_408_2 and arg_405_1.time_ < var_408_1 + var_408_2 + arg_408_0 then
				var_408_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_408_7 = manager.ui.mainCamera.transform.position - var_408_0.position

				var_408_0.forward = Vector3.New(var_408_7.x, var_408_7.y, var_408_7.z)

				local var_408_8 = var_408_0.localEulerAngles

				var_408_8.z = 0
				var_408_8.x = 0
				var_408_0.localEulerAngles = var_408_8
			end

			local var_408_9 = arg_405_1.actors_["1095ui_story"]
			local var_408_10 = 0

			if var_408_10 < arg_405_1.time_ and arg_405_1.time_ <= var_408_10 + arg_408_0 and arg_405_1.var_.characterEffect1095ui_story == nil then
				arg_405_1.var_.characterEffect1095ui_story = var_408_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_408_11 = 0.200000002980232

			if var_408_10 <= arg_405_1.time_ and arg_405_1.time_ < var_408_10 + var_408_11 then
				local var_408_12 = (arg_405_1.time_ - var_408_10) / var_408_11

				if arg_405_1.var_.characterEffect1095ui_story then
					arg_405_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_405_1.time_ >= var_408_10 + var_408_11 and arg_405_1.time_ < var_408_10 + var_408_11 + arg_408_0 and arg_405_1.var_.characterEffect1095ui_story then
				arg_405_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_408_13 = 0

			if var_408_13 < arg_405_1.time_ and arg_405_1.time_ <= var_408_13 + arg_408_0 then
				arg_405_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_408_14 = 0

			if var_408_14 < arg_405_1.time_ and arg_405_1.time_ <= var_408_14 + arg_408_0 then
				arg_405_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3201cva")
			end

			local var_408_15 = 0
			local var_408_16 = 0.125

			if var_408_15 < arg_405_1.time_ and arg_405_1.time_ <= var_408_15 + arg_408_0 then
				arg_405_1.talkMaxDuration = 0
				arg_405_1.dialogCg_.alpha = 1

				arg_405_1.dialog_:SetActive(true)
				SetActive(arg_405_1.leftNameGo_, true)

				local var_408_17 = arg_405_1:FormatText(StoryNameCfg[471].name)

				arg_405_1.leftNameTxt_.text = var_408_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_405_1.leftNameTxt_.transform)

				arg_405_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_405_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_405_1:RecordName(arg_405_1.leftNameTxt_.text)
				SetActive(arg_405_1.iconTrs_.gameObject, false)
				arg_405_1.callingController_:SetSelectedState("normal")

				local var_408_18 = arg_405_1:GetWordFromCfg(411121094)
				local var_408_19 = arg_405_1:FormatText(var_408_18.content)

				arg_405_1.text_.text = var_408_19

				LuaForUtil.ClearLinePrefixSymbol(arg_405_1.text_)

				local var_408_20 = 5
				local var_408_21 = utf8.len(var_408_19)
				local var_408_22 = var_408_20 <= 0 and var_408_16 or var_408_16 * (var_408_21 / var_408_20)

				if var_408_22 > 0 and var_408_16 < var_408_22 then
					arg_405_1.talkMaxDuration = var_408_22

					if var_408_22 + var_408_15 > arg_405_1.duration_ then
						arg_405_1.duration_ = var_408_22 + var_408_15
					end
				end

				arg_405_1.text_.text = var_408_19
				arg_405_1.typewritter.percent = 0

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121094", "story_v_out_411121.awb") ~= 0 then
					local var_408_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121094", "story_v_out_411121.awb") / 1000

					if var_408_23 + var_408_15 > arg_405_1.duration_ then
						arg_405_1.duration_ = var_408_23 + var_408_15
					end

					if var_408_18.prefab_name ~= "" and arg_405_1.actors_[var_408_18.prefab_name] ~= nil then
						local var_408_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_405_1.actors_[var_408_18.prefab_name].transform, "story_v_out_411121", "411121094", "story_v_out_411121.awb")

						arg_405_1:RecordAudio("411121094", var_408_24)
						arg_405_1:RecordAudio("411121094", var_408_24)
					else
						arg_405_1:AudioAction("play", "voice", "story_v_out_411121", "411121094", "story_v_out_411121.awb")
					end

					arg_405_1:RecordHistoryTalkVoice("story_v_out_411121", "411121094", "story_v_out_411121.awb")
				end

				arg_405_1:RecordContent(arg_405_1.text_.text)
			end

			local var_408_25 = math.max(var_408_16, arg_405_1.talkMaxDuration)

			if var_408_15 <= arg_405_1.time_ and arg_405_1.time_ < var_408_15 + var_408_25 then
				arg_405_1.typewritter.percent = (arg_405_1.time_ - var_408_15) / var_408_25

				arg_405_1.typewritter:SetDirty()
			end

			if arg_405_1.time_ >= var_408_15 + var_408_25 and arg_405_1.time_ < var_408_15 + var_408_25 + arg_408_0 then
				arg_405_1.typewritter.percent = 1

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(true)
			end
		end
	end,
	Play411121095 = function(arg_409_0, arg_409_1)
		arg_409_1.time_ = 0
		arg_409_1.frameCnt_ = 0
		arg_409_1.state_ = "playing"
		arg_409_1.curTalkId_ = 411121095
		arg_409_1.duration_ = 5

		SetActive(arg_409_1.tipsGo_, false)

		function arg_409_1.onSingleLineFinish_()
			arg_409_1.onSingleLineUpdate_ = nil
			arg_409_1.onSingleLineFinish_ = nil
			arg_409_1.state_ = "waiting"
		end

		function arg_409_1.playNext_(arg_411_0)
			if arg_411_0 == 1 then
				arg_409_0:Play411121096(arg_409_1)
			end
		end

		function arg_409_1.onSingleLineUpdate_(arg_412_0)
			local var_412_0 = arg_409_1.actors_["1095ui_story"]
			local var_412_1 = 0

			if var_412_1 < arg_409_1.time_ and arg_409_1.time_ <= var_412_1 + arg_412_0 and arg_409_1.var_.characterEffect1095ui_story == nil then
				arg_409_1.var_.characterEffect1095ui_story = var_412_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_412_2 = 0.200000002980232

			if var_412_1 <= arg_409_1.time_ and arg_409_1.time_ < var_412_1 + var_412_2 then
				local var_412_3 = (arg_409_1.time_ - var_412_1) / var_412_2

				if arg_409_1.var_.characterEffect1095ui_story then
					local var_412_4 = Mathf.Lerp(0, 0.5, var_412_3)

					arg_409_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_409_1.var_.characterEffect1095ui_story.fillRatio = var_412_4
				end
			end

			if arg_409_1.time_ >= var_412_1 + var_412_2 and arg_409_1.time_ < var_412_1 + var_412_2 + arg_412_0 and arg_409_1.var_.characterEffect1095ui_story then
				local var_412_5 = 0.5

				arg_409_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_409_1.var_.characterEffect1095ui_story.fillRatio = var_412_5
			end

			local var_412_6 = 0
			local var_412_7 = 1.1

			if var_412_6 < arg_409_1.time_ and arg_409_1.time_ <= var_412_6 + arg_412_0 then
				arg_409_1.talkMaxDuration = 0
				arg_409_1.dialogCg_.alpha = 1

				arg_409_1.dialog_:SetActive(true)
				SetActive(arg_409_1.leftNameGo_, false)

				arg_409_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_409_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_409_1:RecordName(arg_409_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_409_1.iconTrs_.gameObject, false)
				arg_409_1.callingController_:SetSelectedState("normal")

				local var_412_8 = arg_409_1:GetWordFromCfg(411121095)
				local var_412_9 = arg_409_1:FormatText(var_412_8.content)

				arg_409_1.text_.text = var_412_9

				LuaForUtil.ClearLinePrefixSymbol(arg_409_1.text_)

				local var_412_10 = 44
				local var_412_11 = utf8.len(var_412_9)
				local var_412_12 = var_412_10 <= 0 and var_412_7 or var_412_7 * (var_412_11 / var_412_10)

				if var_412_12 > 0 and var_412_7 < var_412_12 then
					arg_409_1.talkMaxDuration = var_412_12

					if var_412_12 + var_412_6 > arg_409_1.duration_ then
						arg_409_1.duration_ = var_412_12 + var_412_6
					end
				end

				arg_409_1.text_.text = var_412_9
				arg_409_1.typewritter.percent = 0

				arg_409_1.typewritter:SetDirty()
				arg_409_1:ShowNextGo(false)
				arg_409_1:RecordContent(arg_409_1.text_.text)
			end

			local var_412_13 = math.max(var_412_7, arg_409_1.talkMaxDuration)

			if var_412_6 <= arg_409_1.time_ and arg_409_1.time_ < var_412_6 + var_412_13 then
				arg_409_1.typewritter.percent = (arg_409_1.time_ - var_412_6) / var_412_13

				arg_409_1.typewritter:SetDirty()
			end

			if arg_409_1.time_ >= var_412_6 + var_412_13 and arg_409_1.time_ < var_412_6 + var_412_13 + arg_412_0 then
				arg_409_1.typewritter.percent = 1

				arg_409_1.typewritter:SetDirty()
				arg_409_1:ShowNextGo(true)
			end
		end
	end,
	Play411121096 = function(arg_413_0, arg_413_1)
		arg_413_1.time_ = 0
		arg_413_1.frameCnt_ = 0
		arg_413_1.state_ = "playing"
		arg_413_1.curTalkId_ = 411121096
		arg_413_1.duration_ = 5

		SetActive(arg_413_1.tipsGo_, false)

		function arg_413_1.onSingleLineFinish_()
			arg_413_1.onSingleLineUpdate_ = nil
			arg_413_1.onSingleLineFinish_ = nil
			arg_413_1.state_ = "waiting"
		end

		function arg_413_1.playNext_(arg_415_0)
			if arg_415_0 == 1 then
				arg_413_0:Play411121097(arg_413_1)
			end
		end

		function arg_413_1.onSingleLineUpdate_(arg_416_0)
			local var_416_0 = 0
			local var_416_1 = 1.425

			if var_416_0 < arg_413_1.time_ and arg_413_1.time_ <= var_416_0 + arg_416_0 then
				arg_413_1.talkMaxDuration = 0
				arg_413_1.dialogCg_.alpha = 1

				arg_413_1.dialog_:SetActive(true)
				SetActive(arg_413_1.leftNameGo_, false)

				arg_413_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_413_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_413_1:RecordName(arg_413_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_413_1.iconTrs_.gameObject, false)
				arg_413_1.callingController_:SetSelectedState("normal")

				local var_416_2 = arg_413_1:GetWordFromCfg(411121096)
				local var_416_3 = arg_413_1:FormatText(var_416_2.content)

				arg_413_1.text_.text = var_416_3

				LuaForUtil.ClearLinePrefixSymbol(arg_413_1.text_)

				local var_416_4 = 57
				local var_416_5 = utf8.len(var_416_3)
				local var_416_6 = var_416_4 <= 0 and var_416_1 or var_416_1 * (var_416_5 / var_416_4)

				if var_416_6 > 0 and var_416_1 < var_416_6 then
					arg_413_1.talkMaxDuration = var_416_6

					if var_416_6 + var_416_0 > arg_413_1.duration_ then
						arg_413_1.duration_ = var_416_6 + var_416_0
					end
				end

				arg_413_1.text_.text = var_416_3
				arg_413_1.typewritter.percent = 0

				arg_413_1.typewritter:SetDirty()
				arg_413_1:ShowNextGo(false)
				arg_413_1:RecordContent(arg_413_1.text_.text)
			end

			local var_416_7 = math.max(var_416_1, arg_413_1.talkMaxDuration)

			if var_416_0 <= arg_413_1.time_ and arg_413_1.time_ < var_416_0 + var_416_7 then
				arg_413_1.typewritter.percent = (arg_413_1.time_ - var_416_0) / var_416_7

				arg_413_1.typewritter:SetDirty()
			end

			if arg_413_1.time_ >= var_416_0 + var_416_7 and arg_413_1.time_ < var_416_0 + var_416_7 + arg_416_0 then
				arg_413_1.typewritter.percent = 1

				arg_413_1.typewritter:SetDirty()
				arg_413_1:ShowNextGo(true)
			end
		end
	end,
	Play411121097 = function(arg_417_0, arg_417_1)
		arg_417_1.time_ = 0
		arg_417_1.frameCnt_ = 0
		arg_417_1.state_ = "playing"
		arg_417_1.curTalkId_ = 411121097
		arg_417_1.duration_ = 5

		SetActive(arg_417_1.tipsGo_, false)

		function arg_417_1.onSingleLineFinish_()
			arg_417_1.onSingleLineUpdate_ = nil
			arg_417_1.onSingleLineFinish_ = nil
			arg_417_1.state_ = "waiting"
		end

		function arg_417_1.playNext_(arg_419_0)
			if arg_419_0 == 1 then
				arg_417_0:Play411121098(arg_417_1)
			end
		end

		function arg_417_1.onSingleLineUpdate_(arg_420_0)
			local var_420_0 = 0
			local var_420_1 = 0.7

			if var_420_0 < arg_417_1.time_ and arg_417_1.time_ <= var_420_0 + arg_420_0 then
				arg_417_1.talkMaxDuration = 0
				arg_417_1.dialogCg_.alpha = 1

				arg_417_1.dialog_:SetActive(true)
				SetActive(arg_417_1.leftNameGo_, false)

				arg_417_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_417_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_417_1:RecordName(arg_417_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_417_1.iconTrs_.gameObject, false)
				arg_417_1.callingController_:SetSelectedState("normal")

				local var_420_2 = arg_417_1:GetWordFromCfg(411121097)
				local var_420_3 = arg_417_1:FormatText(var_420_2.content)

				arg_417_1.text_.text = var_420_3

				LuaForUtil.ClearLinePrefixSymbol(arg_417_1.text_)

				local var_420_4 = 28
				local var_420_5 = utf8.len(var_420_3)
				local var_420_6 = var_420_4 <= 0 and var_420_1 or var_420_1 * (var_420_5 / var_420_4)

				if var_420_6 > 0 and var_420_1 < var_420_6 then
					arg_417_1.talkMaxDuration = var_420_6

					if var_420_6 + var_420_0 > arg_417_1.duration_ then
						arg_417_1.duration_ = var_420_6 + var_420_0
					end
				end

				arg_417_1.text_.text = var_420_3
				arg_417_1.typewritter.percent = 0

				arg_417_1.typewritter:SetDirty()
				arg_417_1:ShowNextGo(false)
				arg_417_1:RecordContent(arg_417_1.text_.text)
			end

			local var_420_7 = math.max(var_420_1, arg_417_1.talkMaxDuration)

			if var_420_0 <= arg_417_1.time_ and arg_417_1.time_ < var_420_0 + var_420_7 then
				arg_417_1.typewritter.percent = (arg_417_1.time_ - var_420_0) / var_420_7

				arg_417_1.typewritter:SetDirty()
			end

			if arg_417_1.time_ >= var_420_0 + var_420_7 and arg_417_1.time_ < var_420_0 + var_420_7 + arg_420_0 then
				arg_417_1.typewritter.percent = 1

				arg_417_1.typewritter:SetDirty()
				arg_417_1:ShowNextGo(true)
			end
		end
	end,
	Play411121098 = function(arg_421_0, arg_421_1)
		arg_421_1.time_ = 0
		arg_421_1.frameCnt_ = 0
		arg_421_1.state_ = "playing"
		arg_421_1.curTalkId_ = 411121098
		arg_421_1.duration_ = 4.766

		local var_421_0 = {
			zh = 4.766,
			ja = 2.433
		}
		local var_421_1 = manager.audio:GetLocalizationFlag()

		if var_421_0[var_421_1] ~= nil then
			arg_421_1.duration_ = var_421_0[var_421_1]
		end

		SetActive(arg_421_1.tipsGo_, false)

		function arg_421_1.onSingleLineFinish_()
			arg_421_1.onSingleLineUpdate_ = nil
			arg_421_1.onSingleLineFinish_ = nil
			arg_421_1.state_ = "waiting"
		end

		function arg_421_1.playNext_(arg_423_0)
			if arg_423_0 == 1 then
				arg_421_0:Play411121099(arg_421_1)
			end
		end

		function arg_421_1.onSingleLineUpdate_(arg_424_0)
			local var_424_0 = arg_421_1.actors_["10071ui_story"].transform
			local var_424_1 = 0

			if var_424_1 < arg_421_1.time_ and arg_421_1.time_ <= var_424_1 + arg_424_0 then
				arg_421_1.var_.moveOldPos10071ui_story = var_424_0.localPosition
			end

			local var_424_2 = 0.001

			if var_424_1 <= arg_421_1.time_ and arg_421_1.time_ < var_424_1 + var_424_2 then
				local var_424_3 = (arg_421_1.time_ - var_424_1) / var_424_2
				local var_424_4 = Vector3.New(0.7, -0.9, -6.26)

				var_424_0.localPosition = Vector3.Lerp(arg_421_1.var_.moveOldPos10071ui_story, var_424_4, var_424_3)

				local var_424_5 = manager.ui.mainCamera.transform.position - var_424_0.position

				var_424_0.forward = Vector3.New(var_424_5.x, var_424_5.y, var_424_5.z)

				local var_424_6 = var_424_0.localEulerAngles

				var_424_6.z = 0
				var_424_6.x = 0
				var_424_0.localEulerAngles = var_424_6
			end

			if arg_421_1.time_ >= var_424_1 + var_424_2 and arg_421_1.time_ < var_424_1 + var_424_2 + arg_424_0 then
				var_424_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_424_7 = manager.ui.mainCamera.transform.position - var_424_0.position

				var_424_0.forward = Vector3.New(var_424_7.x, var_424_7.y, var_424_7.z)

				local var_424_8 = var_424_0.localEulerAngles

				var_424_8.z = 0
				var_424_8.x = 0
				var_424_0.localEulerAngles = var_424_8
			end

			local var_424_9 = arg_421_1.actors_["10071ui_story"]
			local var_424_10 = 0

			if var_424_10 < arg_421_1.time_ and arg_421_1.time_ <= var_424_10 + arg_424_0 and arg_421_1.var_.characterEffect10071ui_story == nil then
				arg_421_1.var_.characterEffect10071ui_story = var_424_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_424_11 = 0.200000002980232

			if var_424_10 <= arg_421_1.time_ and arg_421_1.time_ < var_424_10 + var_424_11 then
				local var_424_12 = (arg_421_1.time_ - var_424_10) / var_424_11

				if arg_421_1.var_.characterEffect10071ui_story then
					arg_421_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_421_1.time_ >= var_424_10 + var_424_11 and arg_421_1.time_ < var_424_10 + var_424_11 + arg_424_0 and arg_421_1.var_.characterEffect10071ui_story then
				arg_421_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_424_13 = 0

			if var_424_13 < arg_421_1.time_ and arg_421_1.time_ <= var_424_13 + arg_424_0 then
				arg_421_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_1")
			end

			local var_424_14 = 0

			if var_424_14 < arg_421_1.time_ and arg_421_1.time_ <= var_424_14 + arg_424_0 then
				arg_421_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_424_15 = arg_421_1.actors_["1095ui_story"].transform
			local var_424_16 = 0

			if var_424_16 < arg_421_1.time_ and arg_421_1.time_ <= var_424_16 + arg_424_0 then
				arg_421_1.var_.moveOldPos1095ui_story = var_424_15.localPosition
			end

			local var_424_17 = 0.001

			if var_424_16 <= arg_421_1.time_ and arg_421_1.time_ < var_424_16 + var_424_17 then
				local var_424_18 = (arg_421_1.time_ - var_424_16) / var_424_17
				local var_424_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_424_15.localPosition = Vector3.Lerp(arg_421_1.var_.moveOldPos1095ui_story, var_424_19, var_424_18)

				local var_424_20 = manager.ui.mainCamera.transform.position - var_424_15.position

				var_424_15.forward = Vector3.New(var_424_20.x, var_424_20.y, var_424_20.z)

				local var_424_21 = var_424_15.localEulerAngles

				var_424_21.z = 0
				var_424_21.x = 0
				var_424_15.localEulerAngles = var_424_21
			end

			if arg_421_1.time_ >= var_424_16 + var_424_17 and arg_421_1.time_ < var_424_16 + var_424_17 + arg_424_0 then
				var_424_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_424_22 = manager.ui.mainCamera.transform.position - var_424_15.position

				var_424_15.forward = Vector3.New(var_424_22.x, var_424_22.y, var_424_22.z)

				local var_424_23 = var_424_15.localEulerAngles

				var_424_23.z = 0
				var_424_23.x = 0
				var_424_15.localEulerAngles = var_424_23
			end

			local var_424_24 = 0
			local var_424_25 = 0.325

			if var_424_24 < arg_421_1.time_ and arg_421_1.time_ <= var_424_24 + arg_424_0 then
				arg_421_1.talkMaxDuration = 0
				arg_421_1.dialogCg_.alpha = 1

				arg_421_1.dialog_:SetActive(true)
				SetActive(arg_421_1.leftNameGo_, true)

				local var_424_26 = arg_421_1:FormatText(StoryNameCfg[670].name)

				arg_421_1.leftNameTxt_.text = var_424_26

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_421_1.leftNameTxt_.transform)

				arg_421_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_421_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_421_1:RecordName(arg_421_1.leftNameTxt_.text)
				SetActive(arg_421_1.iconTrs_.gameObject, false)
				arg_421_1.callingController_:SetSelectedState("normal")

				local var_424_27 = arg_421_1:GetWordFromCfg(411121098)
				local var_424_28 = arg_421_1:FormatText(var_424_27.content)

				arg_421_1.text_.text = var_424_28

				LuaForUtil.ClearLinePrefixSymbol(arg_421_1.text_)

				local var_424_29 = 13
				local var_424_30 = utf8.len(var_424_28)
				local var_424_31 = var_424_29 <= 0 and var_424_25 or var_424_25 * (var_424_30 / var_424_29)

				if var_424_31 > 0 and var_424_25 < var_424_31 then
					arg_421_1.talkMaxDuration = var_424_31

					if var_424_31 + var_424_24 > arg_421_1.duration_ then
						arg_421_1.duration_ = var_424_31 + var_424_24
					end
				end

				arg_421_1.text_.text = var_424_28
				arg_421_1.typewritter.percent = 0

				arg_421_1.typewritter:SetDirty()
				arg_421_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121098", "story_v_out_411121.awb") ~= 0 then
					local var_424_32 = manager.audio:GetVoiceLength("story_v_out_411121", "411121098", "story_v_out_411121.awb") / 1000

					if var_424_32 + var_424_24 > arg_421_1.duration_ then
						arg_421_1.duration_ = var_424_32 + var_424_24
					end

					if var_424_27.prefab_name ~= "" and arg_421_1.actors_[var_424_27.prefab_name] ~= nil then
						local var_424_33 = LuaForUtil.PlayVoiceWithCriLipsync(arg_421_1.actors_[var_424_27.prefab_name].transform, "story_v_out_411121", "411121098", "story_v_out_411121.awb")

						arg_421_1:RecordAudio("411121098", var_424_33)
						arg_421_1:RecordAudio("411121098", var_424_33)
					else
						arg_421_1:AudioAction("play", "voice", "story_v_out_411121", "411121098", "story_v_out_411121.awb")
					end

					arg_421_1:RecordHistoryTalkVoice("story_v_out_411121", "411121098", "story_v_out_411121.awb")
				end

				arg_421_1:RecordContent(arg_421_1.text_.text)
			end

			local var_424_34 = math.max(var_424_25, arg_421_1.talkMaxDuration)

			if var_424_24 <= arg_421_1.time_ and arg_421_1.time_ < var_424_24 + var_424_34 then
				arg_421_1.typewritter.percent = (arg_421_1.time_ - var_424_24) / var_424_34

				arg_421_1.typewritter:SetDirty()
			end

			if arg_421_1.time_ >= var_424_24 + var_424_34 and arg_421_1.time_ < var_424_24 + var_424_34 + arg_424_0 then
				arg_421_1.typewritter.percent = 1

				arg_421_1.typewritter:SetDirty()
				arg_421_1:ShowNextGo(true)
			end
		end
	end,
	Play411121099 = function(arg_425_0, arg_425_1)
		arg_425_1.time_ = 0
		arg_425_1.frameCnt_ = 0
		arg_425_1.state_ = "playing"
		arg_425_1.curTalkId_ = 411121099
		arg_425_1.duration_ = 5

		SetActive(arg_425_1.tipsGo_, false)

		function arg_425_1.onSingleLineFinish_()
			arg_425_1.onSingleLineUpdate_ = nil
			arg_425_1.onSingleLineFinish_ = nil
			arg_425_1.state_ = "waiting"
		end

		function arg_425_1.playNext_(arg_427_0)
			if arg_427_0 == 1 then
				arg_425_0:Play411121100(arg_425_1)
			end
		end

		function arg_425_1.onSingleLineUpdate_(arg_428_0)
			local var_428_0 = arg_425_1.actors_["10071ui_story"]
			local var_428_1 = 0

			if var_428_1 < arg_425_1.time_ and arg_425_1.time_ <= var_428_1 + arg_428_0 and arg_425_1.var_.characterEffect10071ui_story == nil then
				arg_425_1.var_.characterEffect10071ui_story = var_428_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_428_2 = 0.200000002980232

			if var_428_1 <= arg_425_1.time_ and arg_425_1.time_ < var_428_1 + var_428_2 then
				local var_428_3 = (arg_425_1.time_ - var_428_1) / var_428_2

				if arg_425_1.var_.characterEffect10071ui_story then
					local var_428_4 = Mathf.Lerp(0, 0.5, var_428_3)

					arg_425_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_425_1.var_.characterEffect10071ui_story.fillRatio = var_428_4
				end
			end

			if arg_425_1.time_ >= var_428_1 + var_428_2 and arg_425_1.time_ < var_428_1 + var_428_2 + arg_428_0 and arg_425_1.var_.characterEffect10071ui_story then
				local var_428_5 = 0.5

				arg_425_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_425_1.var_.characterEffect10071ui_story.fillRatio = var_428_5
			end

			local var_428_6 = 0
			local var_428_7 = 0.6

			if var_428_6 < arg_425_1.time_ and arg_425_1.time_ <= var_428_6 + arg_428_0 then
				arg_425_1.talkMaxDuration = 0
				arg_425_1.dialogCg_.alpha = 1

				arg_425_1.dialog_:SetActive(true)
				SetActive(arg_425_1.leftNameGo_, false)

				arg_425_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_425_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_425_1:RecordName(arg_425_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_425_1.iconTrs_.gameObject, false)
				arg_425_1.callingController_:SetSelectedState("normal")

				local var_428_8 = arg_425_1:GetWordFromCfg(411121099)
				local var_428_9 = arg_425_1:FormatText(var_428_8.content)

				arg_425_1.text_.text = var_428_9

				LuaForUtil.ClearLinePrefixSymbol(arg_425_1.text_)

				local var_428_10 = 24
				local var_428_11 = utf8.len(var_428_9)
				local var_428_12 = var_428_10 <= 0 and var_428_7 or var_428_7 * (var_428_11 / var_428_10)

				if var_428_12 > 0 and var_428_7 < var_428_12 then
					arg_425_1.talkMaxDuration = var_428_12

					if var_428_12 + var_428_6 > arg_425_1.duration_ then
						arg_425_1.duration_ = var_428_12 + var_428_6
					end
				end

				arg_425_1.text_.text = var_428_9
				arg_425_1.typewritter.percent = 0

				arg_425_1.typewritter:SetDirty()
				arg_425_1:ShowNextGo(false)
				arg_425_1:RecordContent(arg_425_1.text_.text)
			end

			local var_428_13 = math.max(var_428_7, arg_425_1.talkMaxDuration)

			if var_428_6 <= arg_425_1.time_ and arg_425_1.time_ < var_428_6 + var_428_13 then
				arg_425_1.typewritter.percent = (arg_425_1.time_ - var_428_6) / var_428_13

				arg_425_1.typewritter:SetDirty()
			end

			if arg_425_1.time_ >= var_428_6 + var_428_13 and arg_425_1.time_ < var_428_6 + var_428_13 + arg_428_0 then
				arg_425_1.typewritter.percent = 1

				arg_425_1.typewritter:SetDirty()
				arg_425_1:ShowNextGo(true)
			end
		end
	end,
	Play411121100 = function(arg_429_0, arg_429_1)
		arg_429_1.time_ = 0
		arg_429_1.frameCnt_ = 0
		arg_429_1.state_ = "playing"
		arg_429_1.curTalkId_ = 411121100
		arg_429_1.duration_ = 9.8

		local var_429_0 = {
			zh = 9.8,
			ja = 8.9
		}
		local var_429_1 = manager.audio:GetLocalizationFlag()

		if var_429_0[var_429_1] ~= nil then
			arg_429_1.duration_ = var_429_0[var_429_1]
		end

		SetActive(arg_429_1.tipsGo_, false)

		function arg_429_1.onSingleLineFinish_()
			arg_429_1.onSingleLineUpdate_ = nil
			arg_429_1.onSingleLineFinish_ = nil
			arg_429_1.state_ = "waiting"
		end

		function arg_429_1.playNext_(arg_431_0)
			if arg_431_0 == 1 then
				arg_429_0:Play411121101(arg_429_1)
			end
		end

		function arg_429_1.onSingleLineUpdate_(arg_432_0)
			local var_432_0 = arg_429_1.actors_["1095ui_story"].transform
			local var_432_1 = 0

			if var_432_1 < arg_429_1.time_ and arg_429_1.time_ <= var_432_1 + arg_432_0 then
				arg_429_1.var_.moveOldPos1095ui_story = var_432_0.localPosition
			end

			local var_432_2 = 0.001

			if var_432_1 <= arg_429_1.time_ and arg_429_1.time_ < var_432_1 + var_432_2 then
				local var_432_3 = (arg_429_1.time_ - var_432_1) / var_432_2
				local var_432_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_432_0.localPosition = Vector3.Lerp(arg_429_1.var_.moveOldPos1095ui_story, var_432_4, var_432_3)

				local var_432_5 = manager.ui.mainCamera.transform.position - var_432_0.position

				var_432_0.forward = Vector3.New(var_432_5.x, var_432_5.y, var_432_5.z)

				local var_432_6 = var_432_0.localEulerAngles

				var_432_6.z = 0
				var_432_6.x = 0
				var_432_0.localEulerAngles = var_432_6
			end

			if arg_429_1.time_ >= var_432_1 + var_432_2 and arg_429_1.time_ < var_432_1 + var_432_2 + arg_432_0 then
				var_432_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_432_7 = manager.ui.mainCamera.transform.position - var_432_0.position

				var_432_0.forward = Vector3.New(var_432_7.x, var_432_7.y, var_432_7.z)

				local var_432_8 = var_432_0.localEulerAngles

				var_432_8.z = 0
				var_432_8.x = 0
				var_432_0.localEulerAngles = var_432_8
			end

			local var_432_9 = arg_429_1.actors_["1095ui_story"]
			local var_432_10 = 0

			if var_432_10 < arg_429_1.time_ and arg_429_1.time_ <= var_432_10 + arg_432_0 and arg_429_1.var_.characterEffect1095ui_story == nil then
				arg_429_1.var_.characterEffect1095ui_story = var_432_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_432_11 = 0.200000002980232

			if var_432_10 <= arg_429_1.time_ and arg_429_1.time_ < var_432_10 + var_432_11 then
				local var_432_12 = (arg_429_1.time_ - var_432_10) / var_432_11

				if arg_429_1.var_.characterEffect1095ui_story then
					arg_429_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_429_1.time_ >= var_432_10 + var_432_11 and arg_429_1.time_ < var_432_10 + var_432_11 + arg_432_0 and arg_429_1.var_.characterEffect1095ui_story then
				arg_429_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_432_13 = 0

			if var_432_13 < arg_429_1.time_ and arg_429_1.time_ <= var_432_13 + arg_432_0 then
				arg_429_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_432_14 = 0

			if var_432_14 < arg_429_1.time_ and arg_429_1.time_ <= var_432_14 + arg_432_0 then
				arg_429_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_432_15 = 0
			local var_432_16 = 1.05

			if var_432_15 < arg_429_1.time_ and arg_429_1.time_ <= var_432_15 + arg_432_0 then
				arg_429_1.talkMaxDuration = 0
				arg_429_1.dialogCg_.alpha = 1

				arg_429_1.dialog_:SetActive(true)
				SetActive(arg_429_1.leftNameGo_, true)

				local var_432_17 = arg_429_1:FormatText(StoryNameCfg[471].name)

				arg_429_1.leftNameTxt_.text = var_432_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_429_1.leftNameTxt_.transform)

				arg_429_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_429_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_429_1:RecordName(arg_429_1.leftNameTxt_.text)
				SetActive(arg_429_1.iconTrs_.gameObject, false)
				arg_429_1.callingController_:SetSelectedState("normal")

				local var_432_18 = arg_429_1:GetWordFromCfg(411121100)
				local var_432_19 = arg_429_1:FormatText(var_432_18.content)

				arg_429_1.text_.text = var_432_19

				LuaForUtil.ClearLinePrefixSymbol(arg_429_1.text_)

				local var_432_20 = 42
				local var_432_21 = utf8.len(var_432_19)
				local var_432_22 = var_432_20 <= 0 and var_432_16 or var_432_16 * (var_432_21 / var_432_20)

				if var_432_22 > 0 and var_432_16 < var_432_22 then
					arg_429_1.talkMaxDuration = var_432_22

					if var_432_22 + var_432_15 > arg_429_1.duration_ then
						arg_429_1.duration_ = var_432_22 + var_432_15
					end
				end

				arg_429_1.text_.text = var_432_19
				arg_429_1.typewritter.percent = 0

				arg_429_1.typewritter:SetDirty()
				arg_429_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121100", "story_v_out_411121.awb") ~= 0 then
					local var_432_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121100", "story_v_out_411121.awb") / 1000

					if var_432_23 + var_432_15 > arg_429_1.duration_ then
						arg_429_1.duration_ = var_432_23 + var_432_15
					end

					if var_432_18.prefab_name ~= "" and arg_429_1.actors_[var_432_18.prefab_name] ~= nil then
						local var_432_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_429_1.actors_[var_432_18.prefab_name].transform, "story_v_out_411121", "411121100", "story_v_out_411121.awb")

						arg_429_1:RecordAudio("411121100", var_432_24)
						arg_429_1:RecordAudio("411121100", var_432_24)
					else
						arg_429_1:AudioAction("play", "voice", "story_v_out_411121", "411121100", "story_v_out_411121.awb")
					end

					arg_429_1:RecordHistoryTalkVoice("story_v_out_411121", "411121100", "story_v_out_411121.awb")
				end

				arg_429_1:RecordContent(arg_429_1.text_.text)
			end

			local var_432_25 = math.max(var_432_16, arg_429_1.talkMaxDuration)

			if var_432_15 <= arg_429_1.time_ and arg_429_1.time_ < var_432_15 + var_432_25 then
				arg_429_1.typewritter.percent = (arg_429_1.time_ - var_432_15) / var_432_25

				arg_429_1.typewritter:SetDirty()
			end

			if arg_429_1.time_ >= var_432_15 + var_432_25 and arg_429_1.time_ < var_432_15 + var_432_25 + arg_432_0 then
				arg_429_1.typewritter.percent = 1

				arg_429_1.typewritter:SetDirty()
				arg_429_1:ShowNextGo(true)
			end
		end
	end,
	Play411121101 = function(arg_433_0, arg_433_1)
		arg_433_1.time_ = 0
		arg_433_1.frameCnt_ = 0
		arg_433_1.state_ = "playing"
		arg_433_1.curTalkId_ = 411121101
		arg_433_1.duration_ = 4.433

		local var_433_0 = {
			zh = 4.433,
			ja = 4.1
		}
		local var_433_1 = manager.audio:GetLocalizationFlag()

		if var_433_0[var_433_1] ~= nil then
			arg_433_1.duration_ = var_433_0[var_433_1]
		end

		SetActive(arg_433_1.tipsGo_, false)

		function arg_433_1.onSingleLineFinish_()
			arg_433_1.onSingleLineUpdate_ = nil
			arg_433_1.onSingleLineFinish_ = nil
			arg_433_1.state_ = "waiting"
		end

		function arg_433_1.playNext_(arg_435_0)
			if arg_435_0 == 1 then
				arg_433_0:Play411121102(arg_433_1)
			end
		end

		function arg_433_1.onSingleLineUpdate_(arg_436_0)
			local var_436_0 = 0
			local var_436_1 = 0.6

			if var_436_0 < arg_433_1.time_ and arg_433_1.time_ <= var_436_0 + arg_436_0 then
				arg_433_1.talkMaxDuration = 0
				arg_433_1.dialogCg_.alpha = 1

				arg_433_1.dialog_:SetActive(true)
				SetActive(arg_433_1.leftNameGo_, true)

				local var_436_2 = arg_433_1:FormatText(StoryNameCfg[471].name)

				arg_433_1.leftNameTxt_.text = var_436_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_433_1.leftNameTxt_.transform)

				arg_433_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_433_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_433_1:RecordName(arg_433_1.leftNameTxt_.text)
				SetActive(arg_433_1.iconTrs_.gameObject, false)
				arg_433_1.callingController_:SetSelectedState("normal")

				local var_436_3 = arg_433_1:GetWordFromCfg(411121101)
				local var_436_4 = arg_433_1:FormatText(var_436_3.content)

				arg_433_1.text_.text = var_436_4

				LuaForUtil.ClearLinePrefixSymbol(arg_433_1.text_)

				local var_436_5 = 24
				local var_436_6 = utf8.len(var_436_4)
				local var_436_7 = var_436_5 <= 0 and var_436_1 or var_436_1 * (var_436_6 / var_436_5)

				if var_436_7 > 0 and var_436_1 < var_436_7 then
					arg_433_1.talkMaxDuration = var_436_7

					if var_436_7 + var_436_0 > arg_433_1.duration_ then
						arg_433_1.duration_ = var_436_7 + var_436_0
					end
				end

				arg_433_1.text_.text = var_436_4
				arg_433_1.typewritter.percent = 0

				arg_433_1.typewritter:SetDirty()
				arg_433_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121101", "story_v_out_411121.awb") ~= 0 then
					local var_436_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121101", "story_v_out_411121.awb") / 1000

					if var_436_8 + var_436_0 > arg_433_1.duration_ then
						arg_433_1.duration_ = var_436_8 + var_436_0
					end

					if var_436_3.prefab_name ~= "" and arg_433_1.actors_[var_436_3.prefab_name] ~= nil then
						local var_436_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_433_1.actors_[var_436_3.prefab_name].transform, "story_v_out_411121", "411121101", "story_v_out_411121.awb")

						arg_433_1:RecordAudio("411121101", var_436_9)
						arg_433_1:RecordAudio("411121101", var_436_9)
					else
						arg_433_1:AudioAction("play", "voice", "story_v_out_411121", "411121101", "story_v_out_411121.awb")
					end

					arg_433_1:RecordHistoryTalkVoice("story_v_out_411121", "411121101", "story_v_out_411121.awb")
				end

				arg_433_1:RecordContent(arg_433_1.text_.text)
			end

			local var_436_10 = math.max(var_436_1, arg_433_1.talkMaxDuration)

			if var_436_0 <= arg_433_1.time_ and arg_433_1.time_ < var_436_0 + var_436_10 then
				arg_433_1.typewritter.percent = (arg_433_1.time_ - var_436_0) / var_436_10

				arg_433_1.typewritter:SetDirty()
			end

			if arg_433_1.time_ >= var_436_0 + var_436_10 and arg_433_1.time_ < var_436_0 + var_436_10 + arg_436_0 then
				arg_433_1.typewritter.percent = 1

				arg_433_1.typewritter:SetDirty()
				arg_433_1:ShowNextGo(true)
			end
		end
	end,
	Play411121102 = function(arg_437_0, arg_437_1)
		arg_437_1.time_ = 0
		arg_437_1.frameCnt_ = 0
		arg_437_1.state_ = "playing"
		arg_437_1.curTalkId_ = 411121102
		arg_437_1.duration_ = 6.133

		local var_437_0 = {
			zh = 6.133,
			ja = 4.7
		}
		local var_437_1 = manager.audio:GetLocalizationFlag()

		if var_437_0[var_437_1] ~= nil then
			arg_437_1.duration_ = var_437_0[var_437_1]
		end

		SetActive(arg_437_1.tipsGo_, false)

		function arg_437_1.onSingleLineFinish_()
			arg_437_1.onSingleLineUpdate_ = nil
			arg_437_1.onSingleLineFinish_ = nil
			arg_437_1.state_ = "waiting"
		end

		function arg_437_1.playNext_(arg_439_0)
			if arg_439_0 == 1 then
				arg_437_0:Play411121103(arg_437_1)
			end
		end

		function arg_437_1.onSingleLineUpdate_(arg_440_0)
			local var_440_0 = arg_437_1.actors_["1095ui_story"].transform
			local var_440_1 = 0

			if var_440_1 < arg_437_1.time_ and arg_437_1.time_ <= var_440_1 + arg_440_0 then
				arg_437_1.var_.moveOldPos1095ui_story = var_440_0.localPosition
			end

			local var_440_2 = 0.001

			if var_440_1 <= arg_437_1.time_ and arg_437_1.time_ < var_440_1 + var_440_2 then
				local var_440_3 = (arg_437_1.time_ - var_440_1) / var_440_2
				local var_440_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_440_0.localPosition = Vector3.Lerp(arg_437_1.var_.moveOldPos1095ui_story, var_440_4, var_440_3)

				local var_440_5 = manager.ui.mainCamera.transform.position - var_440_0.position

				var_440_0.forward = Vector3.New(var_440_5.x, var_440_5.y, var_440_5.z)

				local var_440_6 = var_440_0.localEulerAngles

				var_440_6.z = 0
				var_440_6.x = 0
				var_440_0.localEulerAngles = var_440_6
			end

			if arg_437_1.time_ >= var_440_1 + var_440_2 and arg_437_1.time_ < var_440_1 + var_440_2 + arg_440_0 then
				var_440_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_440_7 = manager.ui.mainCamera.transform.position - var_440_0.position

				var_440_0.forward = Vector3.New(var_440_7.x, var_440_7.y, var_440_7.z)

				local var_440_8 = var_440_0.localEulerAngles

				var_440_8.z = 0
				var_440_8.x = 0
				var_440_0.localEulerAngles = var_440_8
			end

			local var_440_9 = arg_437_1.actors_["1095ui_story"]
			local var_440_10 = 0

			if var_440_10 < arg_437_1.time_ and arg_437_1.time_ <= var_440_10 + arg_440_0 and arg_437_1.var_.characterEffect1095ui_story == nil then
				arg_437_1.var_.characterEffect1095ui_story = var_440_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_440_11 = 0.200000002980232

			if var_440_10 <= arg_437_1.time_ and arg_437_1.time_ < var_440_10 + var_440_11 then
				local var_440_12 = (arg_437_1.time_ - var_440_10) / var_440_11

				if arg_437_1.var_.characterEffect1095ui_story then
					arg_437_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_437_1.time_ >= var_440_10 + var_440_11 and arg_437_1.time_ < var_440_10 + var_440_11 + arg_440_0 and arg_437_1.var_.characterEffect1095ui_story then
				arg_437_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_440_13 = 0

			if var_440_13 < arg_437_1.time_ and arg_437_1.time_ <= var_440_13 + arg_440_0 then
				arg_437_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_440_14 = 0

			if var_440_14 < arg_437_1.time_ and arg_437_1.time_ <= var_440_14 + arg_440_0 then
				arg_437_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_440_15 = 0
			local var_440_16 = 0.55

			if var_440_15 < arg_437_1.time_ and arg_437_1.time_ <= var_440_15 + arg_440_0 then
				arg_437_1.talkMaxDuration = 0
				arg_437_1.dialogCg_.alpha = 1

				arg_437_1.dialog_:SetActive(true)
				SetActive(arg_437_1.leftNameGo_, true)

				local var_440_17 = arg_437_1:FormatText(StoryNameCfg[471].name)

				arg_437_1.leftNameTxt_.text = var_440_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_437_1.leftNameTxt_.transform)

				arg_437_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_437_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_437_1:RecordName(arg_437_1.leftNameTxt_.text)
				SetActive(arg_437_1.iconTrs_.gameObject, false)
				arg_437_1.callingController_:SetSelectedState("normal")

				local var_440_18 = arg_437_1:GetWordFromCfg(411121102)
				local var_440_19 = arg_437_1:FormatText(var_440_18.content)

				arg_437_1.text_.text = var_440_19

				LuaForUtil.ClearLinePrefixSymbol(arg_437_1.text_)

				local var_440_20 = 22
				local var_440_21 = utf8.len(var_440_19)
				local var_440_22 = var_440_20 <= 0 and var_440_16 or var_440_16 * (var_440_21 / var_440_20)

				if var_440_22 > 0 and var_440_16 < var_440_22 then
					arg_437_1.talkMaxDuration = var_440_22

					if var_440_22 + var_440_15 > arg_437_1.duration_ then
						arg_437_1.duration_ = var_440_22 + var_440_15
					end
				end

				arg_437_1.text_.text = var_440_19
				arg_437_1.typewritter.percent = 0

				arg_437_1.typewritter:SetDirty()
				arg_437_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121102", "story_v_out_411121.awb") ~= 0 then
					local var_440_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121102", "story_v_out_411121.awb") / 1000

					if var_440_23 + var_440_15 > arg_437_1.duration_ then
						arg_437_1.duration_ = var_440_23 + var_440_15
					end

					if var_440_18.prefab_name ~= "" and arg_437_1.actors_[var_440_18.prefab_name] ~= nil then
						local var_440_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_437_1.actors_[var_440_18.prefab_name].transform, "story_v_out_411121", "411121102", "story_v_out_411121.awb")

						arg_437_1:RecordAudio("411121102", var_440_24)
						arg_437_1:RecordAudio("411121102", var_440_24)
					else
						arg_437_1:AudioAction("play", "voice", "story_v_out_411121", "411121102", "story_v_out_411121.awb")
					end

					arg_437_1:RecordHistoryTalkVoice("story_v_out_411121", "411121102", "story_v_out_411121.awb")
				end

				arg_437_1:RecordContent(arg_437_1.text_.text)
			end

			local var_440_25 = math.max(var_440_16, arg_437_1.talkMaxDuration)

			if var_440_15 <= arg_437_1.time_ and arg_437_1.time_ < var_440_15 + var_440_25 then
				arg_437_1.typewritter.percent = (arg_437_1.time_ - var_440_15) / var_440_25

				arg_437_1.typewritter:SetDirty()
			end

			if arg_437_1.time_ >= var_440_15 + var_440_25 and arg_437_1.time_ < var_440_15 + var_440_25 + arg_440_0 then
				arg_437_1.typewritter.percent = 1

				arg_437_1.typewritter:SetDirty()
				arg_437_1:ShowNextGo(true)
			end
		end
	end,
	Play411121103 = function(arg_441_0, arg_441_1)
		arg_441_1.time_ = 0
		arg_441_1.frameCnt_ = 0
		arg_441_1.state_ = "playing"
		arg_441_1.curTalkId_ = 411121103
		arg_441_1.duration_ = 4.066

		local var_441_0 = {
			zh = 3.666,
			ja = 4.066
		}
		local var_441_1 = manager.audio:GetLocalizationFlag()

		if var_441_0[var_441_1] ~= nil then
			arg_441_1.duration_ = var_441_0[var_441_1]
		end

		SetActive(arg_441_1.tipsGo_, false)

		function arg_441_1.onSingleLineFinish_()
			arg_441_1.onSingleLineUpdate_ = nil
			arg_441_1.onSingleLineFinish_ = nil
			arg_441_1.state_ = "waiting"
		end

		function arg_441_1.playNext_(arg_443_0)
			if arg_443_0 == 1 then
				arg_441_0:Play411121104(arg_441_1)
			end
		end

		function arg_441_1.onSingleLineUpdate_(arg_444_0)
			local var_444_0 = 0
			local var_444_1 = 0.325

			if var_444_0 < arg_441_1.time_ and arg_441_1.time_ <= var_444_0 + arg_444_0 then
				arg_441_1.talkMaxDuration = 0
				arg_441_1.dialogCg_.alpha = 1

				arg_441_1.dialog_:SetActive(true)
				SetActive(arg_441_1.leftNameGo_, true)

				local var_444_2 = arg_441_1:FormatText(StoryNameCfg[471].name)

				arg_441_1.leftNameTxt_.text = var_444_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_441_1.leftNameTxt_.transform)

				arg_441_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_441_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_441_1:RecordName(arg_441_1.leftNameTxt_.text)
				SetActive(arg_441_1.iconTrs_.gameObject, false)
				arg_441_1.callingController_:SetSelectedState("normal")

				local var_444_3 = arg_441_1:GetWordFromCfg(411121103)
				local var_444_4 = arg_441_1:FormatText(var_444_3.content)

				arg_441_1.text_.text = var_444_4

				LuaForUtil.ClearLinePrefixSymbol(arg_441_1.text_)

				local var_444_5 = 13
				local var_444_6 = utf8.len(var_444_4)
				local var_444_7 = var_444_5 <= 0 and var_444_1 or var_444_1 * (var_444_6 / var_444_5)

				if var_444_7 > 0 and var_444_1 < var_444_7 then
					arg_441_1.talkMaxDuration = var_444_7

					if var_444_7 + var_444_0 > arg_441_1.duration_ then
						arg_441_1.duration_ = var_444_7 + var_444_0
					end
				end

				arg_441_1.text_.text = var_444_4
				arg_441_1.typewritter.percent = 0

				arg_441_1.typewritter:SetDirty()
				arg_441_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121103", "story_v_out_411121.awb") ~= 0 then
					local var_444_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121103", "story_v_out_411121.awb") / 1000

					if var_444_8 + var_444_0 > arg_441_1.duration_ then
						arg_441_1.duration_ = var_444_8 + var_444_0
					end

					if var_444_3.prefab_name ~= "" and arg_441_1.actors_[var_444_3.prefab_name] ~= nil then
						local var_444_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_441_1.actors_[var_444_3.prefab_name].transform, "story_v_out_411121", "411121103", "story_v_out_411121.awb")

						arg_441_1:RecordAudio("411121103", var_444_9)
						arg_441_1:RecordAudio("411121103", var_444_9)
					else
						arg_441_1:AudioAction("play", "voice", "story_v_out_411121", "411121103", "story_v_out_411121.awb")
					end

					arg_441_1:RecordHistoryTalkVoice("story_v_out_411121", "411121103", "story_v_out_411121.awb")
				end

				arg_441_1:RecordContent(arg_441_1.text_.text)
			end

			local var_444_10 = math.max(var_444_1, arg_441_1.talkMaxDuration)

			if var_444_0 <= arg_441_1.time_ and arg_441_1.time_ < var_444_0 + var_444_10 then
				arg_441_1.typewritter.percent = (arg_441_1.time_ - var_444_0) / var_444_10

				arg_441_1.typewritter:SetDirty()
			end

			if arg_441_1.time_ >= var_444_0 + var_444_10 and arg_441_1.time_ < var_444_0 + var_444_10 + arg_444_0 then
				arg_441_1.typewritter.percent = 1

				arg_441_1.typewritter:SetDirty()
				arg_441_1:ShowNextGo(true)
			end
		end
	end,
	Play411121104 = function(arg_445_0, arg_445_1)
		arg_445_1.time_ = 0
		arg_445_1.frameCnt_ = 0
		arg_445_1.state_ = "playing"
		arg_445_1.curTalkId_ = 411121104
		arg_445_1.duration_ = 11.333

		local var_445_0 = {
			zh = 9.4,
			ja = 11.333
		}
		local var_445_1 = manager.audio:GetLocalizationFlag()

		if var_445_0[var_445_1] ~= nil then
			arg_445_1.duration_ = var_445_0[var_445_1]
		end

		SetActive(arg_445_1.tipsGo_, false)

		function arg_445_1.onSingleLineFinish_()
			arg_445_1.onSingleLineUpdate_ = nil
			arg_445_1.onSingleLineFinish_ = nil
			arg_445_1.state_ = "waiting"
		end

		function arg_445_1.playNext_(arg_447_0)
			if arg_447_0 == 1 then
				arg_445_0:Play411121105(arg_445_1)
			end
		end

		function arg_445_1.onSingleLineUpdate_(arg_448_0)
			local var_448_0 = arg_445_1.actors_["10071ui_story"].transform
			local var_448_1 = 0

			if var_448_1 < arg_445_1.time_ and arg_445_1.time_ <= var_448_1 + arg_448_0 then
				arg_445_1.var_.moveOldPos10071ui_story = var_448_0.localPosition
			end

			local var_448_2 = 0.001

			if var_448_1 <= arg_445_1.time_ and arg_445_1.time_ < var_448_1 + var_448_2 then
				local var_448_3 = (arg_445_1.time_ - var_448_1) / var_448_2
				local var_448_4 = Vector3.New(0.7, -0.9, -6.26)

				var_448_0.localPosition = Vector3.Lerp(arg_445_1.var_.moveOldPos10071ui_story, var_448_4, var_448_3)

				local var_448_5 = manager.ui.mainCamera.transform.position - var_448_0.position

				var_448_0.forward = Vector3.New(var_448_5.x, var_448_5.y, var_448_5.z)

				local var_448_6 = var_448_0.localEulerAngles

				var_448_6.z = 0
				var_448_6.x = 0
				var_448_0.localEulerAngles = var_448_6
			end

			if arg_445_1.time_ >= var_448_1 + var_448_2 and arg_445_1.time_ < var_448_1 + var_448_2 + arg_448_0 then
				var_448_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_448_7 = manager.ui.mainCamera.transform.position - var_448_0.position

				var_448_0.forward = Vector3.New(var_448_7.x, var_448_7.y, var_448_7.z)

				local var_448_8 = var_448_0.localEulerAngles

				var_448_8.z = 0
				var_448_8.x = 0
				var_448_0.localEulerAngles = var_448_8
			end

			local var_448_9 = arg_445_1.actors_["10071ui_story"]
			local var_448_10 = 0

			if var_448_10 < arg_445_1.time_ and arg_445_1.time_ <= var_448_10 + arg_448_0 and arg_445_1.var_.characterEffect10071ui_story == nil then
				arg_445_1.var_.characterEffect10071ui_story = var_448_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_448_11 = 0.200000002980232

			if var_448_10 <= arg_445_1.time_ and arg_445_1.time_ < var_448_10 + var_448_11 then
				local var_448_12 = (arg_445_1.time_ - var_448_10) / var_448_11

				if arg_445_1.var_.characterEffect10071ui_story then
					arg_445_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_445_1.time_ >= var_448_10 + var_448_11 and arg_445_1.time_ < var_448_10 + var_448_11 + arg_448_0 and arg_445_1.var_.characterEffect10071ui_story then
				arg_445_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_448_13 = arg_445_1.actors_["1095ui_story"]
			local var_448_14 = 0

			if var_448_14 < arg_445_1.time_ and arg_445_1.time_ <= var_448_14 + arg_448_0 and arg_445_1.var_.characterEffect1095ui_story == nil then
				arg_445_1.var_.characterEffect1095ui_story = var_448_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_448_15 = 0.200000002980232

			if var_448_14 <= arg_445_1.time_ and arg_445_1.time_ < var_448_14 + var_448_15 then
				local var_448_16 = (arg_445_1.time_ - var_448_14) / var_448_15

				if arg_445_1.var_.characterEffect1095ui_story then
					local var_448_17 = Mathf.Lerp(0, 0.5, var_448_16)

					arg_445_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_445_1.var_.characterEffect1095ui_story.fillRatio = var_448_17
				end
			end

			if arg_445_1.time_ >= var_448_14 + var_448_15 and arg_445_1.time_ < var_448_14 + var_448_15 + arg_448_0 and arg_445_1.var_.characterEffect1095ui_story then
				local var_448_18 = 0.5

				arg_445_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_445_1.var_.characterEffect1095ui_story.fillRatio = var_448_18
			end

			local var_448_19 = 0
			local var_448_20 = 0.9

			if var_448_19 < arg_445_1.time_ and arg_445_1.time_ <= var_448_19 + arg_448_0 then
				arg_445_1.talkMaxDuration = 0
				arg_445_1.dialogCg_.alpha = 1

				arg_445_1.dialog_:SetActive(true)
				SetActive(arg_445_1.leftNameGo_, true)

				local var_448_21 = arg_445_1:FormatText(StoryNameCfg[670].name)

				arg_445_1.leftNameTxt_.text = var_448_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_445_1.leftNameTxt_.transform)

				arg_445_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_445_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_445_1:RecordName(arg_445_1.leftNameTxt_.text)
				SetActive(arg_445_1.iconTrs_.gameObject, false)
				arg_445_1.callingController_:SetSelectedState("normal")

				local var_448_22 = arg_445_1:GetWordFromCfg(411121104)
				local var_448_23 = arg_445_1:FormatText(var_448_22.content)

				arg_445_1.text_.text = var_448_23

				LuaForUtil.ClearLinePrefixSymbol(arg_445_1.text_)

				local var_448_24 = 36
				local var_448_25 = utf8.len(var_448_23)
				local var_448_26 = var_448_24 <= 0 and var_448_20 or var_448_20 * (var_448_25 / var_448_24)

				if var_448_26 > 0 and var_448_20 < var_448_26 then
					arg_445_1.talkMaxDuration = var_448_26

					if var_448_26 + var_448_19 > arg_445_1.duration_ then
						arg_445_1.duration_ = var_448_26 + var_448_19
					end
				end

				arg_445_1.text_.text = var_448_23
				arg_445_1.typewritter.percent = 0

				arg_445_1.typewritter:SetDirty()
				arg_445_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121104", "story_v_out_411121.awb") ~= 0 then
					local var_448_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121104", "story_v_out_411121.awb") / 1000

					if var_448_27 + var_448_19 > arg_445_1.duration_ then
						arg_445_1.duration_ = var_448_27 + var_448_19
					end

					if var_448_22.prefab_name ~= "" and arg_445_1.actors_[var_448_22.prefab_name] ~= nil then
						local var_448_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_445_1.actors_[var_448_22.prefab_name].transform, "story_v_out_411121", "411121104", "story_v_out_411121.awb")

						arg_445_1:RecordAudio("411121104", var_448_28)
						arg_445_1:RecordAudio("411121104", var_448_28)
					else
						arg_445_1:AudioAction("play", "voice", "story_v_out_411121", "411121104", "story_v_out_411121.awb")
					end

					arg_445_1:RecordHistoryTalkVoice("story_v_out_411121", "411121104", "story_v_out_411121.awb")
				end

				arg_445_1:RecordContent(arg_445_1.text_.text)
			end

			local var_448_29 = math.max(var_448_20, arg_445_1.talkMaxDuration)

			if var_448_19 <= arg_445_1.time_ and arg_445_1.time_ < var_448_19 + var_448_29 then
				arg_445_1.typewritter.percent = (arg_445_1.time_ - var_448_19) / var_448_29

				arg_445_1.typewritter:SetDirty()
			end

			if arg_445_1.time_ >= var_448_19 + var_448_29 and arg_445_1.time_ < var_448_19 + var_448_29 + arg_448_0 then
				arg_445_1.typewritter.percent = 1

				arg_445_1.typewritter:SetDirty()
				arg_445_1:ShowNextGo(true)
			end
		end
	end,
	Play411121105 = function(arg_449_0, arg_449_1)
		arg_449_1.time_ = 0
		arg_449_1.frameCnt_ = 0
		arg_449_1.state_ = "playing"
		arg_449_1.curTalkId_ = 411121105
		arg_449_1.duration_ = 10

		local var_449_0 = {
			zh = 10,
			ja = 8.233
		}
		local var_449_1 = manager.audio:GetLocalizationFlag()

		if var_449_0[var_449_1] ~= nil then
			arg_449_1.duration_ = var_449_0[var_449_1]
		end

		SetActive(arg_449_1.tipsGo_, false)

		function arg_449_1.onSingleLineFinish_()
			arg_449_1.onSingleLineUpdate_ = nil
			arg_449_1.onSingleLineFinish_ = nil
			arg_449_1.state_ = "waiting"
		end

		function arg_449_1.playNext_(arg_451_0)
			if arg_451_0 == 1 then
				arg_449_0:Play411121106(arg_449_1)
			end
		end

		function arg_449_1.onSingleLineUpdate_(arg_452_0)
			local var_452_0 = 0
			local var_452_1 = 0.975

			if var_452_0 < arg_449_1.time_ and arg_449_1.time_ <= var_452_0 + arg_452_0 then
				arg_449_1.talkMaxDuration = 0
				arg_449_1.dialogCg_.alpha = 1

				arg_449_1.dialog_:SetActive(true)
				SetActive(arg_449_1.leftNameGo_, true)

				local var_452_2 = arg_449_1:FormatText(StoryNameCfg[670].name)

				arg_449_1.leftNameTxt_.text = var_452_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_449_1.leftNameTxt_.transform)

				arg_449_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_449_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_449_1:RecordName(arg_449_1.leftNameTxt_.text)
				SetActive(arg_449_1.iconTrs_.gameObject, false)
				arg_449_1.callingController_:SetSelectedState("normal")

				local var_452_3 = arg_449_1:GetWordFromCfg(411121105)
				local var_452_4 = arg_449_1:FormatText(var_452_3.content)

				arg_449_1.text_.text = var_452_4

				LuaForUtil.ClearLinePrefixSymbol(arg_449_1.text_)

				local var_452_5 = 39
				local var_452_6 = utf8.len(var_452_4)
				local var_452_7 = var_452_5 <= 0 and var_452_1 or var_452_1 * (var_452_6 / var_452_5)

				if var_452_7 > 0 and var_452_1 < var_452_7 then
					arg_449_1.talkMaxDuration = var_452_7

					if var_452_7 + var_452_0 > arg_449_1.duration_ then
						arg_449_1.duration_ = var_452_7 + var_452_0
					end
				end

				arg_449_1.text_.text = var_452_4
				arg_449_1.typewritter.percent = 0

				arg_449_1.typewritter:SetDirty()
				arg_449_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121105", "story_v_out_411121.awb") ~= 0 then
					local var_452_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121105", "story_v_out_411121.awb") / 1000

					if var_452_8 + var_452_0 > arg_449_1.duration_ then
						arg_449_1.duration_ = var_452_8 + var_452_0
					end

					if var_452_3.prefab_name ~= "" and arg_449_1.actors_[var_452_3.prefab_name] ~= nil then
						local var_452_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_449_1.actors_[var_452_3.prefab_name].transform, "story_v_out_411121", "411121105", "story_v_out_411121.awb")

						arg_449_1:RecordAudio("411121105", var_452_9)
						arg_449_1:RecordAudio("411121105", var_452_9)
					else
						arg_449_1:AudioAction("play", "voice", "story_v_out_411121", "411121105", "story_v_out_411121.awb")
					end

					arg_449_1:RecordHistoryTalkVoice("story_v_out_411121", "411121105", "story_v_out_411121.awb")
				end

				arg_449_1:RecordContent(arg_449_1.text_.text)
			end

			local var_452_10 = math.max(var_452_1, arg_449_1.talkMaxDuration)

			if var_452_0 <= arg_449_1.time_ and arg_449_1.time_ < var_452_0 + var_452_10 then
				arg_449_1.typewritter.percent = (arg_449_1.time_ - var_452_0) / var_452_10

				arg_449_1.typewritter:SetDirty()
			end

			if arg_449_1.time_ >= var_452_0 + var_452_10 and arg_449_1.time_ < var_452_0 + var_452_10 + arg_452_0 then
				arg_449_1.typewritter.percent = 1

				arg_449_1.typewritter:SetDirty()
				arg_449_1:ShowNextGo(true)
			end
		end
	end,
	Play411121106 = function(arg_453_0, arg_453_1)
		arg_453_1.time_ = 0
		arg_453_1.frameCnt_ = 0
		arg_453_1.state_ = "playing"
		arg_453_1.curTalkId_ = 411121106
		arg_453_1.duration_ = 6.166

		local var_453_0 = {
			zh = 4.066,
			ja = 6.166
		}
		local var_453_1 = manager.audio:GetLocalizationFlag()

		if var_453_0[var_453_1] ~= nil then
			arg_453_1.duration_ = var_453_0[var_453_1]
		end

		SetActive(arg_453_1.tipsGo_, false)

		function arg_453_1.onSingleLineFinish_()
			arg_453_1.onSingleLineUpdate_ = nil
			arg_453_1.onSingleLineFinish_ = nil
			arg_453_1.state_ = "waiting"
		end

		function arg_453_1.playNext_(arg_455_0)
			if arg_455_0 == 1 then
				arg_453_0:Play411121107(arg_453_1)
			end
		end

		function arg_453_1.onSingleLineUpdate_(arg_456_0)
			local var_456_0 = arg_453_1.actors_["10071ui_story"].transform
			local var_456_1 = 0

			if var_456_1 < arg_453_1.time_ and arg_453_1.time_ <= var_456_1 + arg_456_0 then
				arg_453_1.var_.moveOldPos10071ui_story = var_456_0.localPosition
			end

			local var_456_2 = 0.001

			if var_456_1 <= arg_453_1.time_ and arg_453_1.time_ < var_456_1 + var_456_2 then
				local var_456_3 = (arg_453_1.time_ - var_456_1) / var_456_2
				local var_456_4 = Vector3.New(0.7, -0.9, -6.26)

				var_456_0.localPosition = Vector3.Lerp(arg_453_1.var_.moveOldPos10071ui_story, var_456_4, var_456_3)

				local var_456_5 = manager.ui.mainCamera.transform.position - var_456_0.position

				var_456_0.forward = Vector3.New(var_456_5.x, var_456_5.y, var_456_5.z)

				local var_456_6 = var_456_0.localEulerAngles

				var_456_6.z = 0
				var_456_6.x = 0
				var_456_0.localEulerAngles = var_456_6
			end

			if arg_453_1.time_ >= var_456_1 + var_456_2 and arg_453_1.time_ < var_456_1 + var_456_2 + arg_456_0 then
				var_456_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_456_7 = manager.ui.mainCamera.transform.position - var_456_0.position

				var_456_0.forward = Vector3.New(var_456_7.x, var_456_7.y, var_456_7.z)

				local var_456_8 = var_456_0.localEulerAngles

				var_456_8.z = 0
				var_456_8.x = 0
				var_456_0.localEulerAngles = var_456_8
			end

			local var_456_9 = arg_453_1.actors_["10071ui_story"]
			local var_456_10 = 0

			if var_456_10 < arg_453_1.time_ and arg_453_1.time_ <= var_456_10 + arg_456_0 and arg_453_1.var_.characterEffect10071ui_story == nil then
				arg_453_1.var_.characterEffect10071ui_story = var_456_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_456_11 = 0.200000002980232

			if var_456_10 <= arg_453_1.time_ and arg_453_1.time_ < var_456_10 + var_456_11 then
				local var_456_12 = (arg_453_1.time_ - var_456_10) / var_456_11

				if arg_453_1.var_.characterEffect10071ui_story then
					arg_453_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_453_1.time_ >= var_456_10 + var_456_11 and arg_453_1.time_ < var_456_10 + var_456_11 + arg_456_0 and arg_453_1.var_.characterEffect10071ui_story then
				arg_453_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_456_13 = 0

			if var_456_13 < arg_453_1.time_ and arg_453_1.time_ <= var_456_13 + arg_456_0 then
				arg_453_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071actionlink/10071action434")
			end

			local var_456_14 = 0

			if var_456_14 < arg_453_1.time_ and arg_453_1.time_ <= var_456_14 + arg_456_0 then
				arg_453_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_456_15 = 0
			local var_456_16 = 0.45

			if var_456_15 < arg_453_1.time_ and arg_453_1.time_ <= var_456_15 + arg_456_0 then
				arg_453_1.talkMaxDuration = 0
				arg_453_1.dialogCg_.alpha = 1

				arg_453_1.dialog_:SetActive(true)
				SetActive(arg_453_1.leftNameGo_, true)

				local var_456_17 = arg_453_1:FormatText(StoryNameCfg[670].name)

				arg_453_1.leftNameTxt_.text = var_456_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_453_1.leftNameTxt_.transform)

				arg_453_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_453_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_453_1:RecordName(arg_453_1.leftNameTxt_.text)
				SetActive(arg_453_1.iconTrs_.gameObject, false)
				arg_453_1.callingController_:SetSelectedState("normal")

				local var_456_18 = arg_453_1:GetWordFromCfg(411121106)
				local var_456_19 = arg_453_1:FormatText(var_456_18.content)

				arg_453_1.text_.text = var_456_19

				LuaForUtil.ClearLinePrefixSymbol(arg_453_1.text_)

				local var_456_20 = 18
				local var_456_21 = utf8.len(var_456_19)
				local var_456_22 = var_456_20 <= 0 and var_456_16 or var_456_16 * (var_456_21 / var_456_20)

				if var_456_22 > 0 and var_456_16 < var_456_22 then
					arg_453_1.talkMaxDuration = var_456_22

					if var_456_22 + var_456_15 > arg_453_1.duration_ then
						arg_453_1.duration_ = var_456_22 + var_456_15
					end
				end

				arg_453_1.text_.text = var_456_19
				arg_453_1.typewritter.percent = 0

				arg_453_1.typewritter:SetDirty()
				arg_453_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121106", "story_v_out_411121.awb") ~= 0 then
					local var_456_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121106", "story_v_out_411121.awb") / 1000

					if var_456_23 + var_456_15 > arg_453_1.duration_ then
						arg_453_1.duration_ = var_456_23 + var_456_15
					end

					if var_456_18.prefab_name ~= "" and arg_453_1.actors_[var_456_18.prefab_name] ~= nil then
						local var_456_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_453_1.actors_[var_456_18.prefab_name].transform, "story_v_out_411121", "411121106", "story_v_out_411121.awb")

						arg_453_1:RecordAudio("411121106", var_456_24)
						arg_453_1:RecordAudio("411121106", var_456_24)
					else
						arg_453_1:AudioAction("play", "voice", "story_v_out_411121", "411121106", "story_v_out_411121.awb")
					end

					arg_453_1:RecordHistoryTalkVoice("story_v_out_411121", "411121106", "story_v_out_411121.awb")
				end

				arg_453_1:RecordContent(arg_453_1.text_.text)
			end

			local var_456_25 = math.max(var_456_16, arg_453_1.talkMaxDuration)

			if var_456_15 <= arg_453_1.time_ and arg_453_1.time_ < var_456_15 + var_456_25 then
				arg_453_1.typewritter.percent = (arg_453_1.time_ - var_456_15) / var_456_25

				arg_453_1.typewritter:SetDirty()
			end

			if arg_453_1.time_ >= var_456_15 + var_456_25 and arg_453_1.time_ < var_456_15 + var_456_25 + arg_456_0 then
				arg_453_1.typewritter.percent = 1

				arg_453_1.typewritter:SetDirty()
				arg_453_1:ShowNextGo(true)
			end
		end
	end,
	Play411121107 = function(arg_457_0, arg_457_1)
		arg_457_1.time_ = 0
		arg_457_1.frameCnt_ = 0
		arg_457_1.state_ = "playing"
		arg_457_1.curTalkId_ = 411121107
		arg_457_1.duration_ = 5.7

		local var_457_0 = {
			zh = 3.766,
			ja = 5.7
		}
		local var_457_1 = manager.audio:GetLocalizationFlag()

		if var_457_0[var_457_1] ~= nil then
			arg_457_1.duration_ = var_457_0[var_457_1]
		end

		SetActive(arg_457_1.tipsGo_, false)

		function arg_457_1.onSingleLineFinish_()
			arg_457_1.onSingleLineUpdate_ = nil
			arg_457_1.onSingleLineFinish_ = nil
			arg_457_1.state_ = "waiting"
		end

		function arg_457_1.playNext_(arg_459_0)
			if arg_459_0 == 1 then
				arg_457_0:Play411121108(arg_457_1)
			end
		end

		function arg_457_1.onSingleLineUpdate_(arg_460_0)
			local var_460_0 = 0
			local var_460_1 = 0.3

			if var_460_0 < arg_457_1.time_ and arg_457_1.time_ <= var_460_0 + arg_460_0 then
				arg_457_1.talkMaxDuration = 0
				arg_457_1.dialogCg_.alpha = 1

				arg_457_1.dialog_:SetActive(true)
				SetActive(arg_457_1.leftNameGo_, true)

				local var_460_2 = arg_457_1:FormatText(StoryNameCfg[670].name)

				arg_457_1.leftNameTxt_.text = var_460_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_457_1.leftNameTxt_.transform)

				arg_457_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_457_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_457_1:RecordName(arg_457_1.leftNameTxt_.text)
				SetActive(arg_457_1.iconTrs_.gameObject, false)
				arg_457_1.callingController_:SetSelectedState("normal")

				local var_460_3 = arg_457_1:GetWordFromCfg(411121107)
				local var_460_4 = arg_457_1:FormatText(var_460_3.content)

				arg_457_1.text_.text = var_460_4

				LuaForUtil.ClearLinePrefixSymbol(arg_457_1.text_)

				local var_460_5 = 12
				local var_460_6 = utf8.len(var_460_4)
				local var_460_7 = var_460_5 <= 0 and var_460_1 or var_460_1 * (var_460_6 / var_460_5)

				if var_460_7 > 0 and var_460_1 < var_460_7 then
					arg_457_1.talkMaxDuration = var_460_7

					if var_460_7 + var_460_0 > arg_457_1.duration_ then
						arg_457_1.duration_ = var_460_7 + var_460_0
					end
				end

				arg_457_1.text_.text = var_460_4
				arg_457_1.typewritter.percent = 0

				arg_457_1.typewritter:SetDirty()
				arg_457_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121107", "story_v_out_411121.awb") ~= 0 then
					local var_460_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121107", "story_v_out_411121.awb") / 1000

					if var_460_8 + var_460_0 > arg_457_1.duration_ then
						arg_457_1.duration_ = var_460_8 + var_460_0
					end

					if var_460_3.prefab_name ~= "" and arg_457_1.actors_[var_460_3.prefab_name] ~= nil then
						local var_460_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_457_1.actors_[var_460_3.prefab_name].transform, "story_v_out_411121", "411121107", "story_v_out_411121.awb")

						arg_457_1:RecordAudio("411121107", var_460_9)
						arg_457_1:RecordAudio("411121107", var_460_9)
					else
						arg_457_1:AudioAction("play", "voice", "story_v_out_411121", "411121107", "story_v_out_411121.awb")
					end

					arg_457_1:RecordHistoryTalkVoice("story_v_out_411121", "411121107", "story_v_out_411121.awb")
				end

				arg_457_1:RecordContent(arg_457_1.text_.text)
			end

			local var_460_10 = math.max(var_460_1, arg_457_1.talkMaxDuration)

			if var_460_0 <= arg_457_1.time_ and arg_457_1.time_ < var_460_0 + var_460_10 then
				arg_457_1.typewritter.percent = (arg_457_1.time_ - var_460_0) / var_460_10

				arg_457_1.typewritter:SetDirty()
			end

			if arg_457_1.time_ >= var_460_0 + var_460_10 and arg_457_1.time_ < var_460_0 + var_460_10 + arg_460_0 then
				arg_457_1.typewritter.percent = 1

				arg_457_1.typewritter:SetDirty()
				arg_457_1:ShowNextGo(true)
			end
		end
	end,
	Play411121108 = function(arg_461_0, arg_461_1)
		arg_461_1.time_ = 0
		arg_461_1.frameCnt_ = 0
		arg_461_1.state_ = "playing"
		arg_461_1.curTalkId_ = 411121108
		arg_461_1.duration_ = 5

		SetActive(arg_461_1.tipsGo_, false)

		function arg_461_1.onSingleLineFinish_()
			arg_461_1.onSingleLineUpdate_ = nil
			arg_461_1.onSingleLineFinish_ = nil
			arg_461_1.state_ = "waiting"
		end

		function arg_461_1.playNext_(arg_463_0)
			if arg_463_0 == 1 then
				arg_461_0:Play411121109(arg_461_1)
			end
		end

		function arg_461_1.onSingleLineUpdate_(arg_464_0)
			local var_464_0 = arg_461_1.actors_["10071ui_story"]
			local var_464_1 = 0

			if var_464_1 < arg_461_1.time_ and arg_461_1.time_ <= var_464_1 + arg_464_0 and arg_461_1.var_.characterEffect10071ui_story == nil then
				arg_461_1.var_.characterEffect10071ui_story = var_464_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_464_2 = 0.200000002980232

			if var_464_1 <= arg_461_1.time_ and arg_461_1.time_ < var_464_1 + var_464_2 then
				local var_464_3 = (arg_461_1.time_ - var_464_1) / var_464_2

				if arg_461_1.var_.characterEffect10071ui_story then
					local var_464_4 = Mathf.Lerp(0, 0.5, var_464_3)

					arg_461_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_461_1.var_.characterEffect10071ui_story.fillRatio = var_464_4
				end
			end

			if arg_461_1.time_ >= var_464_1 + var_464_2 and arg_461_1.time_ < var_464_1 + var_464_2 + arg_464_0 and arg_461_1.var_.characterEffect10071ui_story then
				local var_464_5 = 0.5

				arg_461_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_461_1.var_.characterEffect10071ui_story.fillRatio = var_464_5
			end

			local var_464_6 = 0
			local var_464_7 = 0.6

			if var_464_6 < arg_461_1.time_ and arg_461_1.time_ <= var_464_6 + arg_464_0 then
				arg_461_1.talkMaxDuration = 0
				arg_461_1.dialogCg_.alpha = 1

				arg_461_1.dialog_:SetActive(true)
				SetActive(arg_461_1.leftNameGo_, false)

				arg_461_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_461_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_461_1:RecordName(arg_461_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_461_1.iconTrs_.gameObject, false)
				arg_461_1.callingController_:SetSelectedState("normal")

				local var_464_8 = arg_461_1:GetWordFromCfg(411121108)
				local var_464_9 = arg_461_1:FormatText(var_464_8.content)

				arg_461_1.text_.text = var_464_9

				LuaForUtil.ClearLinePrefixSymbol(arg_461_1.text_)

				local var_464_10 = 24
				local var_464_11 = utf8.len(var_464_9)
				local var_464_12 = var_464_10 <= 0 and var_464_7 or var_464_7 * (var_464_11 / var_464_10)

				if var_464_12 > 0 and var_464_7 < var_464_12 then
					arg_461_1.talkMaxDuration = var_464_12

					if var_464_12 + var_464_6 > arg_461_1.duration_ then
						arg_461_1.duration_ = var_464_12 + var_464_6
					end
				end

				arg_461_1.text_.text = var_464_9
				arg_461_1.typewritter.percent = 0

				arg_461_1.typewritter:SetDirty()
				arg_461_1:ShowNextGo(false)
				arg_461_1:RecordContent(arg_461_1.text_.text)
			end

			local var_464_13 = math.max(var_464_7, arg_461_1.talkMaxDuration)

			if var_464_6 <= arg_461_1.time_ and arg_461_1.time_ < var_464_6 + var_464_13 then
				arg_461_1.typewritter.percent = (arg_461_1.time_ - var_464_6) / var_464_13

				arg_461_1.typewritter:SetDirty()
			end

			if arg_461_1.time_ >= var_464_6 + var_464_13 and arg_461_1.time_ < var_464_6 + var_464_13 + arg_464_0 then
				arg_461_1.typewritter.percent = 1

				arg_461_1.typewritter:SetDirty()
				arg_461_1:ShowNextGo(true)
			end
		end
	end,
	Play411121109 = function(arg_465_0, arg_465_1)
		arg_465_1.time_ = 0
		arg_465_1.frameCnt_ = 0
		arg_465_1.state_ = "playing"
		arg_465_1.curTalkId_ = 411121109
		arg_465_1.duration_ = 6.766

		local var_465_0 = {
			zh = 6.2,
			ja = 6.766
		}
		local var_465_1 = manager.audio:GetLocalizationFlag()

		if var_465_0[var_465_1] ~= nil then
			arg_465_1.duration_ = var_465_0[var_465_1]
		end

		SetActive(arg_465_1.tipsGo_, false)

		function arg_465_1.onSingleLineFinish_()
			arg_465_1.onSingleLineUpdate_ = nil
			arg_465_1.onSingleLineFinish_ = nil
			arg_465_1.state_ = "waiting"
		end

		function arg_465_1.playNext_(arg_467_0)
			if arg_467_0 == 1 then
				arg_465_0:Play411121110(arg_465_1)
			end
		end

		function arg_465_1.onSingleLineUpdate_(arg_468_0)
			local var_468_0 = arg_465_1.actors_["10071ui_story"]
			local var_468_1 = 0

			if var_468_1 < arg_465_1.time_ and arg_465_1.time_ <= var_468_1 + arg_468_0 and arg_465_1.var_.characterEffect10071ui_story == nil then
				arg_465_1.var_.characterEffect10071ui_story = var_468_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_468_2 = 0.200000002980232

			if var_468_1 <= arg_465_1.time_ and arg_465_1.time_ < var_468_1 + var_468_2 then
				local var_468_3 = (arg_465_1.time_ - var_468_1) / var_468_2

				if arg_465_1.var_.characterEffect10071ui_story then
					arg_465_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_465_1.time_ >= var_468_1 + var_468_2 and arg_465_1.time_ < var_468_1 + var_468_2 + arg_468_0 and arg_465_1.var_.characterEffect10071ui_story then
				arg_465_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_468_4 = 0
			local var_468_5 = 0.725

			if var_468_4 < arg_465_1.time_ and arg_465_1.time_ <= var_468_4 + arg_468_0 then
				arg_465_1.talkMaxDuration = 0
				arg_465_1.dialogCg_.alpha = 1

				arg_465_1.dialog_:SetActive(true)
				SetActive(arg_465_1.leftNameGo_, true)

				local var_468_6 = arg_465_1:FormatText(StoryNameCfg[670].name)

				arg_465_1.leftNameTxt_.text = var_468_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_465_1.leftNameTxt_.transform)

				arg_465_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_465_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_465_1:RecordName(arg_465_1.leftNameTxt_.text)
				SetActive(arg_465_1.iconTrs_.gameObject, false)
				arg_465_1.callingController_:SetSelectedState("normal")

				local var_468_7 = arg_465_1:GetWordFromCfg(411121109)
				local var_468_8 = arg_465_1:FormatText(var_468_7.content)

				arg_465_1.text_.text = var_468_8

				LuaForUtil.ClearLinePrefixSymbol(arg_465_1.text_)

				local var_468_9 = 29
				local var_468_10 = utf8.len(var_468_8)
				local var_468_11 = var_468_9 <= 0 and var_468_5 or var_468_5 * (var_468_10 / var_468_9)

				if var_468_11 > 0 and var_468_5 < var_468_11 then
					arg_465_1.talkMaxDuration = var_468_11

					if var_468_11 + var_468_4 > arg_465_1.duration_ then
						arg_465_1.duration_ = var_468_11 + var_468_4
					end
				end

				arg_465_1.text_.text = var_468_8
				arg_465_1.typewritter.percent = 0

				arg_465_1.typewritter:SetDirty()
				arg_465_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121109", "story_v_out_411121.awb") ~= 0 then
					local var_468_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121109", "story_v_out_411121.awb") / 1000

					if var_468_12 + var_468_4 > arg_465_1.duration_ then
						arg_465_1.duration_ = var_468_12 + var_468_4
					end

					if var_468_7.prefab_name ~= "" and arg_465_1.actors_[var_468_7.prefab_name] ~= nil then
						local var_468_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_465_1.actors_[var_468_7.prefab_name].transform, "story_v_out_411121", "411121109", "story_v_out_411121.awb")

						arg_465_1:RecordAudio("411121109", var_468_13)
						arg_465_1:RecordAudio("411121109", var_468_13)
					else
						arg_465_1:AudioAction("play", "voice", "story_v_out_411121", "411121109", "story_v_out_411121.awb")
					end

					arg_465_1:RecordHistoryTalkVoice("story_v_out_411121", "411121109", "story_v_out_411121.awb")
				end

				arg_465_1:RecordContent(arg_465_1.text_.text)
			end

			local var_468_14 = math.max(var_468_5, arg_465_1.talkMaxDuration)

			if var_468_4 <= arg_465_1.time_ and arg_465_1.time_ < var_468_4 + var_468_14 then
				arg_465_1.typewritter.percent = (arg_465_1.time_ - var_468_4) / var_468_14

				arg_465_1.typewritter:SetDirty()
			end

			if arg_465_1.time_ >= var_468_4 + var_468_14 and arg_465_1.time_ < var_468_4 + var_468_14 + arg_468_0 then
				arg_465_1.typewritter.percent = 1

				arg_465_1.typewritter:SetDirty()
				arg_465_1:ShowNextGo(true)
			end
		end
	end,
	Play411121110 = function(arg_469_0, arg_469_1)
		arg_469_1.time_ = 0
		arg_469_1.frameCnt_ = 0
		arg_469_1.state_ = "playing"
		arg_469_1.curTalkId_ = 411121110
		arg_469_1.duration_ = 7.783333333332

		SetActive(arg_469_1.tipsGo_, false)

		function arg_469_1.onSingleLineFinish_()
			arg_469_1.onSingleLineUpdate_ = nil
			arg_469_1.onSingleLineFinish_ = nil
			arg_469_1.state_ = "waiting"
		end

		function arg_469_1.playNext_(arg_471_0)
			if arg_471_0 == 1 then
				arg_469_0:Play411121111(arg_469_1)
			end
		end

		function arg_469_1.onSingleLineUpdate_(arg_472_0)
			local var_472_0 = 0

			if var_472_0 < arg_469_1.time_ and arg_469_1.time_ <= var_472_0 + arg_472_0 then
				local var_472_1 = manager.ui.mainCamera.transform.localPosition
				local var_472_2 = Vector3.New(0, 0, 10) + Vector3.New(var_472_1.x, var_472_1.y, 0)
				local var_472_3 = arg_469_1.bgs_.ST74a

				var_472_3.transform.localPosition = var_472_2
				var_472_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_472_4 = var_472_3:GetComponent("SpriteRenderer")

				if var_472_4 and var_472_4.sprite then
					local var_472_5 = (var_472_3.transform.localPosition - var_472_1).z
					local var_472_6 = manager.ui.mainCameraCom_
					local var_472_7 = 2 * var_472_5 * Mathf.Tan(var_472_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_472_8 = var_472_7 * var_472_6.aspect
					local var_472_9 = var_472_4.sprite.bounds.size.x
					local var_472_10 = var_472_4.sprite.bounds.size.y
					local var_472_11 = var_472_8 / var_472_9
					local var_472_12 = var_472_7 / var_472_10
					local var_472_13 = var_472_12 < var_472_11 and var_472_11 or var_472_12

					var_472_3.transform.localScale = Vector3.New(var_472_13, var_472_13, 0)
				end

				for iter_472_0, iter_472_1 in pairs(arg_469_1.bgs_) do
					if iter_472_0 ~= "ST74a" then
						iter_472_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_472_14 = 1.5

			if var_472_14 < arg_469_1.time_ and arg_469_1.time_ <= var_472_14 + arg_472_0 then
				local var_472_15 = manager.ui.mainCamera.transform.localPosition
				local var_472_16 = Vector3.New(0, 0, 10) + Vector3.New(var_472_15.x, var_472_15.y, 0)
				local var_472_17 = arg_469_1.bgs_.STblack

				var_472_17.transform.localPosition = var_472_16
				var_472_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_472_18 = var_472_17:GetComponent("SpriteRenderer")

				if var_472_18 and var_472_18.sprite then
					local var_472_19 = (var_472_17.transform.localPosition - var_472_15).z
					local var_472_20 = manager.ui.mainCameraCom_
					local var_472_21 = 2 * var_472_19 * Mathf.Tan(var_472_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_472_22 = var_472_21 * var_472_20.aspect
					local var_472_23 = var_472_18.sprite.bounds.size.x
					local var_472_24 = var_472_18.sprite.bounds.size.y
					local var_472_25 = var_472_22 / var_472_23
					local var_472_26 = var_472_21 / var_472_24
					local var_472_27 = var_472_26 < var_472_25 and var_472_25 or var_472_26

					var_472_17.transform.localScale = Vector3.New(var_472_27, var_472_27, 0)
				end

				for iter_472_2, iter_472_3 in pairs(arg_469_1.bgs_) do
					if iter_472_2 ~= "STblack" then
						iter_472_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_472_28 = 0

			if var_472_28 < arg_469_1.time_ and arg_469_1.time_ <= var_472_28 + arg_472_0 then
				arg_469_1.mask_.enabled = true
				arg_469_1.mask_.raycastTarget = true

				arg_469_1:SetGaussion(false)
			end

			local var_472_29 = 1.5

			if var_472_28 <= arg_469_1.time_ and arg_469_1.time_ < var_472_28 + var_472_29 then
				local var_472_30 = (arg_469_1.time_ - var_472_28) / var_472_29
				local var_472_31 = Color.New(0, 0, 0)

				var_472_31.a = Mathf.Lerp(0, 1, var_472_30)
				arg_469_1.mask_.color = var_472_31
			end

			if arg_469_1.time_ >= var_472_28 + var_472_29 and arg_469_1.time_ < var_472_28 + var_472_29 + arg_472_0 then
				local var_472_32 = Color.New(0, 0, 0)

				var_472_32.a = 1
				arg_469_1.mask_.color = var_472_32
			end

			local var_472_33 = 1.5

			if var_472_33 < arg_469_1.time_ and arg_469_1.time_ <= var_472_33 + arg_472_0 then
				arg_469_1.mask_.enabled = true
				arg_469_1.mask_.raycastTarget = true

				arg_469_1:SetGaussion(false)
			end

			local var_472_34 = 1.5

			if var_472_33 <= arg_469_1.time_ and arg_469_1.time_ < var_472_33 + var_472_34 then
				local var_472_35 = (arg_469_1.time_ - var_472_33) / var_472_34
				local var_472_36 = Color.New(0, 0, 0)

				var_472_36.a = Mathf.Lerp(1, 0, var_472_35)
				arg_469_1.mask_.color = var_472_36
			end

			if arg_469_1.time_ >= var_472_33 + var_472_34 and arg_469_1.time_ < var_472_33 + var_472_34 + arg_472_0 then
				local var_472_37 = Color.New(0, 0, 0)
				local var_472_38 = 0

				arg_469_1.mask_.enabled = false
				var_472_37.a = var_472_38
				arg_469_1.mask_.color = var_472_37
			end

			local var_472_39 = 1.88333333333333

			if var_472_39 < arg_469_1.time_ and arg_469_1.time_ <= var_472_39 + arg_472_0 then
				arg_469_1.var_.oldValueTypewriter = arg_469_1.fswtw_.percent

				arg_469_1:ShowNextGo(false)
			end

			local var_472_40 = 24
			local var_472_41 = 1.6
			local var_472_42 = arg_469_1:GetWordFromCfg(411121070)
			local var_472_43 = arg_469_1:FormatText(var_472_42.content)
			local var_472_44, var_472_45 = arg_469_1:GetPercentByPara(var_472_43, 1)

			if var_472_39 < arg_469_1.time_ and arg_469_1.time_ <= var_472_39 + arg_472_0 then
				arg_469_1.talkMaxDuration = 0

				local var_472_46 = var_472_40 <= 0 and var_472_41 or var_472_41 * ((var_472_45 - arg_469_1.typewritterCharCountI18N) / var_472_40)

				if var_472_46 > 0 and var_472_41 < var_472_46 then
					arg_469_1.talkMaxDuration = var_472_46

					if var_472_46 + var_472_39 > arg_469_1.duration_ then
						arg_469_1.duration_ = var_472_46 + var_472_39
					end
				end
			end

			local var_472_47 = 1.6
			local var_472_48 = math.max(var_472_47, arg_469_1.talkMaxDuration)

			if var_472_39 <= arg_469_1.time_ and arg_469_1.time_ < var_472_39 + var_472_48 then
				local var_472_49 = (arg_469_1.time_ - var_472_39) / var_472_48

				arg_469_1.fswtw_.percent = Mathf.Lerp(arg_469_1.var_.oldValueTypewriter, var_472_44, var_472_49)
				arg_469_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_469_1.fswtw_:SetDirty()
			end

			if arg_469_1.time_ >= var_472_39 + var_472_48 and arg_469_1.time_ < var_472_39 + var_472_48 + arg_472_0 then
				arg_469_1.fswtw_.percent = var_472_44

				arg_469_1.fswtw_:SetDirty()
				arg_469_1:ShowNextGo(true)

				arg_469_1.typewritterCharCountI18N = var_472_45
			end

			local var_472_50 = 1.86666666666667

			if var_472_50 < arg_469_1.time_ and arg_469_1.time_ <= var_472_50 + arg_472_0 then
				local var_472_51 = arg_469_1.fswbg_.transform:Find("textbox/adapt/content") or arg_469_1.fswbg_.transform:Find("textbox/content")
				local var_472_52 = var_472_51:GetComponent("Text")
				local var_472_53 = var_472_51:GetComponent("RectTransform")

				var_472_52.alignment = UnityEngine.TextAnchor.LowerCenter
				var_472_53.offsetMin = Vector2.New(0, 0)
				var_472_53.offsetMax = Vector2.New(0, 0)
			end

			local var_472_54 = 1.5

			if var_472_54 < arg_469_1.time_ and arg_469_1.time_ <= var_472_54 + arg_472_0 then
				arg_469_1.fswbg_:SetActive(true)
				arg_469_1.dialog_:SetActive(false)

				arg_469_1.fswtw_.percent = 0

				local var_472_55 = arg_469_1:GetWordFromCfg(411121110)
				local var_472_56 = arg_469_1:FormatText(var_472_55.content)

				arg_469_1.fswt_.text = var_472_56

				LuaForUtil.ClearLinePrefixSymbol(arg_469_1.fswt_)

				arg_469_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_469_1.fswtw_:SetDirty()

				arg_469_1.typewritterCharCountI18N = 0

				SetActive(arg_469_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_469_1:ShowNextGo(false)
			end

			local var_472_57 = 1.5

			if var_472_57 < arg_469_1.time_ and arg_469_1.time_ <= var_472_57 + arg_472_0 then
				arg_469_1.cswbg_:SetActive(true)

				local var_472_58 = arg_469_1.cswt_:GetComponent("RectTransform")

				arg_469_1.cswt_.alignment = UnityEngine.TextAnchor.MiddleCenter
				var_472_58.offsetMin = Vector2.New(400, 280)
				var_472_58.offsetMax = Vector2.New(-400, -200)

				local var_472_59 = arg_469_1:GetWordFromCfg(401002)
				local var_472_60 = arg_469_1:FormatText(var_472_59.content)

				arg_469_1.cswt_.text = var_472_60

				LuaForUtil.ClearLinePrefixSymbol(arg_469_1.cswt_)

				arg_469_1.cswt_.fontSize = 180
				arg_469_1.cswt_:GetComponent("Text").color = Color(1, 1, 1)
				arg_469_1.cswt_.font = Asset.Load("Fonts/SourceHanSerifCN-Bold-3.0")
			end

			local var_472_61 = arg_469_1.actors_["1095ui_story"].transform
			local var_472_62 = 1.5

			if var_472_62 < arg_469_1.time_ and arg_469_1.time_ <= var_472_62 + arg_472_0 then
				arg_469_1.var_.moveOldPos1095ui_story = var_472_61.localPosition
			end

			local var_472_63 = 0.001

			if var_472_62 <= arg_469_1.time_ and arg_469_1.time_ < var_472_62 + var_472_63 then
				local var_472_64 = (arg_469_1.time_ - var_472_62) / var_472_63
				local var_472_65 = Vector3.New(0, 100, 0)

				var_472_61.localPosition = Vector3.Lerp(arg_469_1.var_.moveOldPos1095ui_story, var_472_65, var_472_64)

				local var_472_66 = manager.ui.mainCamera.transform.position - var_472_61.position

				var_472_61.forward = Vector3.New(var_472_66.x, var_472_66.y, var_472_66.z)

				local var_472_67 = var_472_61.localEulerAngles

				var_472_67.z = 0
				var_472_67.x = 0
				var_472_61.localEulerAngles = var_472_67
			end

			if arg_469_1.time_ >= var_472_62 + var_472_63 and arg_469_1.time_ < var_472_62 + var_472_63 + arg_472_0 then
				var_472_61.localPosition = Vector3.New(0, 100, 0)

				local var_472_68 = manager.ui.mainCamera.transform.position - var_472_61.position

				var_472_61.forward = Vector3.New(var_472_68.x, var_472_68.y, var_472_68.z)

				local var_472_69 = var_472_61.localEulerAngles

				var_472_69.z = 0
				var_472_69.x = 0
				var_472_61.localEulerAngles = var_472_69
			end

			local var_472_70 = arg_469_1.actors_["10071ui_story"].transform
			local var_472_71 = 1.5

			if var_472_71 < arg_469_1.time_ and arg_469_1.time_ <= var_472_71 + arg_472_0 then
				arg_469_1.var_.moveOldPos10071ui_story = var_472_70.localPosition
			end

			local var_472_72 = 0.001

			if var_472_71 <= arg_469_1.time_ and arg_469_1.time_ < var_472_71 + var_472_72 then
				local var_472_73 = (arg_469_1.time_ - var_472_71) / var_472_72
				local var_472_74 = Vector3.New(0, 100, 0)

				var_472_70.localPosition = Vector3.Lerp(arg_469_1.var_.moveOldPos10071ui_story, var_472_74, var_472_73)

				local var_472_75 = manager.ui.mainCamera.transform.position - var_472_70.position

				var_472_70.forward = Vector3.New(var_472_75.x, var_472_75.y, var_472_75.z)

				local var_472_76 = var_472_70.localEulerAngles

				var_472_76.z = 0
				var_472_76.x = 0
				var_472_70.localEulerAngles = var_472_76
			end

			if arg_469_1.time_ >= var_472_71 + var_472_72 and arg_469_1.time_ < var_472_71 + var_472_72 + arg_472_0 then
				var_472_70.localPosition = Vector3.New(0, 100, 0)

				local var_472_77 = manager.ui.mainCamera.transform.position - var_472_70.position

				var_472_70.forward = Vector3.New(var_472_77.x, var_472_77.y, var_472_77.z)

				local var_472_78 = var_472_70.localEulerAngles

				var_472_78.z = 0
				var_472_78.x = 0
				var_472_70.localEulerAngles = var_472_78
			end

			local var_472_79 = 1.88333333333333
			local var_472_80 = 5.9
			local var_472_81 = manager.audio:GetVoiceLength("story_v_out_411121", "411121110", "") / 1000

			if var_472_81 > 0 and var_472_80 < var_472_81 and var_472_81 + var_472_79 > arg_469_1.duration_ then
				local var_472_82 = var_472_81

				arg_469_1.duration_ = var_472_81 + var_472_79
			end

			if var_472_79 < arg_469_1.time_ and arg_469_1.time_ <= var_472_79 + arg_472_0 then
				local var_472_83 = "play"
				local var_472_84 = "voice"

				arg_469_1:AudioAction(var_472_83, var_472_84, "story_v_out_411121", "411121110", "")
			end
		end
	end,
	Play411121111 = function(arg_473_0, arg_473_1)
		arg_473_1.time_ = 0
		arg_473_1.frameCnt_ = 0
		arg_473_1.state_ = "playing"
		arg_473_1.curTalkId_ = 411121111
		arg_473_1.duration_ = 13.499999999999

		SetActive(arg_473_1.tipsGo_, false)

		function arg_473_1.onSingleLineFinish_()
			arg_473_1.onSingleLineUpdate_ = nil
			arg_473_1.onSingleLineFinish_ = nil
			arg_473_1.state_ = "waiting"
		end

		function arg_473_1.playNext_(arg_475_0)
			if arg_475_0 == 1 then
				arg_473_0:Play411121112(arg_473_1)
			end
		end

		function arg_473_1.onSingleLineUpdate_(arg_476_0)
			local var_476_0 = 0

			if var_476_0 < arg_473_1.time_ and arg_473_1.time_ <= var_476_0 + arg_476_0 then
				arg_473_1.fswbg_:SetActive(true)
				arg_473_1.dialog_:SetActive(false)

				arg_473_1.fswtw_.percent = 0

				local var_476_1 = arg_473_1:GetWordFromCfg(411121111)
				local var_476_2 = arg_473_1:FormatText(var_476_1.content)

				arg_473_1.fswt_.text = var_476_2

				LuaForUtil.ClearLinePrefixSymbol(arg_473_1.fswt_)

				arg_473_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_473_1.fswtw_:SetDirty()

				arg_473_1.typewritterCharCountI18N = 0

				SetActive(arg_473_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_473_1:ShowNextGo(false)
			end

			local var_476_3 = 0.0166666666666667

			if var_476_3 < arg_473_1.time_ and arg_473_1.time_ <= var_476_3 + arg_476_0 then
				arg_473_1.var_.oldValueTypewriter = arg_473_1.fswtw_.percent

				arg_473_1:ShowNextGo(false)
			end

			local var_476_4 = 49
			local var_476_5 = 1.4
			local var_476_6 = arg_473_1:GetWordFromCfg(411121111)
			local var_476_7 = arg_473_1:FormatText(var_476_6.content)
			local var_476_8, var_476_9 = arg_473_1:GetPercentByPara(var_476_7, 1)

			if var_476_3 < arg_473_1.time_ and arg_473_1.time_ <= var_476_3 + arg_476_0 then
				arg_473_1.talkMaxDuration = 0

				local var_476_10 = var_476_4 <= 0 and var_476_5 or var_476_5 * ((var_476_9 - arg_473_1.typewritterCharCountI18N) / var_476_4)

				if var_476_10 > 0 and var_476_5 < var_476_10 then
					arg_473_1.talkMaxDuration = var_476_10

					if var_476_10 + var_476_3 > arg_473_1.duration_ then
						arg_473_1.duration_ = var_476_10 + var_476_3
					end
				end
			end

			local var_476_11 = 1.4
			local var_476_12 = math.max(var_476_11, arg_473_1.talkMaxDuration)

			if var_476_3 <= arg_473_1.time_ and arg_473_1.time_ < var_476_3 + var_476_12 then
				local var_476_13 = (arg_473_1.time_ - var_476_3) / var_476_12

				arg_473_1.fswtw_.percent = Mathf.Lerp(arg_473_1.var_.oldValueTypewriter, var_476_8, var_476_13)
				arg_473_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_473_1.fswtw_:SetDirty()
			end

			if arg_473_1.time_ >= var_476_3 + var_476_12 and arg_473_1.time_ < var_476_3 + var_476_12 + arg_476_0 then
				arg_473_1.fswtw_.percent = var_476_8

				arg_473_1.fswtw_:SetDirty()
				arg_473_1:ShowNextGo(true)

				arg_473_1.typewritterCharCountI18N = var_476_9
			end

			local var_476_14 = 0
			local var_476_15 = 13.5
			local var_476_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121111", "") / 1000

			if var_476_16 > 0 and var_476_15 < var_476_16 and var_476_16 + var_476_14 > arg_473_1.duration_ then
				local var_476_17 = var_476_16

				arg_473_1.duration_ = var_476_16 + var_476_14
			end

			if var_476_14 < arg_473_1.time_ and arg_473_1.time_ <= var_476_14 + arg_476_0 then
				local var_476_18 = "play"
				local var_476_19 = "voice"

				arg_473_1:AudioAction(var_476_18, var_476_19, "story_v_out_411121", "411121111", "")
			end
		end
	end,
	Play411121112 = function(arg_477_0, arg_477_1)
		arg_477_1.time_ = 0
		arg_477_1.frameCnt_ = 0
		arg_477_1.state_ = "playing"
		arg_477_1.curTalkId_ = 411121112
		arg_477_1.duration_ = 5.699999999999

		SetActive(arg_477_1.tipsGo_, false)

		function arg_477_1.onSingleLineFinish_()
			arg_477_1.onSingleLineUpdate_ = nil
			arg_477_1.onSingleLineFinish_ = nil
			arg_477_1.state_ = "waiting"
		end

		function arg_477_1.playNext_(arg_479_0)
			if arg_479_0 == 1 then
				arg_477_0:Play411121113(arg_477_1)
			end
		end

		function arg_477_1.onSingleLineUpdate_(arg_480_0)
			local var_480_0 = 0

			if var_480_0 < arg_477_1.time_ and arg_477_1.time_ <= var_480_0 + arg_480_0 then
				arg_477_1.fswbg_:SetActive(true)
				arg_477_1.dialog_:SetActive(false)

				arg_477_1.fswtw_.percent = 0

				local var_480_1 = arg_477_1:GetWordFromCfg(411121112)
				local var_480_2 = arg_477_1:FormatText(var_480_1.content)

				arg_477_1.fswt_.text = var_480_2

				LuaForUtil.ClearLinePrefixSymbol(arg_477_1.fswt_)

				arg_477_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_477_1.fswtw_:SetDirty()

				arg_477_1.typewritterCharCountI18N = 0

				SetActive(arg_477_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_477_1:ShowNextGo(false)
			end

			local var_480_3 = 0.0166666666666667

			if var_480_3 < arg_477_1.time_ and arg_477_1.time_ <= var_480_3 + arg_480_0 then
				arg_477_1.var_.oldValueTypewriter = arg_477_1.fswtw_.percent

				arg_477_1:ShowNextGo(false)
			end

			local var_480_4 = 18
			local var_480_5 = 1.2
			local var_480_6 = arg_477_1:GetWordFromCfg(411121112)
			local var_480_7 = arg_477_1:FormatText(var_480_6.content)
			local var_480_8, var_480_9 = arg_477_1:GetPercentByPara(var_480_7, 1)

			if var_480_3 < arg_477_1.time_ and arg_477_1.time_ <= var_480_3 + arg_480_0 then
				arg_477_1.talkMaxDuration = 0

				local var_480_10 = var_480_4 <= 0 and var_480_5 or var_480_5 * ((var_480_9 - arg_477_1.typewritterCharCountI18N) / var_480_4)

				if var_480_10 > 0 and var_480_5 < var_480_10 then
					arg_477_1.talkMaxDuration = var_480_10

					if var_480_10 + var_480_3 > arg_477_1.duration_ then
						arg_477_1.duration_ = var_480_10 + var_480_3
					end
				end
			end

			local var_480_11 = 1.2
			local var_480_12 = math.max(var_480_11, arg_477_1.talkMaxDuration)

			if var_480_3 <= arg_477_1.time_ and arg_477_1.time_ < var_480_3 + var_480_12 then
				local var_480_13 = (arg_477_1.time_ - var_480_3) / var_480_12

				arg_477_1.fswtw_.percent = Mathf.Lerp(arg_477_1.var_.oldValueTypewriter, var_480_8, var_480_13)
				arg_477_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_477_1.fswtw_:SetDirty()
			end

			if arg_477_1.time_ >= var_480_3 + var_480_12 and arg_477_1.time_ < var_480_3 + var_480_12 + arg_480_0 then
				arg_477_1.fswtw_.percent = var_480_8

				arg_477_1.fswtw_:SetDirty()
				arg_477_1:ShowNextGo(true)

				arg_477_1.typewritterCharCountI18N = var_480_9
			end

			local var_480_14 = 0
			local var_480_15 = 5.7
			local var_480_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121112", "") / 1000

			if var_480_16 > 0 and var_480_15 < var_480_16 and var_480_16 + var_480_14 > arg_477_1.duration_ then
				local var_480_17 = var_480_16

				arg_477_1.duration_ = var_480_16 + var_480_14
			end

			if var_480_14 < arg_477_1.time_ and arg_477_1.time_ <= var_480_14 + arg_480_0 then
				local var_480_18 = "play"
				local var_480_19 = "voice"

				arg_477_1:AudioAction(var_480_18, var_480_19, "story_v_out_411121", "411121112", "")
			end
		end
	end,
	Play411121113 = function(arg_481_0, arg_481_1)
		arg_481_1.time_ = 0
		arg_481_1.frameCnt_ = 0
		arg_481_1.state_ = "playing"
		arg_481_1.curTalkId_ = 411121113
		arg_481_1.duration_ = 7.3

		local var_481_0 = {
			zh = 7.033,
			ja = 7.3
		}
		local var_481_1 = manager.audio:GetLocalizationFlag()

		if var_481_0[var_481_1] ~= nil then
			arg_481_1.duration_ = var_481_0[var_481_1]
		end

		SetActive(arg_481_1.tipsGo_, false)

		function arg_481_1.onSingleLineFinish_()
			arg_481_1.onSingleLineUpdate_ = nil
			arg_481_1.onSingleLineFinish_ = nil
			arg_481_1.state_ = "waiting"
		end

		function arg_481_1.playNext_(arg_483_0)
			if arg_483_0 == 1 then
				arg_481_0:Play411121114(arg_481_1)
			end
		end

		function arg_481_1.onSingleLineUpdate_(arg_484_0)
			local var_484_0 = arg_481_1.actors_["1095ui_story"].transform
			local var_484_1 = 3

			if var_484_1 < arg_481_1.time_ and arg_481_1.time_ <= var_484_1 + arg_484_0 then
				arg_481_1.var_.moveOldPos1095ui_story = var_484_0.localPosition
			end

			local var_484_2 = 0.001

			if var_484_1 <= arg_481_1.time_ and arg_481_1.time_ < var_484_1 + var_484_2 then
				local var_484_3 = (arg_481_1.time_ - var_484_1) / var_484_2
				local var_484_4 = Vector3.New(0, -0.98, -6.1)

				var_484_0.localPosition = Vector3.Lerp(arg_481_1.var_.moveOldPos1095ui_story, var_484_4, var_484_3)

				local var_484_5 = manager.ui.mainCamera.transform.position - var_484_0.position

				var_484_0.forward = Vector3.New(var_484_5.x, var_484_5.y, var_484_5.z)

				local var_484_6 = var_484_0.localEulerAngles

				var_484_6.z = 0
				var_484_6.x = 0
				var_484_0.localEulerAngles = var_484_6
			end

			if arg_481_1.time_ >= var_484_1 + var_484_2 and arg_481_1.time_ < var_484_1 + var_484_2 + arg_484_0 then
				var_484_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_484_7 = manager.ui.mainCamera.transform.position - var_484_0.position

				var_484_0.forward = Vector3.New(var_484_7.x, var_484_7.y, var_484_7.z)

				local var_484_8 = var_484_0.localEulerAngles

				var_484_8.z = 0
				var_484_8.x = 0
				var_484_0.localEulerAngles = var_484_8
			end

			local var_484_9 = arg_481_1.actors_["1095ui_story"]
			local var_484_10 = 3

			if var_484_10 < arg_481_1.time_ and arg_481_1.time_ <= var_484_10 + arg_484_0 and arg_481_1.var_.characterEffect1095ui_story == nil then
				arg_481_1.var_.characterEffect1095ui_story = var_484_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_484_11 = 0.200000002980232

			if var_484_10 <= arg_481_1.time_ and arg_481_1.time_ < var_484_10 + var_484_11 then
				local var_484_12 = (arg_481_1.time_ - var_484_10) / var_484_11

				if arg_481_1.var_.characterEffect1095ui_story then
					arg_481_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_481_1.time_ >= var_484_10 + var_484_11 and arg_481_1.time_ < var_484_10 + var_484_11 + arg_484_0 and arg_481_1.var_.characterEffect1095ui_story then
				arg_481_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_484_13 = 3

			if var_484_13 < arg_481_1.time_ and arg_481_1.time_ <= var_484_13 + arg_484_0 then
				arg_481_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_484_14 = 3

			if var_484_14 < arg_481_1.time_ and arg_481_1.time_ <= var_484_14 + arg_484_0 then
				arg_481_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_484_15 = 0

			if var_484_15 < arg_481_1.time_ and arg_481_1.time_ <= var_484_15 + arg_484_0 then
				local var_484_16 = manager.ui.mainCamera.transform.localPosition
				local var_484_17 = Vector3.New(0, 0, 10) + Vector3.New(var_484_16.x, var_484_16.y, 0)
				local var_484_18 = arg_481_1.bgs_.STblack

				var_484_18.transform.localPosition = var_484_17
				var_484_18.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_484_19 = var_484_18:GetComponent("SpriteRenderer")

				if var_484_19 and var_484_19.sprite then
					local var_484_20 = (var_484_18.transform.localPosition - var_484_16).z
					local var_484_21 = manager.ui.mainCameraCom_
					local var_484_22 = 2 * var_484_20 * Mathf.Tan(var_484_21.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_484_23 = var_484_22 * var_484_21.aspect
					local var_484_24 = var_484_19.sprite.bounds.size.x
					local var_484_25 = var_484_19.sprite.bounds.size.y
					local var_484_26 = var_484_23 / var_484_24
					local var_484_27 = var_484_22 / var_484_25
					local var_484_28 = var_484_27 < var_484_26 and var_484_26 or var_484_27

					var_484_18.transform.localScale = Vector3.New(var_484_28, var_484_28, 0)
				end

				for iter_484_0, iter_484_1 in pairs(arg_481_1.bgs_) do
					if iter_484_0 ~= "STblack" then
						iter_484_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_484_29 = 1.5

			if var_484_29 < arg_481_1.time_ and arg_481_1.time_ <= var_484_29 + arg_484_0 then
				local var_484_30 = manager.ui.mainCamera.transform.localPosition
				local var_484_31 = Vector3.New(0, 0, 10) + Vector3.New(var_484_30.x, var_484_30.y, 0)
				local var_484_32 = arg_481_1.bgs_.ST74a

				var_484_32.transform.localPosition = var_484_31
				var_484_32.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_484_33 = var_484_32:GetComponent("SpriteRenderer")

				if var_484_33 and var_484_33.sprite then
					local var_484_34 = (var_484_32.transform.localPosition - var_484_30).z
					local var_484_35 = manager.ui.mainCameraCom_
					local var_484_36 = 2 * var_484_34 * Mathf.Tan(var_484_35.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_484_37 = var_484_36 * var_484_35.aspect
					local var_484_38 = var_484_33.sprite.bounds.size.x
					local var_484_39 = var_484_33.sprite.bounds.size.y
					local var_484_40 = var_484_37 / var_484_38
					local var_484_41 = var_484_36 / var_484_39
					local var_484_42 = var_484_41 < var_484_40 and var_484_40 or var_484_41

					var_484_32.transform.localScale = Vector3.New(var_484_42, var_484_42, 0)
				end

				for iter_484_2, iter_484_3 in pairs(arg_481_1.bgs_) do
					if iter_484_2 ~= "ST74a" then
						iter_484_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_484_43 = 0

			if var_484_43 < arg_481_1.time_ and arg_481_1.time_ <= var_484_43 + arg_484_0 then
				arg_481_1.mask_.enabled = true
				arg_481_1.mask_.raycastTarget = true

				arg_481_1:SetGaussion(false)
			end

			local var_484_44 = 1.5

			if var_484_43 <= arg_481_1.time_ and arg_481_1.time_ < var_484_43 + var_484_44 then
				local var_484_45 = (arg_481_1.time_ - var_484_43) / var_484_44
				local var_484_46 = Color.New(0, 0, 0)

				var_484_46.a = Mathf.Lerp(0, 1, var_484_45)
				arg_481_1.mask_.color = var_484_46
			end

			if arg_481_1.time_ >= var_484_43 + var_484_44 and arg_481_1.time_ < var_484_43 + var_484_44 + arg_484_0 then
				local var_484_47 = Color.New(0, 0, 0)

				var_484_47.a = 1
				arg_481_1.mask_.color = var_484_47
			end

			local var_484_48 = 1.5

			if var_484_48 < arg_481_1.time_ and arg_481_1.time_ <= var_484_48 + arg_484_0 then
				arg_481_1.mask_.enabled = true
				arg_481_1.mask_.raycastTarget = true

				arg_481_1:SetGaussion(false)
			end

			local var_484_49 = 1.53400000184774

			if var_484_48 <= arg_481_1.time_ and arg_481_1.time_ < var_484_48 + var_484_49 then
				local var_484_50 = (arg_481_1.time_ - var_484_48) / var_484_49
				local var_484_51 = Color.New(0, 0, 0)

				var_484_51.a = Mathf.Lerp(1, 0, var_484_50)
				arg_481_1.mask_.color = var_484_51
			end

			if arg_481_1.time_ >= var_484_48 + var_484_49 and arg_481_1.time_ < var_484_48 + var_484_49 + arg_484_0 then
				local var_484_52 = Color.New(0, 0, 0)
				local var_484_53 = 0

				arg_481_1.mask_.enabled = false
				var_484_52.a = var_484_53
				arg_481_1.mask_.color = var_484_52
			end

			local var_484_54 = 1.5

			if var_484_54 < arg_481_1.time_ and arg_481_1.time_ <= var_484_54 + arg_484_0 then
				arg_481_1.cswbg_:SetActive(false)
			end

			local var_484_55 = 1.51666666666667

			if var_484_55 < arg_481_1.time_ and arg_481_1.time_ <= var_484_55 + arg_484_0 then
				arg_481_1.fswbg_:SetActive(false)
				arg_481_1.dialog_:SetActive(false)
				arg_481_1:ShowNextGo(false)
			end

			local var_484_56 = 1.5

			if var_484_56 < arg_481_1.time_ and arg_481_1.time_ <= var_484_56 + arg_484_0 then
				arg_481_1.fswbg_:SetActive(false)
				arg_481_1.dialog_:SetActive(true)
				arg_481_1:ShowNextGo(false)
			end

			if arg_481_1.frameCnt_ <= 1 then
				arg_481_1.dialog_:SetActive(false)
			end

			local var_484_57 = 3
			local var_484_58 = 0.325

			if var_484_57 < arg_481_1.time_ and arg_481_1.time_ <= var_484_57 + arg_484_0 then
				arg_481_1.talkMaxDuration = 0

				arg_481_1.dialog_:SetActive(true)

				local var_484_59 = LeanTween.value(arg_481_1.dialog_, 0, 1, 0.3)

				var_484_59:setOnUpdate(LuaHelper.FloatAction(function(arg_485_0)
					arg_481_1.dialogCg_.alpha = arg_485_0
				end))
				var_484_59:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_481_1.dialog_)
					var_484_59:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_481_1.duration_ = arg_481_1.duration_ + 0.3

				SetActive(arg_481_1.leftNameGo_, true)

				local var_484_60 = arg_481_1:FormatText(StoryNameCfg[471].name)

				arg_481_1.leftNameTxt_.text = var_484_60

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_481_1.leftNameTxt_.transform)

				arg_481_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_481_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_481_1:RecordName(arg_481_1.leftNameTxt_.text)
				SetActive(arg_481_1.iconTrs_.gameObject, false)
				arg_481_1.callingController_:SetSelectedState("normal")

				local var_484_61 = arg_481_1:GetWordFromCfg(411121113)
				local var_484_62 = arg_481_1:FormatText(var_484_61.content)

				arg_481_1.text_.text = var_484_62

				LuaForUtil.ClearLinePrefixSymbol(arg_481_1.text_)

				local var_484_63 = 13
				local var_484_64 = utf8.len(var_484_62)
				local var_484_65 = var_484_63 <= 0 and var_484_58 or var_484_58 * (var_484_64 / var_484_63)

				if var_484_65 > 0 and var_484_58 < var_484_65 then
					arg_481_1.talkMaxDuration = var_484_65
					var_484_57 = var_484_57 + 0.3

					if var_484_65 + var_484_57 > arg_481_1.duration_ then
						arg_481_1.duration_ = var_484_65 + var_484_57
					end
				end

				arg_481_1.text_.text = var_484_62
				arg_481_1.typewritter.percent = 0

				arg_481_1.typewritter:SetDirty()
				arg_481_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121113", "story_v_out_411121.awb") ~= 0 then
					local var_484_66 = manager.audio:GetVoiceLength("story_v_out_411121", "411121113", "story_v_out_411121.awb") / 1000

					if var_484_66 + var_484_57 > arg_481_1.duration_ then
						arg_481_1.duration_ = var_484_66 + var_484_57
					end

					if var_484_61.prefab_name ~= "" and arg_481_1.actors_[var_484_61.prefab_name] ~= nil then
						local var_484_67 = LuaForUtil.PlayVoiceWithCriLipsync(arg_481_1.actors_[var_484_61.prefab_name].transform, "story_v_out_411121", "411121113", "story_v_out_411121.awb")

						arg_481_1:RecordAudio("411121113", var_484_67)
						arg_481_1:RecordAudio("411121113", var_484_67)
					else
						arg_481_1:AudioAction("play", "voice", "story_v_out_411121", "411121113", "story_v_out_411121.awb")
					end

					arg_481_1:RecordHistoryTalkVoice("story_v_out_411121", "411121113", "story_v_out_411121.awb")
				end

				arg_481_1:RecordContent(arg_481_1.text_.text)
			end

			local var_484_68 = var_484_57 + 0.3
			local var_484_69 = math.max(var_484_58, arg_481_1.talkMaxDuration)

			if var_484_68 <= arg_481_1.time_ and arg_481_1.time_ < var_484_68 + var_484_69 then
				arg_481_1.typewritter.percent = (arg_481_1.time_ - var_484_68) / var_484_69

				arg_481_1.typewritter:SetDirty()
			end

			if arg_481_1.time_ >= var_484_68 + var_484_69 and arg_481_1.time_ < var_484_68 + var_484_69 + arg_484_0 then
				arg_481_1.typewritter.percent = 1

				arg_481_1.typewritter:SetDirty()
				arg_481_1:ShowNextGo(true)
			end
		end
	end,
	Play411121114 = function(arg_487_0, arg_487_1)
		arg_487_1.time_ = 0
		arg_487_1.frameCnt_ = 0
		arg_487_1.state_ = "playing"
		arg_487_1.curTalkId_ = 411121114
		arg_487_1.duration_ = 5

		SetActive(arg_487_1.tipsGo_, false)

		function arg_487_1.onSingleLineFinish_()
			arg_487_1.onSingleLineUpdate_ = nil
			arg_487_1.onSingleLineFinish_ = nil
			arg_487_1.state_ = "waiting"
		end

		function arg_487_1.playNext_(arg_489_0)
			if arg_489_0 == 1 then
				arg_487_0:Play411121115(arg_487_1)
			end
		end

		function arg_487_1.onSingleLineUpdate_(arg_490_0)
			local var_490_0 = arg_487_1.actors_["1095ui_story"]
			local var_490_1 = 0

			if var_490_1 < arg_487_1.time_ and arg_487_1.time_ <= var_490_1 + arg_490_0 and arg_487_1.var_.characterEffect1095ui_story == nil then
				arg_487_1.var_.characterEffect1095ui_story = var_490_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_490_2 = 0.200000002980232

			if var_490_1 <= arg_487_1.time_ and arg_487_1.time_ < var_490_1 + var_490_2 then
				local var_490_3 = (arg_487_1.time_ - var_490_1) / var_490_2

				if arg_487_1.var_.characterEffect1095ui_story then
					local var_490_4 = Mathf.Lerp(0, 0.5, var_490_3)

					arg_487_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_487_1.var_.characterEffect1095ui_story.fillRatio = var_490_4
				end
			end

			if arg_487_1.time_ >= var_490_1 + var_490_2 and arg_487_1.time_ < var_490_1 + var_490_2 + arg_490_0 and arg_487_1.var_.characterEffect1095ui_story then
				local var_490_5 = 0.5

				arg_487_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_487_1.var_.characterEffect1095ui_story.fillRatio = var_490_5
			end

			local var_490_6 = 0
			local var_490_7 = 1.225

			if var_490_6 < arg_487_1.time_ and arg_487_1.time_ <= var_490_6 + arg_490_0 then
				arg_487_1.talkMaxDuration = 0
				arg_487_1.dialogCg_.alpha = 1

				arg_487_1.dialog_:SetActive(true)
				SetActive(arg_487_1.leftNameGo_, false)

				arg_487_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_487_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_487_1:RecordName(arg_487_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_487_1.iconTrs_.gameObject, false)
				arg_487_1.callingController_:SetSelectedState("normal")

				local var_490_8 = arg_487_1:GetWordFromCfg(411121114)
				local var_490_9 = arg_487_1:FormatText(var_490_8.content)

				arg_487_1.text_.text = var_490_9

				LuaForUtil.ClearLinePrefixSymbol(arg_487_1.text_)

				local var_490_10 = 49
				local var_490_11 = utf8.len(var_490_9)
				local var_490_12 = var_490_10 <= 0 and var_490_7 or var_490_7 * (var_490_11 / var_490_10)

				if var_490_12 > 0 and var_490_7 < var_490_12 then
					arg_487_1.talkMaxDuration = var_490_12

					if var_490_12 + var_490_6 > arg_487_1.duration_ then
						arg_487_1.duration_ = var_490_12 + var_490_6
					end
				end

				arg_487_1.text_.text = var_490_9
				arg_487_1.typewritter.percent = 0

				arg_487_1.typewritter:SetDirty()
				arg_487_1:ShowNextGo(false)
				arg_487_1:RecordContent(arg_487_1.text_.text)
			end

			local var_490_13 = math.max(var_490_7, arg_487_1.talkMaxDuration)

			if var_490_6 <= arg_487_1.time_ and arg_487_1.time_ < var_490_6 + var_490_13 then
				arg_487_1.typewritter.percent = (arg_487_1.time_ - var_490_6) / var_490_13

				arg_487_1.typewritter:SetDirty()
			end

			if arg_487_1.time_ >= var_490_6 + var_490_13 and arg_487_1.time_ < var_490_6 + var_490_13 + arg_490_0 then
				arg_487_1.typewritter.percent = 1

				arg_487_1.typewritter:SetDirty()
				arg_487_1:ShowNextGo(true)
			end
		end
	end,
	Play411121115 = function(arg_491_0, arg_491_1)
		arg_491_1.time_ = 0
		arg_491_1.frameCnt_ = 0
		arg_491_1.state_ = "playing"
		arg_491_1.curTalkId_ = 411121115
		arg_491_1.duration_ = 13.633

		local var_491_0 = {
			zh = 9.033,
			ja = 13.633
		}
		local var_491_1 = manager.audio:GetLocalizationFlag()

		if var_491_0[var_491_1] ~= nil then
			arg_491_1.duration_ = var_491_0[var_491_1]
		end

		SetActive(arg_491_1.tipsGo_, false)

		function arg_491_1.onSingleLineFinish_()
			arg_491_1.onSingleLineUpdate_ = nil
			arg_491_1.onSingleLineFinish_ = nil
			arg_491_1.state_ = "waiting"
		end

		function arg_491_1.playNext_(arg_493_0)
			if arg_493_0 == 1 then
				arg_491_0:Play411121116(arg_491_1)
			end
		end

		function arg_491_1.onSingleLineUpdate_(arg_494_0)
			local var_494_0 = arg_491_1.actors_["10071ui_story"].transform
			local var_494_1 = 0

			if var_494_1 < arg_491_1.time_ and arg_491_1.time_ <= var_494_1 + arg_494_0 then
				arg_491_1.var_.moveOldPos10071ui_story = var_494_0.localPosition
			end

			local var_494_2 = 0.001

			if var_494_1 <= arg_491_1.time_ and arg_491_1.time_ < var_494_1 + var_494_2 then
				local var_494_3 = (arg_491_1.time_ - var_494_1) / var_494_2
				local var_494_4 = Vector3.New(0.7, -0.9, -6.26)

				var_494_0.localPosition = Vector3.Lerp(arg_491_1.var_.moveOldPos10071ui_story, var_494_4, var_494_3)

				local var_494_5 = manager.ui.mainCamera.transform.position - var_494_0.position

				var_494_0.forward = Vector3.New(var_494_5.x, var_494_5.y, var_494_5.z)

				local var_494_6 = var_494_0.localEulerAngles

				var_494_6.z = 0
				var_494_6.x = 0
				var_494_0.localEulerAngles = var_494_6
			end

			if arg_491_1.time_ >= var_494_1 + var_494_2 and arg_491_1.time_ < var_494_1 + var_494_2 + arg_494_0 then
				var_494_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_494_7 = manager.ui.mainCamera.transform.position - var_494_0.position

				var_494_0.forward = Vector3.New(var_494_7.x, var_494_7.y, var_494_7.z)

				local var_494_8 = var_494_0.localEulerAngles

				var_494_8.z = 0
				var_494_8.x = 0
				var_494_0.localEulerAngles = var_494_8
			end

			local var_494_9 = arg_491_1.actors_["10071ui_story"]
			local var_494_10 = 0

			if var_494_10 < arg_491_1.time_ and arg_491_1.time_ <= var_494_10 + arg_494_0 and arg_491_1.var_.characterEffect10071ui_story == nil then
				arg_491_1.var_.characterEffect10071ui_story = var_494_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_494_11 = 0.200000002980232

			if var_494_10 <= arg_491_1.time_ and arg_491_1.time_ < var_494_10 + var_494_11 then
				local var_494_12 = (arg_491_1.time_ - var_494_10) / var_494_11

				if arg_491_1.var_.characterEffect10071ui_story then
					arg_491_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_491_1.time_ >= var_494_10 + var_494_11 and arg_491_1.time_ < var_494_10 + var_494_11 + arg_494_0 and arg_491_1.var_.characterEffect10071ui_story then
				arg_491_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_494_13 = 0

			if var_494_13 < arg_491_1.time_ and arg_491_1.time_ <= var_494_13 + arg_494_0 then
				arg_491_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action4_2")
			end

			local var_494_14 = 0

			if var_494_14 < arg_491_1.time_ and arg_491_1.time_ <= var_494_14 + arg_494_0 then
				arg_491_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_494_15 = arg_491_1.actors_["1095ui_story"].transform
			local var_494_16 = 0

			if var_494_16 < arg_491_1.time_ and arg_491_1.time_ <= var_494_16 + arg_494_0 then
				arg_491_1.var_.moveOldPos1095ui_story = var_494_15.localPosition
			end

			local var_494_17 = 0.001

			if var_494_16 <= arg_491_1.time_ and arg_491_1.time_ < var_494_16 + var_494_17 then
				local var_494_18 = (arg_491_1.time_ - var_494_16) / var_494_17
				local var_494_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_494_15.localPosition = Vector3.Lerp(arg_491_1.var_.moveOldPos1095ui_story, var_494_19, var_494_18)

				local var_494_20 = manager.ui.mainCamera.transform.position - var_494_15.position

				var_494_15.forward = Vector3.New(var_494_20.x, var_494_20.y, var_494_20.z)

				local var_494_21 = var_494_15.localEulerAngles

				var_494_21.z = 0
				var_494_21.x = 0
				var_494_15.localEulerAngles = var_494_21
			end

			if arg_491_1.time_ >= var_494_16 + var_494_17 and arg_491_1.time_ < var_494_16 + var_494_17 + arg_494_0 then
				var_494_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_494_22 = manager.ui.mainCamera.transform.position - var_494_15.position

				var_494_15.forward = Vector3.New(var_494_22.x, var_494_22.y, var_494_22.z)

				local var_494_23 = var_494_15.localEulerAngles

				var_494_23.z = 0
				var_494_23.x = 0
				var_494_15.localEulerAngles = var_494_23
			end

			local var_494_24 = arg_491_1.actors_["1095ui_story"]
			local var_494_25 = 0

			if var_494_25 < arg_491_1.time_ and arg_491_1.time_ <= var_494_25 + arg_494_0 and arg_491_1.var_.characterEffect1095ui_story == nil then
				arg_491_1.var_.characterEffect1095ui_story = var_494_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_494_26 = 0.200000002980232

			if var_494_25 <= arg_491_1.time_ and arg_491_1.time_ < var_494_25 + var_494_26 then
				local var_494_27 = (arg_491_1.time_ - var_494_25) / var_494_26

				if arg_491_1.var_.characterEffect1095ui_story then
					local var_494_28 = Mathf.Lerp(0, 0.5, var_494_27)

					arg_491_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_491_1.var_.characterEffect1095ui_story.fillRatio = var_494_28
				end
			end

			if arg_491_1.time_ >= var_494_25 + var_494_26 and arg_491_1.time_ < var_494_25 + var_494_26 + arg_494_0 and arg_491_1.var_.characterEffect1095ui_story then
				local var_494_29 = 0.5

				arg_491_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_491_1.var_.characterEffect1095ui_story.fillRatio = var_494_29
			end

			local var_494_30 = 0
			local var_494_31 = 0.75

			if var_494_30 < arg_491_1.time_ and arg_491_1.time_ <= var_494_30 + arg_494_0 then
				arg_491_1.talkMaxDuration = 0
				arg_491_1.dialogCg_.alpha = 1

				arg_491_1.dialog_:SetActive(true)
				SetActive(arg_491_1.leftNameGo_, true)

				local var_494_32 = arg_491_1:FormatText(StoryNameCfg[670].name)

				arg_491_1.leftNameTxt_.text = var_494_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_491_1.leftNameTxt_.transform)

				arg_491_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_491_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_491_1:RecordName(arg_491_1.leftNameTxt_.text)
				SetActive(arg_491_1.iconTrs_.gameObject, false)
				arg_491_1.callingController_:SetSelectedState("normal")

				local var_494_33 = arg_491_1:GetWordFromCfg(411121115)
				local var_494_34 = arg_491_1:FormatText(var_494_33.content)

				arg_491_1.text_.text = var_494_34

				LuaForUtil.ClearLinePrefixSymbol(arg_491_1.text_)

				local var_494_35 = 30
				local var_494_36 = utf8.len(var_494_34)
				local var_494_37 = var_494_35 <= 0 and var_494_31 or var_494_31 * (var_494_36 / var_494_35)

				if var_494_37 > 0 and var_494_31 < var_494_37 then
					arg_491_1.talkMaxDuration = var_494_37

					if var_494_37 + var_494_30 > arg_491_1.duration_ then
						arg_491_1.duration_ = var_494_37 + var_494_30
					end
				end

				arg_491_1.text_.text = var_494_34
				arg_491_1.typewritter.percent = 0

				arg_491_1.typewritter:SetDirty()
				arg_491_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121115", "story_v_out_411121.awb") ~= 0 then
					local var_494_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121115", "story_v_out_411121.awb") / 1000

					if var_494_38 + var_494_30 > arg_491_1.duration_ then
						arg_491_1.duration_ = var_494_38 + var_494_30
					end

					if var_494_33.prefab_name ~= "" and arg_491_1.actors_[var_494_33.prefab_name] ~= nil then
						local var_494_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_491_1.actors_[var_494_33.prefab_name].transform, "story_v_out_411121", "411121115", "story_v_out_411121.awb")

						arg_491_1:RecordAudio("411121115", var_494_39)
						arg_491_1:RecordAudio("411121115", var_494_39)
					else
						arg_491_1:AudioAction("play", "voice", "story_v_out_411121", "411121115", "story_v_out_411121.awb")
					end

					arg_491_1:RecordHistoryTalkVoice("story_v_out_411121", "411121115", "story_v_out_411121.awb")
				end

				arg_491_1:RecordContent(arg_491_1.text_.text)
			end

			local var_494_40 = math.max(var_494_31, arg_491_1.talkMaxDuration)

			if var_494_30 <= arg_491_1.time_ and arg_491_1.time_ < var_494_30 + var_494_40 then
				arg_491_1.typewritter.percent = (arg_491_1.time_ - var_494_30) / var_494_40

				arg_491_1.typewritter:SetDirty()
			end

			if arg_491_1.time_ >= var_494_30 + var_494_40 and arg_491_1.time_ < var_494_30 + var_494_40 + arg_494_0 then
				arg_491_1.typewritter.percent = 1

				arg_491_1.typewritter:SetDirty()
				arg_491_1:ShowNextGo(true)
			end
		end
	end,
	Play411121116 = function(arg_495_0, arg_495_1)
		arg_495_1.time_ = 0
		arg_495_1.frameCnt_ = 0
		arg_495_1.state_ = "playing"
		arg_495_1.curTalkId_ = 411121116
		arg_495_1.duration_ = 10.8

		local var_495_0 = {
			zh = 8.3,
			ja = 10.8
		}
		local var_495_1 = manager.audio:GetLocalizationFlag()

		if var_495_0[var_495_1] ~= nil then
			arg_495_1.duration_ = var_495_0[var_495_1]
		end

		SetActive(arg_495_1.tipsGo_, false)

		function arg_495_1.onSingleLineFinish_()
			arg_495_1.onSingleLineUpdate_ = nil
			arg_495_1.onSingleLineFinish_ = nil
			arg_495_1.state_ = "waiting"
		end

		function arg_495_1.playNext_(arg_497_0)
			if arg_497_0 == 1 then
				arg_495_0:Play411121117(arg_495_1)
			end
		end

		function arg_495_1.onSingleLineUpdate_(arg_498_0)
			local var_498_0 = 0
			local var_498_1 = 0.775

			if var_498_0 < arg_495_1.time_ and arg_495_1.time_ <= var_498_0 + arg_498_0 then
				arg_495_1.talkMaxDuration = 0
				arg_495_1.dialogCg_.alpha = 1

				arg_495_1.dialog_:SetActive(true)
				SetActive(arg_495_1.leftNameGo_, true)

				local var_498_2 = arg_495_1:FormatText(StoryNameCfg[670].name)

				arg_495_1.leftNameTxt_.text = var_498_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_495_1.leftNameTxt_.transform)

				arg_495_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_495_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_495_1:RecordName(arg_495_1.leftNameTxt_.text)
				SetActive(arg_495_1.iconTrs_.gameObject, false)
				arg_495_1.callingController_:SetSelectedState("normal")

				local var_498_3 = arg_495_1:GetWordFromCfg(411121116)
				local var_498_4 = arg_495_1:FormatText(var_498_3.content)

				arg_495_1.text_.text = var_498_4

				LuaForUtil.ClearLinePrefixSymbol(arg_495_1.text_)

				local var_498_5 = 31
				local var_498_6 = utf8.len(var_498_4)
				local var_498_7 = var_498_5 <= 0 and var_498_1 or var_498_1 * (var_498_6 / var_498_5)

				if var_498_7 > 0 and var_498_1 < var_498_7 then
					arg_495_1.talkMaxDuration = var_498_7

					if var_498_7 + var_498_0 > arg_495_1.duration_ then
						arg_495_1.duration_ = var_498_7 + var_498_0
					end
				end

				arg_495_1.text_.text = var_498_4
				arg_495_1.typewritter.percent = 0

				arg_495_1.typewritter:SetDirty()
				arg_495_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121116", "story_v_out_411121.awb") ~= 0 then
					local var_498_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121116", "story_v_out_411121.awb") / 1000

					if var_498_8 + var_498_0 > arg_495_1.duration_ then
						arg_495_1.duration_ = var_498_8 + var_498_0
					end

					if var_498_3.prefab_name ~= "" and arg_495_1.actors_[var_498_3.prefab_name] ~= nil then
						local var_498_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_495_1.actors_[var_498_3.prefab_name].transform, "story_v_out_411121", "411121116", "story_v_out_411121.awb")

						arg_495_1:RecordAudio("411121116", var_498_9)
						arg_495_1:RecordAudio("411121116", var_498_9)
					else
						arg_495_1:AudioAction("play", "voice", "story_v_out_411121", "411121116", "story_v_out_411121.awb")
					end

					arg_495_1:RecordHistoryTalkVoice("story_v_out_411121", "411121116", "story_v_out_411121.awb")
				end

				arg_495_1:RecordContent(arg_495_1.text_.text)
			end

			local var_498_10 = math.max(var_498_1, arg_495_1.talkMaxDuration)

			if var_498_0 <= arg_495_1.time_ and arg_495_1.time_ < var_498_0 + var_498_10 then
				arg_495_1.typewritter.percent = (arg_495_1.time_ - var_498_0) / var_498_10

				arg_495_1.typewritter:SetDirty()
			end

			if arg_495_1.time_ >= var_498_0 + var_498_10 and arg_495_1.time_ < var_498_0 + var_498_10 + arg_498_0 then
				arg_495_1.typewritter.percent = 1

				arg_495_1.typewritter:SetDirty()
				arg_495_1:ShowNextGo(true)
			end
		end
	end,
	Play411121117 = function(arg_499_0, arg_499_1)
		arg_499_1.time_ = 0
		arg_499_1.frameCnt_ = 0
		arg_499_1.state_ = "playing"
		arg_499_1.curTalkId_ = 411121117
		arg_499_1.duration_ = 6.333

		local var_499_0 = {
			zh = 6.333,
			ja = 5.7
		}
		local var_499_1 = manager.audio:GetLocalizationFlag()

		if var_499_0[var_499_1] ~= nil then
			arg_499_1.duration_ = var_499_0[var_499_1]
		end

		SetActive(arg_499_1.tipsGo_, false)

		function arg_499_1.onSingleLineFinish_()
			arg_499_1.onSingleLineUpdate_ = nil
			arg_499_1.onSingleLineFinish_ = nil
			arg_499_1.state_ = "waiting"
		end

		function arg_499_1.playNext_(arg_501_0)
			if arg_501_0 == 1 then
				arg_499_0:Play411121118(arg_499_1)
			end
		end

		function arg_499_1.onSingleLineUpdate_(arg_502_0)
			local var_502_0 = 0
			local var_502_1 = 0.675

			if var_502_0 < arg_499_1.time_ and arg_499_1.time_ <= var_502_0 + arg_502_0 then
				arg_499_1.talkMaxDuration = 0
				arg_499_1.dialogCg_.alpha = 1

				arg_499_1.dialog_:SetActive(true)
				SetActive(arg_499_1.leftNameGo_, true)

				local var_502_2 = arg_499_1:FormatText(StoryNameCfg[670].name)

				arg_499_1.leftNameTxt_.text = var_502_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_499_1.leftNameTxt_.transform)

				arg_499_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_499_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_499_1:RecordName(arg_499_1.leftNameTxt_.text)
				SetActive(arg_499_1.iconTrs_.gameObject, false)
				arg_499_1.callingController_:SetSelectedState("normal")

				local var_502_3 = arg_499_1:GetWordFromCfg(411121117)
				local var_502_4 = arg_499_1:FormatText(var_502_3.content)

				arg_499_1.text_.text = var_502_4

				LuaForUtil.ClearLinePrefixSymbol(arg_499_1.text_)

				local var_502_5 = 27
				local var_502_6 = utf8.len(var_502_4)
				local var_502_7 = var_502_5 <= 0 and var_502_1 or var_502_1 * (var_502_6 / var_502_5)

				if var_502_7 > 0 and var_502_1 < var_502_7 then
					arg_499_1.talkMaxDuration = var_502_7

					if var_502_7 + var_502_0 > arg_499_1.duration_ then
						arg_499_1.duration_ = var_502_7 + var_502_0
					end
				end

				arg_499_1.text_.text = var_502_4
				arg_499_1.typewritter.percent = 0

				arg_499_1.typewritter:SetDirty()
				arg_499_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121117", "story_v_out_411121.awb") ~= 0 then
					local var_502_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121117", "story_v_out_411121.awb") / 1000

					if var_502_8 + var_502_0 > arg_499_1.duration_ then
						arg_499_1.duration_ = var_502_8 + var_502_0
					end

					if var_502_3.prefab_name ~= "" and arg_499_1.actors_[var_502_3.prefab_name] ~= nil then
						local var_502_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_499_1.actors_[var_502_3.prefab_name].transform, "story_v_out_411121", "411121117", "story_v_out_411121.awb")

						arg_499_1:RecordAudio("411121117", var_502_9)
						arg_499_1:RecordAudio("411121117", var_502_9)
					else
						arg_499_1:AudioAction("play", "voice", "story_v_out_411121", "411121117", "story_v_out_411121.awb")
					end

					arg_499_1:RecordHistoryTalkVoice("story_v_out_411121", "411121117", "story_v_out_411121.awb")
				end

				arg_499_1:RecordContent(arg_499_1.text_.text)
			end

			local var_502_10 = math.max(var_502_1, arg_499_1.talkMaxDuration)

			if var_502_0 <= arg_499_1.time_ and arg_499_1.time_ < var_502_0 + var_502_10 then
				arg_499_1.typewritter.percent = (arg_499_1.time_ - var_502_0) / var_502_10

				arg_499_1.typewritter:SetDirty()
			end

			if arg_499_1.time_ >= var_502_0 + var_502_10 and arg_499_1.time_ < var_502_0 + var_502_10 + arg_502_0 then
				arg_499_1.typewritter.percent = 1

				arg_499_1.typewritter:SetDirty()
				arg_499_1:ShowNextGo(true)
			end
		end
	end,
	Play411121118 = function(arg_503_0, arg_503_1)
		arg_503_1.time_ = 0
		arg_503_1.frameCnt_ = 0
		arg_503_1.state_ = "playing"
		arg_503_1.curTalkId_ = 411121118
		arg_503_1.duration_ = 7.033

		local var_503_0 = {
			zh = 7.033,
			ja = 5.1
		}
		local var_503_1 = manager.audio:GetLocalizationFlag()

		if var_503_0[var_503_1] ~= nil then
			arg_503_1.duration_ = var_503_0[var_503_1]
		end

		SetActive(arg_503_1.tipsGo_, false)

		function arg_503_1.onSingleLineFinish_()
			arg_503_1.onSingleLineUpdate_ = nil
			arg_503_1.onSingleLineFinish_ = nil
			arg_503_1.state_ = "waiting"
		end

		function arg_503_1.playNext_(arg_505_0)
			if arg_505_0 == 1 then
				arg_503_0:Play411121119(arg_503_1)
			end
		end

		function arg_503_1.onSingleLineUpdate_(arg_506_0)
			local var_506_0 = 0
			local var_506_1 = 0.525

			if var_506_0 < arg_503_1.time_ and arg_503_1.time_ <= var_506_0 + arg_506_0 then
				arg_503_1.talkMaxDuration = 0
				arg_503_1.dialogCg_.alpha = 1

				arg_503_1.dialog_:SetActive(true)
				SetActive(arg_503_1.leftNameGo_, true)

				local var_506_2 = arg_503_1:FormatText(StoryNameCfg[670].name)

				arg_503_1.leftNameTxt_.text = var_506_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_503_1.leftNameTxt_.transform)

				arg_503_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_503_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_503_1:RecordName(arg_503_1.leftNameTxt_.text)
				SetActive(arg_503_1.iconTrs_.gameObject, false)
				arg_503_1.callingController_:SetSelectedState("normal")

				local var_506_3 = arg_503_1:GetWordFromCfg(411121118)
				local var_506_4 = arg_503_1:FormatText(var_506_3.content)

				arg_503_1.text_.text = var_506_4

				LuaForUtil.ClearLinePrefixSymbol(arg_503_1.text_)

				local var_506_5 = 21
				local var_506_6 = utf8.len(var_506_4)
				local var_506_7 = var_506_5 <= 0 and var_506_1 or var_506_1 * (var_506_6 / var_506_5)

				if var_506_7 > 0 and var_506_1 < var_506_7 then
					arg_503_1.talkMaxDuration = var_506_7

					if var_506_7 + var_506_0 > arg_503_1.duration_ then
						arg_503_1.duration_ = var_506_7 + var_506_0
					end
				end

				arg_503_1.text_.text = var_506_4
				arg_503_1.typewritter.percent = 0

				arg_503_1.typewritter:SetDirty()
				arg_503_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121118", "story_v_out_411121.awb") ~= 0 then
					local var_506_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121118", "story_v_out_411121.awb") / 1000

					if var_506_8 + var_506_0 > arg_503_1.duration_ then
						arg_503_1.duration_ = var_506_8 + var_506_0
					end

					if var_506_3.prefab_name ~= "" and arg_503_1.actors_[var_506_3.prefab_name] ~= nil then
						local var_506_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_503_1.actors_[var_506_3.prefab_name].transform, "story_v_out_411121", "411121118", "story_v_out_411121.awb")

						arg_503_1:RecordAudio("411121118", var_506_9)
						arg_503_1:RecordAudio("411121118", var_506_9)
					else
						arg_503_1:AudioAction("play", "voice", "story_v_out_411121", "411121118", "story_v_out_411121.awb")
					end

					arg_503_1:RecordHistoryTalkVoice("story_v_out_411121", "411121118", "story_v_out_411121.awb")
				end

				arg_503_1:RecordContent(arg_503_1.text_.text)
			end

			local var_506_10 = math.max(var_506_1, arg_503_1.talkMaxDuration)

			if var_506_0 <= arg_503_1.time_ and arg_503_1.time_ < var_506_0 + var_506_10 then
				arg_503_1.typewritter.percent = (arg_503_1.time_ - var_506_0) / var_506_10

				arg_503_1.typewritter:SetDirty()
			end

			if arg_503_1.time_ >= var_506_0 + var_506_10 and arg_503_1.time_ < var_506_0 + var_506_10 + arg_506_0 then
				arg_503_1.typewritter.percent = 1

				arg_503_1.typewritter:SetDirty()
				arg_503_1:ShowNextGo(true)
			end
		end
	end,
	Play411121119 = function(arg_507_0, arg_507_1)
		arg_507_1.time_ = 0
		arg_507_1.frameCnt_ = 0
		arg_507_1.state_ = "playing"
		arg_507_1.curTalkId_ = 411121119
		arg_507_1.duration_ = 3.5

		local var_507_0 = {
			zh = 3.5,
			ja = 1.999999999999
		}
		local var_507_1 = manager.audio:GetLocalizationFlag()

		if var_507_0[var_507_1] ~= nil then
			arg_507_1.duration_ = var_507_0[var_507_1]
		end

		SetActive(arg_507_1.tipsGo_, false)

		function arg_507_1.onSingleLineFinish_()
			arg_507_1.onSingleLineUpdate_ = nil
			arg_507_1.onSingleLineFinish_ = nil
			arg_507_1.state_ = "waiting"
		end

		function arg_507_1.playNext_(arg_509_0)
			if arg_509_0 == 1 then
				arg_507_0:Play411121120(arg_507_1)
			end
		end

		function arg_507_1.onSingleLineUpdate_(arg_510_0)
			local var_510_0 = arg_507_1.actors_["1095ui_story"]
			local var_510_1 = 0

			if var_510_1 < arg_507_1.time_ and arg_507_1.time_ <= var_510_1 + arg_510_0 and arg_507_1.var_.characterEffect1095ui_story == nil then
				arg_507_1.var_.characterEffect1095ui_story = var_510_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_510_2 = 0.200000002980232

			if var_510_1 <= arg_507_1.time_ and arg_507_1.time_ < var_510_1 + var_510_2 then
				local var_510_3 = (arg_507_1.time_ - var_510_1) / var_510_2

				if arg_507_1.var_.characterEffect1095ui_story then
					arg_507_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_507_1.time_ >= var_510_1 + var_510_2 and arg_507_1.time_ < var_510_1 + var_510_2 + arg_510_0 and arg_507_1.var_.characterEffect1095ui_story then
				arg_507_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_510_4 = arg_507_1.actors_["10071ui_story"]
			local var_510_5 = 0

			if var_510_5 < arg_507_1.time_ and arg_507_1.time_ <= var_510_5 + arg_510_0 and arg_507_1.var_.characterEffect10071ui_story == nil then
				arg_507_1.var_.characterEffect10071ui_story = var_510_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_510_6 = 0.200000002980232

			if var_510_5 <= arg_507_1.time_ and arg_507_1.time_ < var_510_5 + var_510_6 then
				local var_510_7 = (arg_507_1.time_ - var_510_5) / var_510_6

				if arg_507_1.var_.characterEffect10071ui_story then
					local var_510_8 = Mathf.Lerp(0, 0.5, var_510_7)

					arg_507_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_507_1.var_.characterEffect10071ui_story.fillRatio = var_510_8
				end
			end

			if arg_507_1.time_ >= var_510_5 + var_510_6 and arg_507_1.time_ < var_510_5 + var_510_6 + arg_510_0 and arg_507_1.var_.characterEffect10071ui_story then
				local var_510_9 = 0.5

				arg_507_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_507_1.var_.characterEffect10071ui_story.fillRatio = var_510_9
			end

			local var_510_10 = 0

			if var_510_10 < arg_507_1.time_ and arg_507_1.time_ <= var_510_10 + arg_510_0 then
				arg_507_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1101cva")
			end

			local var_510_11 = 0
			local var_510_12 = 0.325

			if var_510_11 < arg_507_1.time_ and arg_507_1.time_ <= var_510_11 + arg_510_0 then
				arg_507_1.talkMaxDuration = 0
				arg_507_1.dialogCg_.alpha = 1

				arg_507_1.dialog_:SetActive(true)
				SetActive(arg_507_1.leftNameGo_, true)

				local var_510_13 = arg_507_1:FormatText(StoryNameCfg[471].name)

				arg_507_1.leftNameTxt_.text = var_510_13

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_507_1.leftNameTxt_.transform)

				arg_507_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_507_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_507_1:RecordName(arg_507_1.leftNameTxt_.text)
				SetActive(arg_507_1.iconTrs_.gameObject, false)
				arg_507_1.callingController_:SetSelectedState("normal")

				local var_510_14 = arg_507_1:GetWordFromCfg(411121119)
				local var_510_15 = arg_507_1:FormatText(var_510_14.content)

				arg_507_1.text_.text = var_510_15

				LuaForUtil.ClearLinePrefixSymbol(arg_507_1.text_)

				local var_510_16 = 13
				local var_510_17 = utf8.len(var_510_15)
				local var_510_18 = var_510_16 <= 0 and var_510_12 or var_510_12 * (var_510_17 / var_510_16)

				if var_510_18 > 0 and var_510_12 < var_510_18 then
					arg_507_1.talkMaxDuration = var_510_18

					if var_510_18 + var_510_11 > arg_507_1.duration_ then
						arg_507_1.duration_ = var_510_18 + var_510_11
					end
				end

				arg_507_1.text_.text = var_510_15
				arg_507_1.typewritter.percent = 0

				arg_507_1.typewritter:SetDirty()
				arg_507_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121119", "story_v_out_411121.awb") ~= 0 then
					local var_510_19 = manager.audio:GetVoiceLength("story_v_out_411121", "411121119", "story_v_out_411121.awb") / 1000

					if var_510_19 + var_510_11 > arg_507_1.duration_ then
						arg_507_1.duration_ = var_510_19 + var_510_11
					end

					if var_510_14.prefab_name ~= "" and arg_507_1.actors_[var_510_14.prefab_name] ~= nil then
						local var_510_20 = LuaForUtil.PlayVoiceWithCriLipsync(arg_507_1.actors_[var_510_14.prefab_name].transform, "story_v_out_411121", "411121119", "story_v_out_411121.awb")

						arg_507_1:RecordAudio("411121119", var_510_20)
						arg_507_1:RecordAudio("411121119", var_510_20)
					else
						arg_507_1:AudioAction("play", "voice", "story_v_out_411121", "411121119", "story_v_out_411121.awb")
					end

					arg_507_1:RecordHistoryTalkVoice("story_v_out_411121", "411121119", "story_v_out_411121.awb")
				end

				arg_507_1:RecordContent(arg_507_1.text_.text)
			end

			local var_510_21 = math.max(var_510_12, arg_507_1.talkMaxDuration)

			if var_510_11 <= arg_507_1.time_ and arg_507_1.time_ < var_510_11 + var_510_21 then
				arg_507_1.typewritter.percent = (arg_507_1.time_ - var_510_11) / var_510_21

				arg_507_1.typewritter:SetDirty()
			end

			if arg_507_1.time_ >= var_510_11 + var_510_21 and arg_507_1.time_ < var_510_11 + var_510_21 + arg_510_0 then
				arg_507_1.typewritter.percent = 1

				arg_507_1.typewritter:SetDirty()
				arg_507_1:ShowNextGo(true)
			end
		end
	end,
	Play411121120 = function(arg_511_0, arg_511_1)
		arg_511_1.time_ = 0
		arg_511_1.frameCnt_ = 0
		arg_511_1.state_ = "playing"
		arg_511_1.curTalkId_ = 411121120
		arg_511_1.duration_ = 4.7

		SetActive(arg_511_1.tipsGo_, false)

		function arg_511_1.onSingleLineFinish_()
			arg_511_1.onSingleLineUpdate_ = nil
			arg_511_1.onSingleLineFinish_ = nil
			arg_511_1.state_ = "waiting"
		end

		function arg_511_1.playNext_(arg_513_0)
			if arg_513_0 == 1 then
				arg_511_0:Play411121121(arg_511_1)
			end
		end

		function arg_511_1.onSingleLineUpdate_(arg_514_0)
			local var_514_0 = 0
			local var_514_1 = 0.475

			if var_514_0 < arg_511_1.time_ and arg_511_1.time_ <= var_514_0 + arg_514_0 then
				arg_511_1.talkMaxDuration = 0
				arg_511_1.dialogCg_.alpha = 1

				arg_511_1.dialog_:SetActive(true)
				SetActive(arg_511_1.leftNameGo_, true)

				local var_514_2 = arg_511_1:FormatText(StoryNameCfg[471].name)

				arg_511_1.leftNameTxt_.text = var_514_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_511_1.leftNameTxt_.transform)

				arg_511_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_511_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_511_1:RecordName(arg_511_1.leftNameTxt_.text)
				SetActive(arg_511_1.iconTrs_.gameObject, false)
				arg_511_1.callingController_:SetSelectedState("normal")

				local var_514_3 = arg_511_1:GetWordFromCfg(411121120)
				local var_514_4 = arg_511_1:FormatText(var_514_3.content)

				arg_511_1.text_.text = var_514_4

				LuaForUtil.ClearLinePrefixSymbol(arg_511_1.text_)

				local var_514_5 = 19
				local var_514_6 = utf8.len(var_514_4)
				local var_514_7 = var_514_5 <= 0 and var_514_1 or var_514_1 * (var_514_6 / var_514_5)

				if var_514_7 > 0 and var_514_1 < var_514_7 then
					arg_511_1.talkMaxDuration = var_514_7

					if var_514_7 + var_514_0 > arg_511_1.duration_ then
						arg_511_1.duration_ = var_514_7 + var_514_0
					end
				end

				arg_511_1.text_.text = var_514_4
				arg_511_1.typewritter.percent = 0

				arg_511_1.typewritter:SetDirty()
				arg_511_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121120", "story_v_out_411121.awb") ~= 0 then
					local var_514_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121120", "story_v_out_411121.awb") / 1000

					if var_514_8 + var_514_0 > arg_511_1.duration_ then
						arg_511_1.duration_ = var_514_8 + var_514_0
					end

					if var_514_3.prefab_name ~= "" and arg_511_1.actors_[var_514_3.prefab_name] ~= nil then
						local var_514_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_511_1.actors_[var_514_3.prefab_name].transform, "story_v_out_411121", "411121120", "story_v_out_411121.awb")

						arg_511_1:RecordAudio("411121120", var_514_9)
						arg_511_1:RecordAudio("411121120", var_514_9)
					else
						arg_511_1:AudioAction("play", "voice", "story_v_out_411121", "411121120", "story_v_out_411121.awb")
					end

					arg_511_1:RecordHistoryTalkVoice("story_v_out_411121", "411121120", "story_v_out_411121.awb")
				end

				arg_511_1:RecordContent(arg_511_1.text_.text)
			end

			local var_514_10 = math.max(var_514_1, arg_511_1.talkMaxDuration)

			if var_514_0 <= arg_511_1.time_ and arg_511_1.time_ < var_514_0 + var_514_10 then
				arg_511_1.typewritter.percent = (arg_511_1.time_ - var_514_0) / var_514_10

				arg_511_1.typewritter:SetDirty()
			end

			if arg_511_1.time_ >= var_514_0 + var_514_10 and arg_511_1.time_ < var_514_0 + var_514_10 + arg_514_0 then
				arg_511_1.typewritter.percent = 1

				arg_511_1.typewritter:SetDirty()
				arg_511_1:ShowNextGo(true)
			end
		end
	end,
	Play411121121 = function(arg_515_0, arg_515_1)
		arg_515_1.time_ = 0
		arg_515_1.frameCnt_ = 0
		arg_515_1.state_ = "playing"
		arg_515_1.curTalkId_ = 411121121
		arg_515_1.duration_ = 15.733

		local var_515_0 = {
			zh = 10.833,
			ja = 15.733
		}
		local var_515_1 = manager.audio:GetLocalizationFlag()

		if var_515_0[var_515_1] ~= nil then
			arg_515_1.duration_ = var_515_0[var_515_1]
		end

		SetActive(arg_515_1.tipsGo_, false)

		function arg_515_1.onSingleLineFinish_()
			arg_515_1.onSingleLineUpdate_ = nil
			arg_515_1.onSingleLineFinish_ = nil
			arg_515_1.state_ = "waiting"
		end

		function arg_515_1.playNext_(arg_517_0)
			if arg_517_0 == 1 then
				arg_515_0:Play411121122(arg_515_1)
			end
		end

		function arg_515_1.onSingleLineUpdate_(arg_518_0)
			local var_518_0 = 0
			local var_518_1 = 1.075

			if var_518_0 < arg_515_1.time_ and arg_515_1.time_ <= var_518_0 + arg_518_0 then
				arg_515_1.talkMaxDuration = 0
				arg_515_1.dialogCg_.alpha = 1

				arg_515_1.dialog_:SetActive(true)
				SetActive(arg_515_1.leftNameGo_, true)

				local var_518_2 = arg_515_1:FormatText(StoryNameCfg[471].name)

				arg_515_1.leftNameTxt_.text = var_518_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_515_1.leftNameTxt_.transform)

				arg_515_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_515_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_515_1:RecordName(arg_515_1.leftNameTxt_.text)
				SetActive(arg_515_1.iconTrs_.gameObject, false)
				arg_515_1.callingController_:SetSelectedState("normal")

				local var_518_3 = arg_515_1:GetWordFromCfg(411121121)
				local var_518_4 = arg_515_1:FormatText(var_518_3.content)

				arg_515_1.text_.text = var_518_4

				LuaForUtil.ClearLinePrefixSymbol(arg_515_1.text_)

				local var_518_5 = 43
				local var_518_6 = utf8.len(var_518_4)
				local var_518_7 = var_518_5 <= 0 and var_518_1 or var_518_1 * (var_518_6 / var_518_5)

				if var_518_7 > 0 and var_518_1 < var_518_7 then
					arg_515_1.talkMaxDuration = var_518_7

					if var_518_7 + var_518_0 > arg_515_1.duration_ then
						arg_515_1.duration_ = var_518_7 + var_518_0
					end
				end

				arg_515_1.text_.text = var_518_4
				arg_515_1.typewritter.percent = 0

				arg_515_1.typewritter:SetDirty()
				arg_515_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121121", "story_v_out_411121.awb") ~= 0 then
					local var_518_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121121", "story_v_out_411121.awb") / 1000

					if var_518_8 + var_518_0 > arg_515_1.duration_ then
						arg_515_1.duration_ = var_518_8 + var_518_0
					end

					if var_518_3.prefab_name ~= "" and arg_515_1.actors_[var_518_3.prefab_name] ~= nil then
						local var_518_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_515_1.actors_[var_518_3.prefab_name].transform, "story_v_out_411121", "411121121", "story_v_out_411121.awb")

						arg_515_1:RecordAudio("411121121", var_518_9)
						arg_515_1:RecordAudio("411121121", var_518_9)
					else
						arg_515_1:AudioAction("play", "voice", "story_v_out_411121", "411121121", "story_v_out_411121.awb")
					end

					arg_515_1:RecordHistoryTalkVoice("story_v_out_411121", "411121121", "story_v_out_411121.awb")
				end

				arg_515_1:RecordContent(arg_515_1.text_.text)
			end

			local var_518_10 = math.max(var_518_1, arg_515_1.talkMaxDuration)

			if var_518_0 <= arg_515_1.time_ and arg_515_1.time_ < var_518_0 + var_518_10 then
				arg_515_1.typewritter.percent = (arg_515_1.time_ - var_518_0) / var_518_10

				arg_515_1.typewritter:SetDirty()
			end

			if arg_515_1.time_ >= var_518_0 + var_518_10 and arg_515_1.time_ < var_518_0 + var_518_10 + arg_518_0 then
				arg_515_1.typewritter.percent = 1

				arg_515_1.typewritter:SetDirty()
				arg_515_1:ShowNextGo(true)
			end
		end
	end,
	Play411121122 = function(arg_519_0, arg_519_1)
		arg_519_1.time_ = 0
		arg_519_1.frameCnt_ = 0
		arg_519_1.state_ = "playing"
		arg_519_1.curTalkId_ = 411121122
		arg_519_1.duration_ = 8.9

		local var_519_0 = {
			zh = 8,
			ja = 8.9
		}
		local var_519_1 = manager.audio:GetLocalizationFlag()

		if var_519_0[var_519_1] ~= nil then
			arg_519_1.duration_ = var_519_0[var_519_1]
		end

		SetActive(arg_519_1.tipsGo_, false)

		function arg_519_1.onSingleLineFinish_()
			arg_519_1.onSingleLineUpdate_ = nil
			arg_519_1.onSingleLineFinish_ = nil
			arg_519_1.state_ = "waiting"
		end

		function arg_519_1.playNext_(arg_521_0)
			if arg_521_0 == 1 then
				arg_519_0:Play411121123(arg_519_1)
			end
		end

		function arg_519_1.onSingleLineUpdate_(arg_522_0)
			local var_522_0 = arg_519_1.actors_["1095ui_story"].transform
			local var_522_1 = 0

			if var_522_1 < arg_519_1.time_ and arg_519_1.time_ <= var_522_1 + arg_522_0 then
				arg_519_1.var_.moveOldPos1095ui_story = var_522_0.localPosition
			end

			local var_522_2 = 0.001

			if var_522_1 <= arg_519_1.time_ and arg_519_1.time_ < var_522_1 + var_522_2 then
				local var_522_3 = (arg_519_1.time_ - var_522_1) / var_522_2
				local var_522_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_522_0.localPosition = Vector3.Lerp(arg_519_1.var_.moveOldPos1095ui_story, var_522_4, var_522_3)

				local var_522_5 = manager.ui.mainCamera.transform.position - var_522_0.position

				var_522_0.forward = Vector3.New(var_522_5.x, var_522_5.y, var_522_5.z)

				local var_522_6 = var_522_0.localEulerAngles

				var_522_6.z = 0
				var_522_6.x = 0
				var_522_0.localEulerAngles = var_522_6
			end

			if arg_519_1.time_ >= var_522_1 + var_522_2 and arg_519_1.time_ < var_522_1 + var_522_2 + arg_522_0 then
				var_522_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_522_7 = manager.ui.mainCamera.transform.position - var_522_0.position

				var_522_0.forward = Vector3.New(var_522_7.x, var_522_7.y, var_522_7.z)

				local var_522_8 = var_522_0.localEulerAngles

				var_522_8.z = 0
				var_522_8.x = 0
				var_522_0.localEulerAngles = var_522_8
			end

			local var_522_9 = "10058ui_story"

			if arg_519_1.actors_[var_522_9] == nil then
				local var_522_10 = Object.Instantiate(Asset.Load("Char/" .. var_522_9), arg_519_1.stage_.transform)

				var_522_10.name = var_522_9
				var_522_10.transform.localPosition = Vector3.New(0, 100, 0)
				arg_519_1.actors_[var_522_9] = var_522_10

				local var_522_11 = var_522_10:GetComponentInChildren(typeof(CharacterEffect))

				var_522_11.enabled = true

				local var_522_12 = GameObjectTools.GetOrAddComponent(var_522_10, typeof(DynamicBoneHelper))

				if var_522_12 then
					var_522_12:EnableDynamicBone(false)
				end

				arg_519_1:ShowWeapon(var_522_11.transform, false)

				arg_519_1.var_[var_522_9 .. "Animator"] = var_522_11.gameObject:GetComponent(typeof(UnityEngine.Animator))
				arg_519_1.var_[var_522_9 .. "Animator"].applyRootMotion = true
				arg_519_1.var_[var_522_9 .. "LipSync"] = var_522_11.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
			end

			local var_522_13 = arg_519_1.actors_["10058ui_story"]
			local var_522_14 = 0

			if var_522_14 < arg_519_1.time_ and arg_519_1.time_ <= var_522_14 + arg_522_0 and arg_519_1.var_.characterEffect10058ui_story == nil then
				arg_519_1.var_.characterEffect10058ui_story = var_522_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_522_15 = 0.200000002980232

			if var_522_14 <= arg_519_1.time_ and arg_519_1.time_ < var_522_14 + var_522_15 then
				local var_522_16 = (arg_519_1.time_ - var_522_14) / var_522_15

				if arg_519_1.var_.characterEffect10058ui_story then
					arg_519_1.var_.characterEffect10058ui_story.fillFlat = false
				end
			end

			if arg_519_1.time_ >= var_522_14 + var_522_15 and arg_519_1.time_ < var_522_14 + var_522_15 + arg_522_0 and arg_519_1.var_.characterEffect10058ui_story then
				arg_519_1.var_.characterEffect10058ui_story.fillFlat = false
			end

			local var_522_17 = 0

			if var_522_17 < arg_519_1.time_ and arg_519_1.time_ <= var_522_17 + arg_522_0 then
				arg_519_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action4_1")
			end

			local var_522_18 = 0
			local var_522_19 = 0.825

			if var_522_18 < arg_519_1.time_ and arg_519_1.time_ <= var_522_18 + arg_522_0 then
				arg_519_1.talkMaxDuration = 0
				arg_519_1.dialogCg_.alpha = 1

				arg_519_1.dialog_:SetActive(true)
				SetActive(arg_519_1.leftNameGo_, true)

				local var_522_20 = arg_519_1:FormatText(StoryNameCfg[471].name)

				arg_519_1.leftNameTxt_.text = var_522_20

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_519_1.leftNameTxt_.transform)

				arg_519_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_519_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_519_1:RecordName(arg_519_1.leftNameTxt_.text)
				SetActive(arg_519_1.iconTrs_.gameObject, false)
				arg_519_1.callingController_:SetSelectedState("normal")

				local var_522_21 = arg_519_1:GetWordFromCfg(411121122)
				local var_522_22 = arg_519_1:FormatText(var_522_21.content)

				arg_519_1.text_.text = var_522_22

				LuaForUtil.ClearLinePrefixSymbol(arg_519_1.text_)

				local var_522_23 = 33
				local var_522_24 = utf8.len(var_522_22)
				local var_522_25 = var_522_23 <= 0 and var_522_19 or var_522_19 * (var_522_24 / var_522_23)

				if var_522_25 > 0 and var_522_19 < var_522_25 then
					arg_519_1.talkMaxDuration = var_522_25

					if var_522_25 + var_522_18 > arg_519_1.duration_ then
						arg_519_1.duration_ = var_522_25 + var_522_18
					end
				end

				arg_519_1.text_.text = var_522_22
				arg_519_1.typewritter.percent = 0

				arg_519_1.typewritter:SetDirty()
				arg_519_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121122", "story_v_out_411121.awb") ~= 0 then
					local var_522_26 = manager.audio:GetVoiceLength("story_v_out_411121", "411121122", "story_v_out_411121.awb") / 1000

					if var_522_26 + var_522_18 > arg_519_1.duration_ then
						arg_519_1.duration_ = var_522_26 + var_522_18
					end

					if var_522_21.prefab_name ~= "" and arg_519_1.actors_[var_522_21.prefab_name] ~= nil then
						local var_522_27 = LuaForUtil.PlayVoiceWithCriLipsync(arg_519_1.actors_[var_522_21.prefab_name].transform, "story_v_out_411121", "411121122", "story_v_out_411121.awb")

						arg_519_1:RecordAudio("411121122", var_522_27)
						arg_519_1:RecordAudio("411121122", var_522_27)
					else
						arg_519_1:AudioAction("play", "voice", "story_v_out_411121", "411121122", "story_v_out_411121.awb")
					end

					arg_519_1:RecordHistoryTalkVoice("story_v_out_411121", "411121122", "story_v_out_411121.awb")
				end

				arg_519_1:RecordContent(arg_519_1.text_.text)
			end

			local var_522_28 = math.max(var_522_19, arg_519_1.talkMaxDuration)

			if var_522_18 <= arg_519_1.time_ and arg_519_1.time_ < var_522_18 + var_522_28 then
				arg_519_1.typewritter.percent = (arg_519_1.time_ - var_522_18) / var_522_28

				arg_519_1.typewritter:SetDirty()
			end

			if arg_519_1.time_ >= var_522_18 + var_522_28 and arg_519_1.time_ < var_522_18 + var_522_28 + arg_522_0 then
				arg_519_1.typewritter.percent = 1

				arg_519_1.typewritter:SetDirty()
				arg_519_1:ShowNextGo(true)
			end
		end
	end,
	Play411121123 = function(arg_523_0, arg_523_1)
		arg_523_1.time_ = 0
		arg_523_1.frameCnt_ = 0
		arg_523_1.state_ = "playing"
		arg_523_1.curTalkId_ = 411121123
		arg_523_1.duration_ = 2

		local var_523_0 = {
			zh = 1.066,
			ja = 2
		}
		local var_523_1 = manager.audio:GetLocalizationFlag()

		if var_523_0[var_523_1] ~= nil then
			arg_523_1.duration_ = var_523_0[var_523_1]
		end

		SetActive(arg_523_1.tipsGo_, false)

		function arg_523_1.onSingleLineFinish_()
			arg_523_1.onSingleLineUpdate_ = nil
			arg_523_1.onSingleLineFinish_ = nil
			arg_523_1.state_ = "waiting"
		end

		function arg_523_1.playNext_(arg_525_0)
			if arg_525_0 == 1 then
				arg_523_0:Play411121124(arg_523_1)
			end
		end

		function arg_523_1.onSingleLineUpdate_(arg_526_0)
			local var_526_0 = arg_523_1.actors_["1095ui_story"]
			local var_526_1 = 0

			if var_526_1 < arg_523_1.time_ and arg_523_1.time_ <= var_526_1 + arg_526_0 and arg_523_1.var_.characterEffect1095ui_story == nil then
				arg_523_1.var_.characterEffect1095ui_story = var_526_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_526_2 = 0.200000002980232

			if var_526_1 <= arg_523_1.time_ and arg_523_1.time_ < var_526_1 + var_526_2 then
				local var_526_3 = (arg_523_1.time_ - var_526_1) / var_526_2

				if arg_523_1.var_.characterEffect1095ui_story then
					local var_526_4 = Mathf.Lerp(0, 0.5, var_526_3)

					arg_523_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_523_1.var_.characterEffect1095ui_story.fillRatio = var_526_4
				end
			end

			if arg_523_1.time_ >= var_526_1 + var_526_2 and arg_523_1.time_ < var_526_1 + var_526_2 + arg_526_0 and arg_523_1.var_.characterEffect1095ui_story then
				local var_526_5 = 0.5

				arg_523_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_523_1.var_.characterEffect1095ui_story.fillRatio = var_526_5
			end

			local var_526_6 = arg_523_1.actors_["10071ui_story"]
			local var_526_7 = 0

			if var_526_7 < arg_523_1.time_ and arg_523_1.time_ <= var_526_7 + arg_526_0 and arg_523_1.var_.characterEffect10071ui_story == nil then
				arg_523_1.var_.characterEffect10071ui_story = var_526_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_526_8 = 0.200000002980232

			if var_526_7 <= arg_523_1.time_ and arg_523_1.time_ < var_526_7 + var_526_8 then
				local var_526_9 = (arg_523_1.time_ - var_526_7) / var_526_8

				if arg_523_1.var_.characterEffect10071ui_story then
					arg_523_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_523_1.time_ >= var_526_7 + var_526_8 and arg_523_1.time_ < var_526_7 + var_526_8 + arg_526_0 and arg_523_1.var_.characterEffect10071ui_story then
				arg_523_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_526_10 = 0
			local var_526_11 = 0.05

			if var_526_10 < arg_523_1.time_ and arg_523_1.time_ <= var_526_10 + arg_526_0 then
				arg_523_1.talkMaxDuration = 0
				arg_523_1.dialogCg_.alpha = 1

				arg_523_1.dialog_:SetActive(true)
				SetActive(arg_523_1.leftNameGo_, true)

				local var_526_12 = arg_523_1:FormatText(StoryNameCfg[670].name)

				arg_523_1.leftNameTxt_.text = var_526_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_523_1.leftNameTxt_.transform)

				arg_523_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_523_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_523_1:RecordName(arg_523_1.leftNameTxt_.text)
				SetActive(arg_523_1.iconTrs_.gameObject, false)
				arg_523_1.callingController_:SetSelectedState("normal")

				local var_526_13 = arg_523_1:GetWordFromCfg(411121123)
				local var_526_14 = arg_523_1:FormatText(var_526_13.content)

				arg_523_1.text_.text = var_526_14

				LuaForUtil.ClearLinePrefixSymbol(arg_523_1.text_)

				local var_526_15 = 2
				local var_526_16 = utf8.len(var_526_14)
				local var_526_17 = var_526_15 <= 0 and var_526_11 or var_526_11 * (var_526_16 / var_526_15)

				if var_526_17 > 0 and var_526_11 < var_526_17 then
					arg_523_1.talkMaxDuration = var_526_17

					if var_526_17 + var_526_10 > arg_523_1.duration_ then
						arg_523_1.duration_ = var_526_17 + var_526_10
					end
				end

				arg_523_1.text_.text = var_526_14
				arg_523_1.typewritter.percent = 0

				arg_523_1.typewritter:SetDirty()
				arg_523_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121123", "story_v_out_411121.awb") ~= 0 then
					local var_526_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121123", "story_v_out_411121.awb") / 1000

					if var_526_18 + var_526_10 > arg_523_1.duration_ then
						arg_523_1.duration_ = var_526_18 + var_526_10
					end

					if var_526_13.prefab_name ~= "" and arg_523_1.actors_[var_526_13.prefab_name] ~= nil then
						local var_526_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_523_1.actors_[var_526_13.prefab_name].transform, "story_v_out_411121", "411121123", "story_v_out_411121.awb")

						arg_523_1:RecordAudio("411121123", var_526_19)
						arg_523_1:RecordAudio("411121123", var_526_19)
					else
						arg_523_1:AudioAction("play", "voice", "story_v_out_411121", "411121123", "story_v_out_411121.awb")
					end

					arg_523_1:RecordHistoryTalkVoice("story_v_out_411121", "411121123", "story_v_out_411121.awb")
				end

				arg_523_1:RecordContent(arg_523_1.text_.text)
			end

			local var_526_20 = math.max(var_526_11, arg_523_1.talkMaxDuration)

			if var_526_10 <= arg_523_1.time_ and arg_523_1.time_ < var_526_10 + var_526_20 then
				arg_523_1.typewritter.percent = (arg_523_1.time_ - var_526_10) / var_526_20

				arg_523_1.typewritter:SetDirty()
			end

			if arg_523_1.time_ >= var_526_10 + var_526_20 and arg_523_1.time_ < var_526_10 + var_526_20 + arg_526_0 then
				arg_523_1.typewritter.percent = 1

				arg_523_1.typewritter:SetDirty()
				arg_523_1:ShowNextGo(true)
			end
		end
	end,
	Play411121124 = function(arg_527_0, arg_527_1)
		arg_527_1.time_ = 0
		arg_527_1.frameCnt_ = 0
		arg_527_1.state_ = "playing"
		arg_527_1.curTalkId_ = 411121124
		arg_527_1.duration_ = 5

		SetActive(arg_527_1.tipsGo_, false)

		function arg_527_1.onSingleLineFinish_()
			arg_527_1.onSingleLineUpdate_ = nil
			arg_527_1.onSingleLineFinish_ = nil
			arg_527_1.state_ = "waiting"
		end

		function arg_527_1.playNext_(arg_529_0)
			if arg_529_0 == 1 then
				arg_527_0:Play411121125(arg_527_1)
			end
		end

		function arg_527_1.onSingleLineUpdate_(arg_530_0)
			local var_530_0 = 0
			local var_530_1 = 0.425

			if var_530_0 < arg_527_1.time_ and arg_527_1.time_ <= var_530_0 + arg_530_0 then
				arg_527_1.talkMaxDuration = 0
				arg_527_1.dialogCg_.alpha = 1

				arg_527_1.dialog_:SetActive(true)
				SetActive(arg_527_1.leftNameGo_, false)

				arg_527_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_527_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_527_1:RecordName(arg_527_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_527_1.iconTrs_.gameObject, false)
				arg_527_1.callingController_:SetSelectedState("normal")

				local var_530_2 = arg_527_1:GetWordFromCfg(411121124)
				local var_530_3 = arg_527_1:FormatText(var_530_2.content)

				arg_527_1.text_.text = var_530_3

				LuaForUtil.ClearLinePrefixSymbol(arg_527_1.text_)

				local var_530_4 = 17
				local var_530_5 = utf8.len(var_530_3)
				local var_530_6 = var_530_4 <= 0 and var_530_1 or var_530_1 * (var_530_5 / var_530_4)

				if var_530_6 > 0 and var_530_1 < var_530_6 then
					arg_527_1.talkMaxDuration = var_530_6

					if var_530_6 + var_530_0 > arg_527_1.duration_ then
						arg_527_1.duration_ = var_530_6 + var_530_0
					end
				end

				arg_527_1.text_.text = var_530_3
				arg_527_1.typewritter.percent = 0

				arg_527_1.typewritter:SetDirty()
				arg_527_1:ShowNextGo(false)
				arg_527_1:RecordContent(arg_527_1.text_.text)
			end

			local var_530_7 = math.max(var_530_1, arg_527_1.talkMaxDuration)

			if var_530_0 <= arg_527_1.time_ and arg_527_1.time_ < var_530_0 + var_530_7 then
				arg_527_1.typewritter.percent = (arg_527_1.time_ - var_530_0) / var_530_7

				arg_527_1.typewritter:SetDirty()
			end

			if arg_527_1.time_ >= var_530_0 + var_530_7 and arg_527_1.time_ < var_530_0 + var_530_7 + arg_530_0 then
				arg_527_1.typewritter.percent = 1

				arg_527_1.typewritter:SetDirty()
				arg_527_1:ShowNextGo(true)
			end
		end
	end,
	Play411121125 = function(arg_531_0, arg_531_1)
		arg_531_1.time_ = 0
		arg_531_1.frameCnt_ = 0
		arg_531_1.state_ = "playing"
		arg_531_1.curTalkId_ = 411121125
		arg_531_1.duration_ = 1.999999999999

		SetActive(arg_531_1.tipsGo_, false)

		function arg_531_1.onSingleLineFinish_()
			arg_531_1.onSingleLineUpdate_ = nil
			arg_531_1.onSingleLineFinish_ = nil
			arg_531_1.state_ = "waiting"
		end

		function arg_531_1.playNext_(arg_533_0)
			if arg_533_0 == 1 then
				arg_531_0:Play411121126(arg_531_1)
			end
		end

		function arg_531_1.onSingleLineUpdate_(arg_534_0)
			local var_534_0 = arg_531_1.actors_["10071ui_story"].transform
			local var_534_1 = 0

			if var_534_1 < arg_531_1.time_ and arg_531_1.time_ <= var_534_1 + arg_534_0 then
				arg_531_1.var_.moveOldPos10071ui_story = var_534_0.localPosition
			end

			local var_534_2 = 0.001

			if var_534_1 <= arg_531_1.time_ and arg_531_1.time_ < var_534_1 + var_534_2 then
				local var_534_3 = (arg_531_1.time_ - var_534_1) / var_534_2
				local var_534_4 = Vector3.New(0.7, -0.9, -6.26)

				var_534_0.localPosition = Vector3.Lerp(arg_531_1.var_.moveOldPos10071ui_story, var_534_4, var_534_3)

				local var_534_5 = manager.ui.mainCamera.transform.position - var_534_0.position

				var_534_0.forward = Vector3.New(var_534_5.x, var_534_5.y, var_534_5.z)

				local var_534_6 = var_534_0.localEulerAngles

				var_534_6.z = 0
				var_534_6.x = 0
				var_534_0.localEulerAngles = var_534_6
			end

			if arg_531_1.time_ >= var_534_1 + var_534_2 and arg_531_1.time_ < var_534_1 + var_534_2 + arg_534_0 then
				var_534_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_534_7 = manager.ui.mainCamera.transform.position - var_534_0.position

				var_534_0.forward = Vector3.New(var_534_7.x, var_534_7.y, var_534_7.z)

				local var_534_8 = var_534_0.localEulerAngles

				var_534_8.z = 0
				var_534_8.x = 0
				var_534_0.localEulerAngles = var_534_8
			end

			local var_534_9 = arg_531_1.actors_["10071ui_story"]
			local var_534_10 = 0

			if var_534_10 < arg_531_1.time_ and arg_531_1.time_ <= var_534_10 + arg_534_0 and arg_531_1.var_.characterEffect10071ui_story == nil then
				arg_531_1.var_.characterEffect10071ui_story = var_534_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_534_11 = 0.200000002980232

			if var_534_10 <= arg_531_1.time_ and arg_531_1.time_ < var_534_10 + var_534_11 then
				local var_534_12 = (arg_531_1.time_ - var_534_10) / var_534_11

				if arg_531_1.var_.characterEffect10071ui_story then
					arg_531_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_531_1.time_ >= var_534_10 + var_534_11 and arg_531_1.time_ < var_534_10 + var_534_11 + arg_534_0 and arg_531_1.var_.characterEffect10071ui_story then
				arg_531_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_534_13 = 0

			if var_534_13 < arg_531_1.time_ and arg_531_1.time_ <= var_534_13 + arg_534_0 then
				arg_531_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_1")
			end

			local var_534_14 = 0

			if var_534_14 < arg_531_1.time_ and arg_531_1.time_ <= var_534_14 + arg_534_0 then
				arg_531_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1103cva")
			end

			local var_534_15 = 0
			local var_534_16 = 0.1

			if var_534_15 < arg_531_1.time_ and arg_531_1.time_ <= var_534_15 + arg_534_0 then
				arg_531_1.talkMaxDuration = 0
				arg_531_1.dialogCg_.alpha = 1

				arg_531_1.dialog_:SetActive(true)
				SetActive(arg_531_1.leftNameGo_, true)

				local var_534_17 = arg_531_1:FormatText(StoryNameCfg[670].name)

				arg_531_1.leftNameTxt_.text = var_534_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_531_1.leftNameTxt_.transform)

				arg_531_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_531_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_531_1:RecordName(arg_531_1.leftNameTxt_.text)
				SetActive(arg_531_1.iconTrs_.gameObject, false)
				arg_531_1.callingController_:SetSelectedState("normal")

				local var_534_18 = arg_531_1:GetWordFromCfg(411121125)
				local var_534_19 = arg_531_1:FormatText(var_534_18.content)

				arg_531_1.text_.text = var_534_19

				LuaForUtil.ClearLinePrefixSymbol(arg_531_1.text_)

				local var_534_20 = 4
				local var_534_21 = utf8.len(var_534_19)
				local var_534_22 = var_534_20 <= 0 and var_534_16 or var_534_16 * (var_534_21 / var_534_20)

				if var_534_22 > 0 and var_534_16 < var_534_22 then
					arg_531_1.talkMaxDuration = var_534_22

					if var_534_22 + var_534_15 > arg_531_1.duration_ then
						arg_531_1.duration_ = var_534_22 + var_534_15
					end
				end

				arg_531_1.text_.text = var_534_19
				arg_531_1.typewritter.percent = 0

				arg_531_1.typewritter:SetDirty()
				arg_531_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121125", "story_v_out_411121.awb") ~= 0 then
					local var_534_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121125", "story_v_out_411121.awb") / 1000

					if var_534_23 + var_534_15 > arg_531_1.duration_ then
						arg_531_1.duration_ = var_534_23 + var_534_15
					end

					if var_534_18.prefab_name ~= "" and arg_531_1.actors_[var_534_18.prefab_name] ~= nil then
						local var_534_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_531_1.actors_[var_534_18.prefab_name].transform, "story_v_out_411121", "411121125", "story_v_out_411121.awb")

						arg_531_1:RecordAudio("411121125", var_534_24)
						arg_531_1:RecordAudio("411121125", var_534_24)
					else
						arg_531_1:AudioAction("play", "voice", "story_v_out_411121", "411121125", "story_v_out_411121.awb")
					end

					arg_531_1:RecordHistoryTalkVoice("story_v_out_411121", "411121125", "story_v_out_411121.awb")
				end

				arg_531_1:RecordContent(arg_531_1.text_.text)
			end

			local var_534_25 = math.max(var_534_16, arg_531_1.talkMaxDuration)

			if var_534_15 <= arg_531_1.time_ and arg_531_1.time_ < var_534_15 + var_534_25 then
				arg_531_1.typewritter.percent = (arg_531_1.time_ - var_534_15) / var_534_25

				arg_531_1.typewritter:SetDirty()
			end

			if arg_531_1.time_ >= var_534_15 + var_534_25 and arg_531_1.time_ < var_534_15 + var_534_25 + arg_534_0 then
				arg_531_1.typewritter.percent = 1

				arg_531_1.typewritter:SetDirty()
				arg_531_1:ShowNextGo(true)
			end
		end
	end,
	Play411121126 = function(arg_535_0, arg_535_1)
		arg_535_1.time_ = 0
		arg_535_1.frameCnt_ = 0
		arg_535_1.state_ = "playing"
		arg_535_1.curTalkId_ = 411121126
		arg_535_1.duration_ = 7.1

		local var_535_0 = {
			zh = 6,
			ja = 7.1
		}
		local var_535_1 = manager.audio:GetLocalizationFlag()

		if var_535_0[var_535_1] ~= nil then
			arg_535_1.duration_ = var_535_0[var_535_1]
		end

		SetActive(arg_535_1.tipsGo_, false)

		function arg_535_1.onSingleLineFinish_()
			arg_535_1.onSingleLineUpdate_ = nil
			arg_535_1.onSingleLineFinish_ = nil
			arg_535_1.state_ = "waiting"
		end

		function arg_535_1.playNext_(arg_537_0)
			if arg_537_0 == 1 then
				arg_535_0:Play411121127(arg_535_1)
			end
		end

		function arg_535_1.onSingleLineUpdate_(arg_538_0)
			local var_538_0 = arg_535_1.actors_["1095ui_story"]
			local var_538_1 = 0

			if var_538_1 < arg_535_1.time_ and arg_535_1.time_ <= var_538_1 + arg_538_0 and arg_535_1.var_.characterEffect1095ui_story == nil then
				arg_535_1.var_.characterEffect1095ui_story = var_538_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_538_2 = 0.200000002980232

			if var_538_1 <= arg_535_1.time_ and arg_535_1.time_ < var_538_1 + var_538_2 then
				local var_538_3 = (arg_535_1.time_ - var_538_1) / var_538_2

				if arg_535_1.var_.characterEffect1095ui_story then
					arg_535_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_535_1.time_ >= var_538_1 + var_538_2 and arg_535_1.time_ < var_538_1 + var_538_2 + arg_538_0 and arg_535_1.var_.characterEffect1095ui_story then
				arg_535_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_538_4 = arg_535_1.actors_["10071ui_story"]
			local var_538_5 = 0

			if var_538_5 < arg_535_1.time_ and arg_535_1.time_ <= var_538_5 + arg_538_0 and arg_535_1.var_.characterEffect10071ui_story == nil then
				arg_535_1.var_.characterEffect10071ui_story = var_538_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_538_6 = 0.200000002980232

			if var_538_5 <= arg_535_1.time_ and arg_535_1.time_ < var_538_5 + var_538_6 then
				local var_538_7 = (arg_535_1.time_ - var_538_5) / var_538_6

				if arg_535_1.var_.characterEffect10071ui_story then
					local var_538_8 = Mathf.Lerp(0, 0.5, var_538_7)

					arg_535_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_535_1.var_.characterEffect10071ui_story.fillRatio = var_538_8
				end
			end

			if arg_535_1.time_ >= var_538_5 + var_538_6 and arg_535_1.time_ < var_538_5 + var_538_6 + arg_538_0 and arg_535_1.var_.characterEffect10071ui_story then
				local var_538_9 = 0.5

				arg_535_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_535_1.var_.characterEffect10071ui_story.fillRatio = var_538_9
			end

			local var_538_10 = 0

			if var_538_10 < arg_535_1.time_ and arg_535_1.time_ <= var_538_10 + arg_538_0 then
				arg_535_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_538_11 = 0
			local var_538_12 = 0.575

			if var_538_11 < arg_535_1.time_ and arg_535_1.time_ <= var_538_11 + arg_538_0 then
				arg_535_1.talkMaxDuration = 0
				arg_535_1.dialogCg_.alpha = 1

				arg_535_1.dialog_:SetActive(true)
				SetActive(arg_535_1.leftNameGo_, true)

				local var_538_13 = arg_535_1:FormatText(StoryNameCfg[471].name)

				arg_535_1.leftNameTxt_.text = var_538_13

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_535_1.leftNameTxt_.transform)

				arg_535_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_535_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_535_1:RecordName(arg_535_1.leftNameTxt_.text)
				SetActive(arg_535_1.iconTrs_.gameObject, false)
				arg_535_1.callingController_:SetSelectedState("normal")

				local var_538_14 = arg_535_1:GetWordFromCfg(411121126)
				local var_538_15 = arg_535_1:FormatText(var_538_14.content)

				arg_535_1.text_.text = var_538_15

				LuaForUtil.ClearLinePrefixSymbol(arg_535_1.text_)

				local var_538_16 = 23
				local var_538_17 = utf8.len(var_538_15)
				local var_538_18 = var_538_16 <= 0 and var_538_12 or var_538_12 * (var_538_17 / var_538_16)

				if var_538_18 > 0 and var_538_12 < var_538_18 then
					arg_535_1.talkMaxDuration = var_538_18

					if var_538_18 + var_538_11 > arg_535_1.duration_ then
						arg_535_1.duration_ = var_538_18 + var_538_11
					end
				end

				arg_535_1.text_.text = var_538_15
				arg_535_1.typewritter.percent = 0

				arg_535_1.typewritter:SetDirty()
				arg_535_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121126", "story_v_out_411121.awb") ~= 0 then
					local var_538_19 = manager.audio:GetVoiceLength("story_v_out_411121", "411121126", "story_v_out_411121.awb") / 1000

					if var_538_19 + var_538_11 > arg_535_1.duration_ then
						arg_535_1.duration_ = var_538_19 + var_538_11
					end

					if var_538_14.prefab_name ~= "" and arg_535_1.actors_[var_538_14.prefab_name] ~= nil then
						local var_538_20 = LuaForUtil.PlayVoiceWithCriLipsync(arg_535_1.actors_[var_538_14.prefab_name].transform, "story_v_out_411121", "411121126", "story_v_out_411121.awb")

						arg_535_1:RecordAudio("411121126", var_538_20)
						arg_535_1:RecordAudio("411121126", var_538_20)
					else
						arg_535_1:AudioAction("play", "voice", "story_v_out_411121", "411121126", "story_v_out_411121.awb")
					end

					arg_535_1:RecordHistoryTalkVoice("story_v_out_411121", "411121126", "story_v_out_411121.awb")
				end

				arg_535_1:RecordContent(arg_535_1.text_.text)
			end

			local var_538_21 = math.max(var_538_12, arg_535_1.talkMaxDuration)

			if var_538_11 <= arg_535_1.time_ and arg_535_1.time_ < var_538_11 + var_538_21 then
				arg_535_1.typewritter.percent = (arg_535_1.time_ - var_538_11) / var_538_21

				arg_535_1.typewritter:SetDirty()
			end

			if arg_535_1.time_ >= var_538_11 + var_538_21 and arg_535_1.time_ < var_538_11 + var_538_21 + arg_538_0 then
				arg_535_1.typewritter.percent = 1

				arg_535_1.typewritter:SetDirty()
				arg_535_1:ShowNextGo(true)
			end
		end
	end,
	Play411121127 = function(arg_539_0, arg_539_1)
		arg_539_1.time_ = 0
		arg_539_1.frameCnt_ = 0
		arg_539_1.state_ = "playing"
		arg_539_1.curTalkId_ = 411121127
		arg_539_1.duration_ = 4.766

		local var_539_0 = {
			zh = 3.5,
			ja = 4.766
		}
		local var_539_1 = manager.audio:GetLocalizationFlag()

		if var_539_0[var_539_1] ~= nil then
			arg_539_1.duration_ = var_539_0[var_539_1]
		end

		SetActive(arg_539_1.tipsGo_, false)

		function arg_539_1.onSingleLineFinish_()
			arg_539_1.onSingleLineUpdate_ = nil
			arg_539_1.onSingleLineFinish_ = nil
			arg_539_1.state_ = "waiting"
		end

		function arg_539_1.playNext_(arg_541_0)
			if arg_541_0 == 1 then
				arg_539_0:Play411121128(arg_539_1)
			end
		end

		function arg_539_1.onSingleLineUpdate_(arg_542_0)
			local var_542_0 = arg_539_1.actors_["1095ui_story"]
			local var_542_1 = 0

			if var_542_1 < arg_539_1.time_ and arg_539_1.time_ <= var_542_1 + arg_542_0 and arg_539_1.var_.characterEffect1095ui_story == nil then
				arg_539_1.var_.characterEffect1095ui_story = var_542_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_542_2 = 0.200000002980232

			if var_542_1 <= arg_539_1.time_ and arg_539_1.time_ < var_542_1 + var_542_2 then
				local var_542_3 = (arg_539_1.time_ - var_542_1) / var_542_2

				if arg_539_1.var_.characterEffect1095ui_story then
					local var_542_4 = Mathf.Lerp(0, 0.5, var_542_3)

					arg_539_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_539_1.var_.characterEffect1095ui_story.fillRatio = var_542_4
				end
			end

			if arg_539_1.time_ >= var_542_1 + var_542_2 and arg_539_1.time_ < var_542_1 + var_542_2 + arg_542_0 and arg_539_1.var_.characterEffect1095ui_story then
				local var_542_5 = 0.5

				arg_539_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_539_1.var_.characterEffect1095ui_story.fillRatio = var_542_5
			end

			local var_542_6 = arg_539_1.actors_["10071ui_story"]
			local var_542_7 = 0

			if var_542_7 < arg_539_1.time_ and arg_539_1.time_ <= var_542_7 + arg_542_0 and arg_539_1.var_.characterEffect10071ui_story == nil then
				arg_539_1.var_.characterEffect10071ui_story = var_542_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_542_8 = 0.200000002980232

			if var_542_7 <= arg_539_1.time_ and arg_539_1.time_ < var_542_7 + var_542_8 then
				local var_542_9 = (arg_539_1.time_ - var_542_7) / var_542_8

				if arg_539_1.var_.characterEffect10071ui_story then
					arg_539_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_539_1.time_ >= var_542_7 + var_542_8 and arg_539_1.time_ < var_542_7 + var_542_8 + arg_542_0 and arg_539_1.var_.characterEffect10071ui_story then
				arg_539_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_542_10 = 0
			local var_542_11 = 0.3

			if var_542_10 < arg_539_1.time_ and arg_539_1.time_ <= var_542_10 + arg_542_0 then
				arg_539_1.talkMaxDuration = 0
				arg_539_1.dialogCg_.alpha = 1

				arg_539_1.dialog_:SetActive(true)
				SetActive(arg_539_1.leftNameGo_, true)

				local var_542_12 = arg_539_1:FormatText(StoryNameCfg[670].name)

				arg_539_1.leftNameTxt_.text = var_542_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_539_1.leftNameTxt_.transform)

				arg_539_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_539_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_539_1:RecordName(arg_539_1.leftNameTxt_.text)
				SetActive(arg_539_1.iconTrs_.gameObject, false)
				arg_539_1.callingController_:SetSelectedState("normal")

				local var_542_13 = arg_539_1:GetWordFromCfg(411121127)
				local var_542_14 = arg_539_1:FormatText(var_542_13.content)

				arg_539_1.text_.text = var_542_14

				LuaForUtil.ClearLinePrefixSymbol(arg_539_1.text_)

				local var_542_15 = 12
				local var_542_16 = utf8.len(var_542_14)
				local var_542_17 = var_542_15 <= 0 and var_542_11 or var_542_11 * (var_542_16 / var_542_15)

				if var_542_17 > 0 and var_542_11 < var_542_17 then
					arg_539_1.talkMaxDuration = var_542_17

					if var_542_17 + var_542_10 > arg_539_1.duration_ then
						arg_539_1.duration_ = var_542_17 + var_542_10
					end
				end

				arg_539_1.text_.text = var_542_14
				arg_539_1.typewritter.percent = 0

				arg_539_1.typewritter:SetDirty()
				arg_539_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121127", "story_v_out_411121.awb") ~= 0 then
					local var_542_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121127", "story_v_out_411121.awb") / 1000

					if var_542_18 + var_542_10 > arg_539_1.duration_ then
						arg_539_1.duration_ = var_542_18 + var_542_10
					end

					if var_542_13.prefab_name ~= "" and arg_539_1.actors_[var_542_13.prefab_name] ~= nil then
						local var_542_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_539_1.actors_[var_542_13.prefab_name].transform, "story_v_out_411121", "411121127", "story_v_out_411121.awb")

						arg_539_1:RecordAudio("411121127", var_542_19)
						arg_539_1:RecordAudio("411121127", var_542_19)
					else
						arg_539_1:AudioAction("play", "voice", "story_v_out_411121", "411121127", "story_v_out_411121.awb")
					end

					arg_539_1:RecordHistoryTalkVoice("story_v_out_411121", "411121127", "story_v_out_411121.awb")
				end

				arg_539_1:RecordContent(arg_539_1.text_.text)
			end

			local var_542_20 = math.max(var_542_11, arg_539_1.talkMaxDuration)

			if var_542_10 <= arg_539_1.time_ and arg_539_1.time_ < var_542_10 + var_542_20 then
				arg_539_1.typewritter.percent = (arg_539_1.time_ - var_542_10) / var_542_20

				arg_539_1.typewritter:SetDirty()
			end

			if arg_539_1.time_ >= var_542_10 + var_542_20 and arg_539_1.time_ < var_542_10 + var_542_20 + arg_542_0 then
				arg_539_1.typewritter.percent = 1

				arg_539_1.typewritter:SetDirty()
				arg_539_1:ShowNextGo(true)
			end
		end
	end,
	Play411121128 = function(arg_543_0, arg_543_1)
		arg_543_1.time_ = 0
		arg_543_1.frameCnt_ = 0
		arg_543_1.state_ = "playing"
		arg_543_1.curTalkId_ = 411121128
		arg_543_1.duration_ = 5.566

		local var_543_0 = {
			zh = 1.433,
			ja = 5.566
		}
		local var_543_1 = manager.audio:GetLocalizationFlag()

		if var_543_0[var_543_1] ~= nil then
			arg_543_1.duration_ = var_543_0[var_543_1]
		end

		SetActive(arg_543_1.tipsGo_, false)

		function arg_543_1.onSingleLineFinish_()
			arg_543_1.onSingleLineUpdate_ = nil
			arg_543_1.onSingleLineFinish_ = nil
			arg_543_1.state_ = "waiting"
		end

		function arg_543_1.playNext_(arg_545_0)
			if arg_545_0 == 1 then
				arg_543_0:Play411121129(arg_543_1)
			end
		end

		function arg_543_1.onSingleLineUpdate_(arg_546_0)
			local var_546_0 = arg_543_1.actors_["1095ui_story"]
			local var_546_1 = 0

			if var_546_1 < arg_543_1.time_ and arg_543_1.time_ <= var_546_1 + arg_546_0 and arg_543_1.var_.characterEffect1095ui_story == nil then
				arg_543_1.var_.characterEffect1095ui_story = var_546_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_546_2 = 0.200000002980232

			if var_546_1 <= arg_543_1.time_ and arg_543_1.time_ < var_546_1 + var_546_2 then
				local var_546_3 = (arg_543_1.time_ - var_546_1) / var_546_2

				if arg_543_1.var_.characterEffect1095ui_story then
					arg_543_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_543_1.time_ >= var_546_1 + var_546_2 and arg_543_1.time_ < var_546_1 + var_546_2 + arg_546_0 and arg_543_1.var_.characterEffect1095ui_story then
				arg_543_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_546_4 = arg_543_1.actors_["10071ui_story"]
			local var_546_5 = 0

			if var_546_5 < arg_543_1.time_ and arg_543_1.time_ <= var_546_5 + arg_546_0 and arg_543_1.var_.characterEffect10071ui_story == nil then
				arg_543_1.var_.characterEffect10071ui_story = var_546_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_546_6 = 0.200000002980232

			if var_546_5 <= arg_543_1.time_ and arg_543_1.time_ < var_546_5 + var_546_6 then
				local var_546_7 = (arg_543_1.time_ - var_546_5) / var_546_6

				if arg_543_1.var_.characterEffect10071ui_story then
					local var_546_8 = Mathf.Lerp(0, 0.5, var_546_7)

					arg_543_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_543_1.var_.characterEffect10071ui_story.fillRatio = var_546_8
				end
			end

			if arg_543_1.time_ >= var_546_5 + var_546_6 and arg_543_1.time_ < var_546_5 + var_546_6 + arg_546_0 and arg_543_1.var_.characterEffect10071ui_story then
				local var_546_9 = 0.5

				arg_543_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_543_1.var_.characterEffect10071ui_story.fillRatio = var_546_9
			end

			local var_546_10 = 0
			local var_546_11 = 0.2

			if var_546_10 < arg_543_1.time_ and arg_543_1.time_ <= var_546_10 + arg_546_0 then
				arg_543_1.talkMaxDuration = 0
				arg_543_1.dialogCg_.alpha = 1

				arg_543_1.dialog_:SetActive(true)
				SetActive(arg_543_1.leftNameGo_, true)

				local var_546_12 = arg_543_1:FormatText(StoryNameCfg[471].name)

				arg_543_1.leftNameTxt_.text = var_546_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_543_1.leftNameTxt_.transform)

				arg_543_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_543_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_543_1:RecordName(arg_543_1.leftNameTxt_.text)
				SetActive(arg_543_1.iconTrs_.gameObject, false)
				arg_543_1.callingController_:SetSelectedState("normal")

				local var_546_13 = arg_543_1:GetWordFromCfg(411121128)
				local var_546_14 = arg_543_1:FormatText(var_546_13.content)

				arg_543_1.text_.text = var_546_14

				LuaForUtil.ClearLinePrefixSymbol(arg_543_1.text_)

				local var_546_15 = 8
				local var_546_16 = utf8.len(var_546_14)
				local var_546_17 = var_546_15 <= 0 and var_546_11 or var_546_11 * (var_546_16 / var_546_15)

				if var_546_17 > 0 and var_546_11 < var_546_17 then
					arg_543_1.talkMaxDuration = var_546_17

					if var_546_17 + var_546_10 > arg_543_1.duration_ then
						arg_543_1.duration_ = var_546_17 + var_546_10
					end
				end

				arg_543_1.text_.text = var_546_14
				arg_543_1.typewritter.percent = 0

				arg_543_1.typewritter:SetDirty()
				arg_543_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121128", "story_v_out_411121.awb") ~= 0 then
					local var_546_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121128", "story_v_out_411121.awb") / 1000

					if var_546_18 + var_546_10 > arg_543_1.duration_ then
						arg_543_1.duration_ = var_546_18 + var_546_10
					end

					if var_546_13.prefab_name ~= "" and arg_543_1.actors_[var_546_13.prefab_name] ~= nil then
						local var_546_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_543_1.actors_[var_546_13.prefab_name].transform, "story_v_out_411121", "411121128", "story_v_out_411121.awb")

						arg_543_1:RecordAudio("411121128", var_546_19)
						arg_543_1:RecordAudio("411121128", var_546_19)
					else
						arg_543_1:AudioAction("play", "voice", "story_v_out_411121", "411121128", "story_v_out_411121.awb")
					end

					arg_543_1:RecordHistoryTalkVoice("story_v_out_411121", "411121128", "story_v_out_411121.awb")
				end

				arg_543_1:RecordContent(arg_543_1.text_.text)
			end

			local var_546_20 = math.max(var_546_11, arg_543_1.talkMaxDuration)

			if var_546_10 <= arg_543_1.time_ and arg_543_1.time_ < var_546_10 + var_546_20 then
				arg_543_1.typewritter.percent = (arg_543_1.time_ - var_546_10) / var_546_20

				arg_543_1.typewritter:SetDirty()
			end

			if arg_543_1.time_ >= var_546_10 + var_546_20 and arg_543_1.time_ < var_546_10 + var_546_20 + arg_546_0 then
				arg_543_1.typewritter.percent = 1

				arg_543_1.typewritter:SetDirty()
				arg_543_1:ShowNextGo(true)
			end
		end
	end,
	Play411121129 = function(arg_547_0, arg_547_1)
		arg_547_1.time_ = 0
		arg_547_1.frameCnt_ = 0
		arg_547_1.state_ = "playing"
		arg_547_1.curTalkId_ = 411121129
		arg_547_1.duration_ = 4.1

		local var_547_0 = {
			zh = 2.5,
			ja = 4.1
		}
		local var_547_1 = manager.audio:GetLocalizationFlag()

		if var_547_0[var_547_1] ~= nil then
			arg_547_1.duration_ = var_547_0[var_547_1]
		end

		SetActive(arg_547_1.tipsGo_, false)

		function arg_547_1.onSingleLineFinish_()
			arg_547_1.onSingleLineUpdate_ = nil
			arg_547_1.onSingleLineFinish_ = nil
			arg_547_1.state_ = "waiting"
		end

		function arg_547_1.playNext_(arg_549_0)
			if arg_549_0 == 1 then
				arg_547_0:Play411121130(arg_547_1)
			end
		end

		function arg_547_1.onSingleLineUpdate_(arg_550_0)
			local var_550_0 = arg_547_1.actors_["1095ui_story"]
			local var_550_1 = 0

			if var_550_1 < arg_547_1.time_ and arg_547_1.time_ <= var_550_1 + arg_550_0 and arg_547_1.var_.characterEffect1095ui_story == nil then
				arg_547_1.var_.characterEffect1095ui_story = var_550_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_550_2 = 0.200000002980232

			if var_550_1 <= arg_547_1.time_ and arg_547_1.time_ < var_550_1 + var_550_2 then
				local var_550_3 = (arg_547_1.time_ - var_550_1) / var_550_2

				if arg_547_1.var_.characterEffect1095ui_story then
					local var_550_4 = Mathf.Lerp(0, 0.5, var_550_3)

					arg_547_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_547_1.var_.characterEffect1095ui_story.fillRatio = var_550_4
				end
			end

			if arg_547_1.time_ >= var_550_1 + var_550_2 and arg_547_1.time_ < var_550_1 + var_550_2 + arg_550_0 and arg_547_1.var_.characterEffect1095ui_story then
				local var_550_5 = 0.5

				arg_547_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_547_1.var_.characterEffect1095ui_story.fillRatio = var_550_5
			end

			local var_550_6 = arg_547_1.actors_["10071ui_story"]
			local var_550_7 = 0

			if var_550_7 < arg_547_1.time_ and arg_547_1.time_ <= var_550_7 + arg_550_0 and arg_547_1.var_.characterEffect10071ui_story == nil then
				arg_547_1.var_.characterEffect10071ui_story = var_550_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_550_8 = 0.200000002980232

			if var_550_7 <= arg_547_1.time_ and arg_547_1.time_ < var_550_7 + var_550_8 then
				local var_550_9 = (arg_547_1.time_ - var_550_7) / var_550_8

				if arg_547_1.var_.characterEffect10071ui_story then
					arg_547_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_547_1.time_ >= var_550_7 + var_550_8 and arg_547_1.time_ < var_550_7 + var_550_8 + arg_550_0 and arg_547_1.var_.characterEffect10071ui_story then
				arg_547_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_550_10 = 0
			local var_550_11 = 0.175

			if var_550_10 < arg_547_1.time_ and arg_547_1.time_ <= var_550_10 + arg_550_0 then
				arg_547_1.talkMaxDuration = 0
				arg_547_1.dialogCg_.alpha = 1

				arg_547_1.dialog_:SetActive(true)
				SetActive(arg_547_1.leftNameGo_, true)

				local var_550_12 = arg_547_1:FormatText(StoryNameCfg[670].name)

				arg_547_1.leftNameTxt_.text = var_550_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_547_1.leftNameTxt_.transform)

				arg_547_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_547_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_547_1:RecordName(arg_547_1.leftNameTxt_.text)
				SetActive(arg_547_1.iconTrs_.gameObject, false)
				arg_547_1.callingController_:SetSelectedState("normal")

				local var_550_13 = arg_547_1:GetWordFromCfg(411121129)
				local var_550_14 = arg_547_1:FormatText(var_550_13.content)

				arg_547_1.text_.text = var_550_14

				LuaForUtil.ClearLinePrefixSymbol(arg_547_1.text_)

				local var_550_15 = 7
				local var_550_16 = utf8.len(var_550_14)
				local var_550_17 = var_550_15 <= 0 and var_550_11 or var_550_11 * (var_550_16 / var_550_15)

				if var_550_17 > 0 and var_550_11 < var_550_17 then
					arg_547_1.talkMaxDuration = var_550_17

					if var_550_17 + var_550_10 > arg_547_1.duration_ then
						arg_547_1.duration_ = var_550_17 + var_550_10
					end
				end

				arg_547_1.text_.text = var_550_14
				arg_547_1.typewritter.percent = 0

				arg_547_1.typewritter:SetDirty()
				arg_547_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121129", "story_v_out_411121.awb") ~= 0 then
					local var_550_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121129", "story_v_out_411121.awb") / 1000

					if var_550_18 + var_550_10 > arg_547_1.duration_ then
						arg_547_1.duration_ = var_550_18 + var_550_10
					end

					if var_550_13.prefab_name ~= "" and arg_547_1.actors_[var_550_13.prefab_name] ~= nil then
						local var_550_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_547_1.actors_[var_550_13.prefab_name].transform, "story_v_out_411121", "411121129", "story_v_out_411121.awb")

						arg_547_1:RecordAudio("411121129", var_550_19)
						arg_547_1:RecordAudio("411121129", var_550_19)
					else
						arg_547_1:AudioAction("play", "voice", "story_v_out_411121", "411121129", "story_v_out_411121.awb")
					end

					arg_547_1:RecordHistoryTalkVoice("story_v_out_411121", "411121129", "story_v_out_411121.awb")
				end

				arg_547_1:RecordContent(arg_547_1.text_.text)
			end

			local var_550_20 = math.max(var_550_11, arg_547_1.talkMaxDuration)

			if var_550_10 <= arg_547_1.time_ and arg_547_1.time_ < var_550_10 + var_550_20 then
				arg_547_1.typewritter.percent = (arg_547_1.time_ - var_550_10) / var_550_20

				arg_547_1.typewritter:SetDirty()
			end

			if arg_547_1.time_ >= var_550_10 + var_550_20 and arg_547_1.time_ < var_550_10 + var_550_20 + arg_550_0 then
				arg_547_1.typewritter.percent = 1

				arg_547_1.typewritter:SetDirty()
				arg_547_1:ShowNextGo(true)
			end
		end
	end,
	Play411121130 = function(arg_551_0, arg_551_1)
		arg_551_1.time_ = 0
		arg_551_1.frameCnt_ = 0
		arg_551_1.state_ = "playing"
		arg_551_1.curTalkId_ = 411121130
		arg_551_1.duration_ = 9

		SetActive(arg_551_1.tipsGo_, false)

		function arg_551_1.onSingleLineFinish_()
			arg_551_1.onSingleLineUpdate_ = nil
			arg_551_1.onSingleLineFinish_ = nil
			arg_551_1.state_ = "waiting"
		end

		function arg_551_1.playNext_(arg_553_0)
			if arg_553_0 == 1 then
				arg_551_0:Play411121131(arg_551_1)
			end
		end

		function arg_551_1.onSingleLineUpdate_(arg_554_0)
			local var_554_0 = 2

			if var_554_0 < arg_551_1.time_ and arg_551_1.time_ <= var_554_0 + arg_554_0 then
				local var_554_1 = manager.ui.mainCamera.transform.localPosition
				local var_554_2 = Vector3.New(0, 0, 10) + Vector3.New(var_554_1.x, var_554_1.y, 0)
				local var_554_3 = arg_551_1.bgs_.ST74a

				var_554_3.transform.localPosition = var_554_2
				var_554_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_554_4 = var_554_3:GetComponent("SpriteRenderer")

				if var_554_4 and var_554_4.sprite then
					local var_554_5 = (var_554_3.transform.localPosition - var_554_1).z
					local var_554_6 = manager.ui.mainCameraCom_
					local var_554_7 = 2 * var_554_5 * Mathf.Tan(var_554_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_554_8 = var_554_7 * var_554_6.aspect
					local var_554_9 = var_554_4.sprite.bounds.size.x
					local var_554_10 = var_554_4.sprite.bounds.size.y
					local var_554_11 = var_554_8 / var_554_9
					local var_554_12 = var_554_7 / var_554_10
					local var_554_13 = var_554_12 < var_554_11 and var_554_11 or var_554_12

					var_554_3.transform.localScale = Vector3.New(var_554_13, var_554_13, 0)
				end

				for iter_554_0, iter_554_1 in pairs(arg_551_1.bgs_) do
					if iter_554_0 ~= "ST74a" then
						iter_554_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_554_14 = 0

			if var_554_14 < arg_551_1.time_ and arg_551_1.time_ <= var_554_14 + arg_554_0 then
				local var_554_15 = manager.ui.mainCamera.transform.localPosition
				local var_554_16 = Vector3.New(0, 0, 10) + Vector3.New(var_554_15.x, var_554_15.y, 0)
				local var_554_17 = arg_551_1.bgs_.ST74a

				var_554_17.transform.localPosition = var_554_16
				var_554_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_554_18 = var_554_17:GetComponent("SpriteRenderer")

				if var_554_18 and var_554_18.sprite then
					local var_554_19 = (var_554_17.transform.localPosition - var_554_15).z
					local var_554_20 = manager.ui.mainCameraCom_
					local var_554_21 = 2 * var_554_19 * Mathf.Tan(var_554_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_554_22 = var_554_21 * var_554_20.aspect
					local var_554_23 = var_554_18.sprite.bounds.size.x
					local var_554_24 = var_554_18.sprite.bounds.size.y
					local var_554_25 = var_554_22 / var_554_23
					local var_554_26 = var_554_21 / var_554_24
					local var_554_27 = var_554_26 < var_554_25 and var_554_25 or var_554_26

					var_554_17.transform.localScale = Vector3.New(var_554_27, var_554_27, 0)
				end

				for iter_554_2, iter_554_3 in pairs(arg_551_1.bgs_) do
					if iter_554_2 ~= "ST74a" then
						iter_554_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_554_28 = 0

			if var_554_28 < arg_551_1.time_ and arg_551_1.time_ <= var_554_28 + arg_554_0 then
				arg_551_1.mask_.enabled = true
				arg_551_1.mask_.raycastTarget = true

				arg_551_1:SetGaussion(false)
			end

			local var_554_29 = 2

			if var_554_28 <= arg_551_1.time_ and arg_551_1.time_ < var_554_28 + var_554_29 then
				local var_554_30 = (arg_551_1.time_ - var_554_28) / var_554_29
				local var_554_31 = Color.New(0, 0, 0)

				var_554_31.a = Mathf.Lerp(0, 1, var_554_30)
				arg_551_1.mask_.color = var_554_31
			end

			if arg_551_1.time_ >= var_554_28 + var_554_29 and arg_551_1.time_ < var_554_28 + var_554_29 + arg_554_0 then
				local var_554_32 = Color.New(0, 0, 0)

				var_554_32.a = 1
				arg_551_1.mask_.color = var_554_32
			end

			local var_554_33 = 2

			if var_554_33 < arg_551_1.time_ and arg_551_1.time_ <= var_554_33 + arg_554_0 then
				arg_551_1.mask_.enabled = true
				arg_551_1.mask_.raycastTarget = true

				arg_551_1:SetGaussion(false)
			end

			local var_554_34 = 2

			if var_554_33 <= arg_551_1.time_ and arg_551_1.time_ < var_554_33 + var_554_34 then
				local var_554_35 = (arg_551_1.time_ - var_554_33) / var_554_34
				local var_554_36 = Color.New(0, 0, 0)

				var_554_36.a = Mathf.Lerp(1, 0, var_554_35)
				arg_551_1.mask_.color = var_554_36
			end

			if arg_551_1.time_ >= var_554_33 + var_554_34 and arg_551_1.time_ < var_554_33 + var_554_34 + arg_554_0 then
				local var_554_37 = Color.New(0, 0, 0)
				local var_554_38 = 0

				arg_551_1.mask_.enabled = false
				var_554_37.a = var_554_38
				arg_551_1.mask_.color = var_554_37
			end

			local var_554_39 = arg_551_1.actors_["1095ui_story"].transform
			local var_554_40 = 2

			if var_554_40 < arg_551_1.time_ and arg_551_1.time_ <= var_554_40 + arg_554_0 then
				arg_551_1.var_.moveOldPos1095ui_story = var_554_39.localPosition
			end

			local var_554_41 = 0.001

			if var_554_40 <= arg_551_1.time_ and arg_551_1.time_ < var_554_40 + var_554_41 then
				local var_554_42 = (arg_551_1.time_ - var_554_40) / var_554_41
				local var_554_43 = Vector3.New(0, 100, 0)

				var_554_39.localPosition = Vector3.Lerp(arg_551_1.var_.moveOldPos1095ui_story, var_554_43, var_554_42)

				local var_554_44 = manager.ui.mainCamera.transform.position - var_554_39.position

				var_554_39.forward = Vector3.New(var_554_44.x, var_554_44.y, var_554_44.z)

				local var_554_45 = var_554_39.localEulerAngles

				var_554_45.z = 0
				var_554_45.x = 0
				var_554_39.localEulerAngles = var_554_45
			end

			if arg_551_1.time_ >= var_554_40 + var_554_41 and arg_551_1.time_ < var_554_40 + var_554_41 + arg_554_0 then
				var_554_39.localPosition = Vector3.New(0, 100, 0)

				local var_554_46 = manager.ui.mainCamera.transform.position - var_554_39.position

				var_554_39.forward = Vector3.New(var_554_46.x, var_554_46.y, var_554_46.z)

				local var_554_47 = var_554_39.localEulerAngles

				var_554_47.z = 0
				var_554_47.x = 0
				var_554_39.localEulerAngles = var_554_47
			end

			local var_554_48 = arg_551_1.actors_["1095ui_story"]
			local var_554_49 = 2

			if var_554_49 < arg_551_1.time_ and arg_551_1.time_ <= var_554_49 + arg_554_0 and arg_551_1.var_.characterEffect1095ui_story == nil then
				arg_551_1.var_.characterEffect1095ui_story = var_554_48:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_554_50 = 0.200000002980232

			if var_554_49 <= arg_551_1.time_ and arg_551_1.time_ < var_554_49 + var_554_50 then
				local var_554_51 = (arg_551_1.time_ - var_554_49) / var_554_50

				if arg_551_1.var_.characterEffect1095ui_story then
					local var_554_52 = Mathf.Lerp(0, 0.5, var_554_51)

					arg_551_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_551_1.var_.characterEffect1095ui_story.fillRatio = var_554_52
				end
			end

			if arg_551_1.time_ >= var_554_49 + var_554_50 and arg_551_1.time_ < var_554_49 + var_554_50 + arg_554_0 and arg_551_1.var_.characterEffect1095ui_story then
				local var_554_53 = 0.5

				arg_551_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_551_1.var_.characterEffect1095ui_story.fillRatio = var_554_53
			end

			local var_554_54 = arg_551_1.actors_["10071ui_story"].transform
			local var_554_55 = 2

			if var_554_55 < arg_551_1.time_ and arg_551_1.time_ <= var_554_55 + arg_554_0 then
				arg_551_1.var_.moveOldPos10071ui_story = var_554_54.localPosition
			end

			local var_554_56 = 0.001

			if var_554_55 <= arg_551_1.time_ and arg_551_1.time_ < var_554_55 + var_554_56 then
				local var_554_57 = (arg_551_1.time_ - var_554_55) / var_554_56
				local var_554_58 = Vector3.New(0, 100, 0)

				var_554_54.localPosition = Vector3.Lerp(arg_551_1.var_.moveOldPos10071ui_story, var_554_58, var_554_57)

				local var_554_59 = manager.ui.mainCamera.transform.position - var_554_54.position

				var_554_54.forward = Vector3.New(var_554_59.x, var_554_59.y, var_554_59.z)

				local var_554_60 = var_554_54.localEulerAngles

				var_554_60.z = 0
				var_554_60.x = 0
				var_554_54.localEulerAngles = var_554_60
			end

			if arg_551_1.time_ >= var_554_55 + var_554_56 and arg_551_1.time_ < var_554_55 + var_554_56 + arg_554_0 then
				var_554_54.localPosition = Vector3.New(0, 100, 0)

				local var_554_61 = manager.ui.mainCamera.transform.position - var_554_54.position

				var_554_54.forward = Vector3.New(var_554_61.x, var_554_61.y, var_554_61.z)

				local var_554_62 = var_554_54.localEulerAngles

				var_554_62.z = 0
				var_554_62.x = 0
				var_554_54.localEulerAngles = var_554_62
			end

			local var_554_63 = arg_551_1.actors_["10071ui_story"]
			local var_554_64 = 2

			if var_554_64 < arg_551_1.time_ and arg_551_1.time_ <= var_554_64 + arg_554_0 and arg_551_1.var_.characterEffect10071ui_story == nil then
				arg_551_1.var_.characterEffect10071ui_story = var_554_63:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_554_65 = 0.200000002980232

			if var_554_64 <= arg_551_1.time_ and arg_551_1.time_ < var_554_64 + var_554_65 then
				local var_554_66 = (arg_551_1.time_ - var_554_64) / var_554_65

				if arg_551_1.var_.characterEffect10071ui_story then
					local var_554_67 = Mathf.Lerp(0, 0.5, var_554_66)

					arg_551_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_551_1.var_.characterEffect10071ui_story.fillRatio = var_554_67
				end
			end

			if arg_551_1.time_ >= var_554_64 + var_554_65 and arg_551_1.time_ < var_554_64 + var_554_65 + arg_554_0 and arg_551_1.var_.characterEffect10071ui_story then
				local var_554_68 = 0.5

				arg_551_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_551_1.var_.characterEffect10071ui_story.fillRatio = var_554_68
			end

			if arg_551_1.frameCnt_ <= 1 then
				arg_551_1.dialog_:SetActive(false)
			end

			local var_554_69 = 4
			local var_554_70 = 1.05

			if var_554_69 < arg_551_1.time_ and arg_551_1.time_ <= var_554_69 + arg_554_0 then
				arg_551_1.talkMaxDuration = 0

				arg_551_1.dialog_:SetActive(true)

				local var_554_71 = LeanTween.value(arg_551_1.dialog_, 0, 1, 0.3)

				var_554_71:setOnUpdate(LuaHelper.FloatAction(function(arg_555_0)
					arg_551_1.dialogCg_.alpha = arg_555_0
				end))
				var_554_71:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_551_1.dialog_)
					var_554_71:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_551_1.duration_ = arg_551_1.duration_ + 0.3

				SetActive(arg_551_1.leftNameGo_, false)

				arg_551_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_551_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_551_1:RecordName(arg_551_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_551_1.iconTrs_.gameObject, false)
				arg_551_1.callingController_:SetSelectedState("normal")

				local var_554_72 = arg_551_1:GetWordFromCfg(411121130)
				local var_554_73 = arg_551_1:FormatText(var_554_72.content)

				arg_551_1.text_.text = var_554_73

				LuaForUtil.ClearLinePrefixSymbol(arg_551_1.text_)

				local var_554_74 = 42
				local var_554_75 = utf8.len(var_554_73)
				local var_554_76 = var_554_74 <= 0 and var_554_70 or var_554_70 * (var_554_75 / var_554_74)

				if var_554_76 > 0 and var_554_70 < var_554_76 then
					arg_551_1.talkMaxDuration = var_554_76
					var_554_69 = var_554_69 + 0.3

					if var_554_76 + var_554_69 > arg_551_1.duration_ then
						arg_551_1.duration_ = var_554_76 + var_554_69
					end
				end

				arg_551_1.text_.text = var_554_73
				arg_551_1.typewritter.percent = 0

				arg_551_1.typewritter:SetDirty()
				arg_551_1:ShowNextGo(false)
				arg_551_1:RecordContent(arg_551_1.text_.text)
			end

			local var_554_77 = var_554_69 + 0.3
			local var_554_78 = math.max(var_554_70, arg_551_1.talkMaxDuration)

			if var_554_77 <= arg_551_1.time_ and arg_551_1.time_ < var_554_77 + var_554_78 then
				arg_551_1.typewritter.percent = (arg_551_1.time_ - var_554_77) / var_554_78

				arg_551_1.typewritter:SetDirty()
			end

			if arg_551_1.time_ >= var_554_77 + var_554_78 and arg_551_1.time_ < var_554_77 + var_554_78 + arg_554_0 then
				arg_551_1.typewritter.percent = 1

				arg_551_1.typewritter:SetDirty()
				arg_551_1:ShowNextGo(true)
			end
		end
	end,
	Play411121131 = function(arg_557_0, arg_557_1)
		arg_557_1.time_ = 0
		arg_557_1.frameCnt_ = 0
		arg_557_1.state_ = "playing"
		arg_557_1.curTalkId_ = 411121131
		arg_557_1.duration_ = 5

		SetActive(arg_557_1.tipsGo_, false)

		function arg_557_1.onSingleLineFinish_()
			arg_557_1.onSingleLineUpdate_ = nil
			arg_557_1.onSingleLineFinish_ = nil
			arg_557_1.state_ = "waiting"
		end

		function arg_557_1.playNext_(arg_559_0)
			if arg_559_0 == 1 then
				arg_557_0:Play411121132(arg_557_1)
			end
		end

		function arg_557_1.onSingleLineUpdate_(arg_560_0)
			local var_560_0 = 0
			local var_560_1 = 1.25

			if var_560_0 < arg_557_1.time_ and arg_557_1.time_ <= var_560_0 + arg_560_0 then
				arg_557_1.talkMaxDuration = 0
				arg_557_1.dialogCg_.alpha = 1

				arg_557_1.dialog_:SetActive(true)
				SetActive(arg_557_1.leftNameGo_, false)

				arg_557_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_557_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_557_1:RecordName(arg_557_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_557_1.iconTrs_.gameObject, false)
				arg_557_1.callingController_:SetSelectedState("normal")

				local var_560_2 = arg_557_1:GetWordFromCfg(411121131)
				local var_560_3 = arg_557_1:FormatText(var_560_2.content)

				arg_557_1.text_.text = var_560_3

				LuaForUtil.ClearLinePrefixSymbol(arg_557_1.text_)

				local var_560_4 = 50
				local var_560_5 = utf8.len(var_560_3)
				local var_560_6 = var_560_4 <= 0 and var_560_1 or var_560_1 * (var_560_5 / var_560_4)

				if var_560_6 > 0 and var_560_1 < var_560_6 then
					arg_557_1.talkMaxDuration = var_560_6

					if var_560_6 + var_560_0 > arg_557_1.duration_ then
						arg_557_1.duration_ = var_560_6 + var_560_0
					end
				end

				arg_557_1.text_.text = var_560_3
				arg_557_1.typewritter.percent = 0

				arg_557_1.typewritter:SetDirty()
				arg_557_1:ShowNextGo(false)
				arg_557_1:RecordContent(arg_557_1.text_.text)
			end

			local var_560_7 = math.max(var_560_1, arg_557_1.talkMaxDuration)

			if var_560_0 <= arg_557_1.time_ and arg_557_1.time_ < var_560_0 + var_560_7 then
				arg_557_1.typewritter.percent = (arg_557_1.time_ - var_560_0) / var_560_7

				arg_557_1.typewritter:SetDirty()
			end

			if arg_557_1.time_ >= var_560_0 + var_560_7 and arg_557_1.time_ < var_560_0 + var_560_7 + arg_560_0 then
				arg_557_1.typewritter.percent = 1

				arg_557_1.typewritter:SetDirty()
				arg_557_1:ShowNextGo(true)
			end
		end
	end,
	Play411121132 = function(arg_561_0, arg_561_1)
		arg_561_1.time_ = 0
		arg_561_1.frameCnt_ = 0
		arg_561_1.state_ = "playing"
		arg_561_1.curTalkId_ = 411121132
		arg_561_1.duration_ = 5

		SetActive(arg_561_1.tipsGo_, false)

		function arg_561_1.onSingleLineFinish_()
			arg_561_1.onSingleLineUpdate_ = nil
			arg_561_1.onSingleLineFinish_ = nil
			arg_561_1.state_ = "waiting"
		end

		function arg_561_1.playNext_(arg_563_0)
			if arg_563_0 == 1 then
				arg_561_0:Play411121133(arg_561_1)
			end
		end

		function arg_561_1.onSingleLineUpdate_(arg_564_0)
			local var_564_0 = "I11m"

			if arg_561_1.bgs_[var_564_0] == nil then
				local var_564_1 = Object.Instantiate(arg_561_1.paintGo_)

				var_564_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_564_0)
				var_564_1.name = var_564_0
				var_564_1.transform.parent = arg_561_1.stage_.transform
				var_564_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_561_1.bgs_[var_564_0] = var_564_1
			end

			local var_564_2 = 2

			if var_564_2 < arg_561_1.time_ and arg_561_1.time_ <= var_564_2 + arg_564_0 then
				local var_564_3 = manager.ui.mainCamera.transform.localPosition
				local var_564_4 = Vector3.New(0, 0, 10) + Vector3.New(var_564_3.x, var_564_3.y, 0)
				local var_564_5 = arg_561_1.bgs_.I11m

				var_564_5.transform.localPosition = var_564_4
				var_564_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_564_6 = var_564_5:GetComponent("SpriteRenderer")

				if var_564_6 and var_564_6.sprite then
					local var_564_7 = (var_564_5.transform.localPosition - var_564_3).z
					local var_564_8 = manager.ui.mainCameraCom_
					local var_564_9 = 2 * var_564_7 * Mathf.Tan(var_564_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_564_10 = var_564_9 * var_564_8.aspect
					local var_564_11 = var_564_6.sprite.bounds.size.x
					local var_564_12 = var_564_6.sprite.bounds.size.y
					local var_564_13 = var_564_10 / var_564_11
					local var_564_14 = var_564_9 / var_564_12
					local var_564_15 = var_564_14 < var_564_13 and var_564_13 or var_564_14

					var_564_5.transform.localScale = Vector3.New(var_564_15, var_564_15, 0)
				end

				for iter_564_0, iter_564_1 in pairs(arg_561_1.bgs_) do
					if iter_564_0 ~= "I11m" then
						iter_564_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_564_16 = 0

			if var_564_16 < arg_561_1.time_ and arg_561_1.time_ <= var_564_16 + arg_564_0 then
				arg_561_1.mask_.enabled = true
				arg_561_1.mask_.raycastTarget = true

				arg_561_1:SetGaussion(false)
			end

			local var_564_17 = 2

			if var_564_16 <= arg_561_1.time_ and arg_561_1.time_ < var_564_16 + var_564_17 then
				local var_564_18 = (arg_561_1.time_ - var_564_16) / var_564_17
				local var_564_19 = Color.New(0, 0, 0)

				var_564_19.a = Mathf.Lerp(0, 1, var_564_18)
				arg_561_1.mask_.color = var_564_19
			end

			if arg_561_1.time_ >= var_564_16 + var_564_17 and arg_561_1.time_ < var_564_16 + var_564_17 + arg_564_0 then
				local var_564_20 = Color.New(0, 0, 0)

				var_564_20.a = 1
				arg_561_1.mask_.color = var_564_20
			end

			local var_564_21 = 2

			if var_564_21 < arg_561_1.time_ and arg_561_1.time_ <= var_564_21 + arg_564_0 then
				arg_561_1.mask_.enabled = true
				arg_561_1.mask_.raycastTarget = true

				arg_561_1:SetGaussion(false)
			end

			local var_564_22 = 2

			if var_564_21 <= arg_561_1.time_ and arg_561_1.time_ < var_564_21 + var_564_22 then
				local var_564_23 = (arg_561_1.time_ - var_564_21) / var_564_22
				local var_564_24 = Color.New(0, 0, 0)

				var_564_24.a = Mathf.Lerp(1, 0, var_564_23)
				arg_561_1.mask_.color = var_564_24
			end

			if arg_561_1.time_ >= var_564_21 + var_564_22 and arg_561_1.time_ < var_564_21 + var_564_22 + arg_564_0 then
				local var_564_25 = Color.New(0, 0, 0)
				local var_564_26 = 0

				arg_561_1.mask_.enabled = false
				var_564_25.a = var_564_26
				arg_561_1.mask_.color = var_564_25
			end

			local var_564_27 = 0
			local var_564_28 = 1.225

			if var_564_27 < arg_561_1.time_ and arg_561_1.time_ <= var_564_27 + arg_564_0 then
				arg_561_1.talkMaxDuration = 0
				arg_561_1.dialogCg_.alpha = 1

				arg_561_1.dialog_:SetActive(true)
				SetActive(arg_561_1.leftNameGo_, false)

				arg_561_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_561_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_561_1:RecordName(arg_561_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_561_1.iconTrs_.gameObject, false)
				arg_561_1.callingController_:SetSelectedState("normal")

				local var_564_29 = arg_561_1:GetWordFromCfg(411121132)
				local var_564_30 = arg_561_1:FormatText(var_564_29.content)

				arg_561_1.text_.text = var_564_30

				LuaForUtil.ClearLinePrefixSymbol(arg_561_1.text_)

				local var_564_31 = 51
				local var_564_32 = utf8.len(var_564_30)
				local var_564_33 = var_564_31 <= 0 and var_564_28 or var_564_28 * (var_564_32 / var_564_31)

				if var_564_33 > 0 and var_564_28 < var_564_33 then
					arg_561_1.talkMaxDuration = var_564_33

					if var_564_33 + var_564_27 > arg_561_1.duration_ then
						arg_561_1.duration_ = var_564_33 + var_564_27
					end
				end

				arg_561_1.text_.text = var_564_30
				arg_561_1.typewritter.percent = 0

				arg_561_1.typewritter:SetDirty()
				arg_561_1:ShowNextGo(false)
				arg_561_1:RecordContent(arg_561_1.text_.text)
			end

			local var_564_34 = math.max(var_564_28, arg_561_1.talkMaxDuration)

			if var_564_27 <= arg_561_1.time_ and arg_561_1.time_ < var_564_27 + var_564_34 then
				arg_561_1.typewritter.percent = (arg_561_1.time_ - var_564_27) / var_564_34

				arg_561_1.typewritter:SetDirty()
			end

			if arg_561_1.time_ >= var_564_27 + var_564_34 and arg_561_1.time_ < var_564_27 + var_564_34 + arg_564_0 then
				arg_561_1.typewritter.percent = 1

				arg_561_1.typewritter:SetDirty()
				arg_561_1:ShowNextGo(true)
			end
		end
	end,
	Play411121133 = function(arg_565_0, arg_565_1)
		arg_565_1.time_ = 0
		arg_565_1.frameCnt_ = 0
		arg_565_1.state_ = "playing"
		arg_565_1.curTalkId_ = 411121133
		arg_565_1.duration_ = 7.3

		local var_565_0 = {
			zh = 7.3,
			ja = 6.7
		}
		local var_565_1 = manager.audio:GetLocalizationFlag()

		if var_565_0[var_565_1] ~= nil then
			arg_565_1.duration_ = var_565_0[var_565_1]
		end

		SetActive(arg_565_1.tipsGo_, false)

		function arg_565_1.onSingleLineFinish_()
			arg_565_1.onSingleLineUpdate_ = nil
			arg_565_1.onSingleLineFinish_ = nil
			arg_565_1.state_ = "waiting"
		end

		function arg_565_1.playNext_(arg_567_0)
			if arg_567_0 == 1 then
				arg_565_0:Play411121134(arg_565_1)
			end
		end

		function arg_565_1.onSingleLineUpdate_(arg_568_0)
			local var_568_0 = arg_565_1.actors_["10071ui_story"].transform
			local var_568_1 = 0

			if var_568_1 < arg_565_1.time_ and arg_565_1.time_ <= var_568_1 + arg_568_0 then
				arg_565_1.var_.moveOldPos10071ui_story = var_568_0.localPosition
			end

			local var_568_2 = 0.001

			if var_568_1 <= arg_565_1.time_ and arg_565_1.time_ < var_568_1 + var_568_2 then
				local var_568_3 = (arg_565_1.time_ - var_568_1) / var_568_2
				local var_568_4 = Vector3.New(0, -0.9, -6.26)

				var_568_0.localPosition = Vector3.Lerp(arg_565_1.var_.moveOldPos10071ui_story, var_568_4, var_568_3)

				local var_568_5 = manager.ui.mainCamera.transform.position - var_568_0.position

				var_568_0.forward = Vector3.New(var_568_5.x, var_568_5.y, var_568_5.z)

				local var_568_6 = var_568_0.localEulerAngles

				var_568_6.z = 0
				var_568_6.x = 0
				var_568_0.localEulerAngles = var_568_6
			end

			if arg_565_1.time_ >= var_568_1 + var_568_2 and arg_565_1.time_ < var_568_1 + var_568_2 + arg_568_0 then
				var_568_0.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_568_7 = manager.ui.mainCamera.transform.position - var_568_0.position

				var_568_0.forward = Vector3.New(var_568_7.x, var_568_7.y, var_568_7.z)

				local var_568_8 = var_568_0.localEulerAngles

				var_568_8.z = 0
				var_568_8.x = 0
				var_568_0.localEulerAngles = var_568_8
			end

			local var_568_9 = arg_565_1.actors_["10071ui_story"]
			local var_568_10 = 0

			if var_568_10 < arg_565_1.time_ and arg_565_1.time_ <= var_568_10 + arg_568_0 and arg_565_1.var_.characterEffect10071ui_story == nil then
				arg_565_1.var_.characterEffect10071ui_story = var_568_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_568_11 = 0.200000002980232

			if var_568_10 <= arg_565_1.time_ and arg_565_1.time_ < var_568_10 + var_568_11 then
				local var_568_12 = (arg_565_1.time_ - var_568_10) / var_568_11

				if arg_565_1.var_.characterEffect10071ui_story then
					arg_565_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_565_1.time_ >= var_568_10 + var_568_11 and arg_565_1.time_ < var_568_10 + var_568_11 + arg_568_0 and arg_565_1.var_.characterEffect10071ui_story then
				arg_565_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_568_13 = 0
			local var_568_14 = 0.7

			if var_568_13 < arg_565_1.time_ and arg_565_1.time_ <= var_568_13 + arg_568_0 then
				arg_565_1.talkMaxDuration = 0
				arg_565_1.dialogCg_.alpha = 1

				arg_565_1.dialog_:SetActive(true)
				SetActive(arg_565_1.leftNameGo_, true)

				local var_568_15 = arg_565_1:FormatText(StoryNameCfg[670].name)

				arg_565_1.leftNameTxt_.text = var_568_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_565_1.leftNameTxt_.transform)

				arg_565_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_565_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_565_1:RecordName(arg_565_1.leftNameTxt_.text)
				SetActive(arg_565_1.iconTrs_.gameObject, false)
				arg_565_1.callingController_:SetSelectedState("normal")

				local var_568_16 = arg_565_1:GetWordFromCfg(411121133)
				local var_568_17 = arg_565_1:FormatText(var_568_16.content)

				arg_565_1.text_.text = var_568_17

				LuaForUtil.ClearLinePrefixSymbol(arg_565_1.text_)

				local var_568_18 = 28
				local var_568_19 = utf8.len(var_568_17)
				local var_568_20 = var_568_18 <= 0 and var_568_14 or var_568_14 * (var_568_19 / var_568_18)

				if var_568_20 > 0 and var_568_14 < var_568_20 then
					arg_565_1.talkMaxDuration = var_568_20

					if var_568_20 + var_568_13 > arg_565_1.duration_ then
						arg_565_1.duration_ = var_568_20 + var_568_13
					end
				end

				arg_565_1.text_.text = var_568_17
				arg_565_1.typewritter.percent = 0

				arg_565_1.typewritter:SetDirty()
				arg_565_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121133", "story_v_out_411121.awb") ~= 0 then
					local var_568_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121133", "story_v_out_411121.awb") / 1000

					if var_568_21 + var_568_13 > arg_565_1.duration_ then
						arg_565_1.duration_ = var_568_21 + var_568_13
					end

					if var_568_16.prefab_name ~= "" and arg_565_1.actors_[var_568_16.prefab_name] ~= nil then
						local var_568_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_565_1.actors_[var_568_16.prefab_name].transform, "story_v_out_411121", "411121133", "story_v_out_411121.awb")

						arg_565_1:RecordAudio("411121133", var_568_22)
						arg_565_1:RecordAudio("411121133", var_568_22)
					else
						arg_565_1:AudioAction("play", "voice", "story_v_out_411121", "411121133", "story_v_out_411121.awb")
					end

					arg_565_1:RecordHistoryTalkVoice("story_v_out_411121", "411121133", "story_v_out_411121.awb")
				end

				arg_565_1:RecordContent(arg_565_1.text_.text)
			end

			local var_568_23 = math.max(var_568_14, arg_565_1.talkMaxDuration)

			if var_568_13 <= arg_565_1.time_ and arg_565_1.time_ < var_568_13 + var_568_23 then
				arg_565_1.typewritter.percent = (arg_565_1.time_ - var_568_13) / var_568_23

				arg_565_1.typewritter:SetDirty()
			end

			if arg_565_1.time_ >= var_568_13 + var_568_23 and arg_565_1.time_ < var_568_13 + var_568_23 + arg_568_0 then
				arg_565_1.typewritter.percent = 1

				arg_565_1.typewritter:SetDirty()
				arg_565_1:ShowNextGo(true)
			end
		end
	end,
	Play411121134 = function(arg_569_0, arg_569_1)
		arg_569_1.time_ = 0
		arg_569_1.frameCnt_ = 0
		arg_569_1.state_ = "playing"
		arg_569_1.curTalkId_ = 411121134
		arg_569_1.duration_ = 6.233

		local var_569_0 = {
			zh = 5.933,
			ja = 6.233
		}
		local var_569_1 = manager.audio:GetLocalizationFlag()

		if var_569_0[var_569_1] ~= nil then
			arg_569_1.duration_ = var_569_0[var_569_1]
		end

		SetActive(arg_569_1.tipsGo_, false)

		function arg_569_1.onSingleLineFinish_()
			arg_569_1.onSingleLineUpdate_ = nil
			arg_569_1.onSingleLineFinish_ = nil
			arg_569_1.state_ = "waiting"
		end

		function arg_569_1.playNext_(arg_571_0)
			if arg_571_0 == 1 then
				arg_569_0:Play411121135(arg_569_1)
			end
		end

		function arg_569_1.onSingleLineUpdate_(arg_572_0)
			local var_572_0 = 0
			local var_572_1 = 0.6

			if var_572_0 < arg_569_1.time_ and arg_569_1.time_ <= var_572_0 + arg_572_0 then
				arg_569_1.talkMaxDuration = 0
				arg_569_1.dialogCg_.alpha = 1

				arg_569_1.dialog_:SetActive(true)
				SetActive(arg_569_1.leftNameGo_, true)

				local var_572_2 = arg_569_1:FormatText(StoryNameCfg[670].name)

				arg_569_1.leftNameTxt_.text = var_572_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_569_1.leftNameTxt_.transform)

				arg_569_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_569_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_569_1:RecordName(arg_569_1.leftNameTxt_.text)
				SetActive(arg_569_1.iconTrs_.gameObject, false)
				arg_569_1.callingController_:SetSelectedState("normal")

				local var_572_3 = arg_569_1:GetWordFromCfg(411121134)
				local var_572_4 = arg_569_1:FormatText(var_572_3.content)

				arg_569_1.text_.text = var_572_4

				LuaForUtil.ClearLinePrefixSymbol(arg_569_1.text_)

				local var_572_5 = 24
				local var_572_6 = utf8.len(var_572_4)
				local var_572_7 = var_572_5 <= 0 and var_572_1 or var_572_1 * (var_572_6 / var_572_5)

				if var_572_7 > 0 and var_572_1 < var_572_7 then
					arg_569_1.talkMaxDuration = var_572_7

					if var_572_7 + var_572_0 > arg_569_1.duration_ then
						arg_569_1.duration_ = var_572_7 + var_572_0
					end
				end

				arg_569_1.text_.text = var_572_4
				arg_569_1.typewritter.percent = 0

				arg_569_1.typewritter:SetDirty()
				arg_569_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121134", "story_v_out_411121.awb") ~= 0 then
					local var_572_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121134", "story_v_out_411121.awb") / 1000

					if var_572_8 + var_572_0 > arg_569_1.duration_ then
						arg_569_1.duration_ = var_572_8 + var_572_0
					end

					if var_572_3.prefab_name ~= "" and arg_569_1.actors_[var_572_3.prefab_name] ~= nil then
						local var_572_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_569_1.actors_[var_572_3.prefab_name].transform, "story_v_out_411121", "411121134", "story_v_out_411121.awb")

						arg_569_1:RecordAudio("411121134", var_572_9)
						arg_569_1:RecordAudio("411121134", var_572_9)
					else
						arg_569_1:AudioAction("play", "voice", "story_v_out_411121", "411121134", "story_v_out_411121.awb")
					end

					arg_569_1:RecordHistoryTalkVoice("story_v_out_411121", "411121134", "story_v_out_411121.awb")
				end

				arg_569_1:RecordContent(arg_569_1.text_.text)
			end

			local var_572_10 = math.max(var_572_1, arg_569_1.talkMaxDuration)

			if var_572_0 <= arg_569_1.time_ and arg_569_1.time_ < var_572_0 + var_572_10 then
				arg_569_1.typewritter.percent = (arg_569_1.time_ - var_572_0) / var_572_10

				arg_569_1.typewritter:SetDirty()
			end

			if arg_569_1.time_ >= var_572_0 + var_572_10 and arg_569_1.time_ < var_572_0 + var_572_10 + arg_572_0 then
				arg_569_1.typewritter.percent = 1

				arg_569_1.typewritter:SetDirty()
				arg_569_1:ShowNextGo(true)
			end
		end
	end,
	Play411121135 = function(arg_573_0, arg_573_1)
		arg_573_1.time_ = 0
		arg_573_1.frameCnt_ = 0
		arg_573_1.state_ = "playing"
		arg_573_1.curTalkId_ = 411121135
		arg_573_1.duration_ = 1.033

		local var_573_0 = {
			zh = 0.999999999999,
			ja = 1.033
		}
		local var_573_1 = manager.audio:GetLocalizationFlag()

		if var_573_0[var_573_1] ~= nil then
			arg_573_1.duration_ = var_573_0[var_573_1]
		end

		SetActive(arg_573_1.tipsGo_, false)

		function arg_573_1.onSingleLineFinish_()
			arg_573_1.onSingleLineUpdate_ = nil
			arg_573_1.onSingleLineFinish_ = nil
			arg_573_1.state_ = "waiting"
		end

		function arg_573_1.playNext_(arg_575_0)
			if arg_575_0 == 1 then
				arg_573_0:Play411121136(arg_573_1)
			end
		end

		function arg_573_1.onSingleLineUpdate_(arg_576_0)
			local var_576_0 = arg_573_1.actors_["1095ui_story"].transform
			local var_576_1 = 0

			if var_576_1 < arg_573_1.time_ and arg_573_1.time_ <= var_576_1 + arg_576_0 then
				arg_573_1.var_.moveOldPos1095ui_story = var_576_0.localPosition
			end

			local var_576_2 = 0.001

			if var_576_1 <= arg_573_1.time_ and arg_573_1.time_ < var_576_1 + var_576_2 then
				local var_576_3 = (arg_573_1.time_ - var_576_1) / var_576_2
				local var_576_4 = Vector3.New(0.7, -0.98, -6.1)

				var_576_0.localPosition = Vector3.Lerp(arg_573_1.var_.moveOldPos1095ui_story, var_576_4, var_576_3)

				local var_576_5 = manager.ui.mainCamera.transform.position - var_576_0.position

				var_576_0.forward = Vector3.New(var_576_5.x, var_576_5.y, var_576_5.z)

				local var_576_6 = var_576_0.localEulerAngles

				var_576_6.z = 0
				var_576_6.x = 0
				var_576_0.localEulerAngles = var_576_6
			end

			if arg_573_1.time_ >= var_576_1 + var_576_2 and arg_573_1.time_ < var_576_1 + var_576_2 + arg_576_0 then
				var_576_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_576_7 = manager.ui.mainCamera.transform.position - var_576_0.position

				var_576_0.forward = Vector3.New(var_576_7.x, var_576_7.y, var_576_7.z)

				local var_576_8 = var_576_0.localEulerAngles

				var_576_8.z = 0
				var_576_8.x = 0
				var_576_0.localEulerAngles = var_576_8
			end

			local var_576_9 = arg_573_1.actors_["1095ui_story"]
			local var_576_10 = 0

			if var_576_10 < arg_573_1.time_ and arg_573_1.time_ <= var_576_10 + arg_576_0 and arg_573_1.var_.characterEffect1095ui_story == nil then
				arg_573_1.var_.characterEffect1095ui_story = var_576_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_576_11 = 0.200000002980232

			if var_576_10 <= arg_573_1.time_ and arg_573_1.time_ < var_576_10 + var_576_11 then
				local var_576_12 = (arg_573_1.time_ - var_576_10) / var_576_11

				if arg_573_1.var_.characterEffect1095ui_story then
					arg_573_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_573_1.time_ >= var_576_10 + var_576_11 and arg_573_1.time_ < var_576_10 + var_576_11 + arg_576_0 and arg_573_1.var_.characterEffect1095ui_story then
				arg_573_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_576_13 = arg_573_1.actors_["10071ui_story"].transform
			local var_576_14 = 0

			if var_576_14 < arg_573_1.time_ and arg_573_1.time_ <= var_576_14 + arg_576_0 then
				arg_573_1.var_.moveOldPos10071ui_story = var_576_13.localPosition
			end

			local var_576_15 = 0.001

			if var_576_14 <= arg_573_1.time_ and arg_573_1.time_ < var_576_14 + var_576_15 then
				local var_576_16 = (arg_573_1.time_ - var_576_14) / var_576_15
				local var_576_17 = Vector3.New(-0.7, -0.9, -6.26)

				var_576_13.localPosition = Vector3.Lerp(arg_573_1.var_.moveOldPos10071ui_story, var_576_17, var_576_16)

				local var_576_18 = manager.ui.mainCamera.transform.position - var_576_13.position

				var_576_13.forward = Vector3.New(var_576_18.x, var_576_18.y, var_576_18.z)

				local var_576_19 = var_576_13.localEulerAngles

				var_576_19.z = 0
				var_576_19.x = 0
				var_576_13.localEulerAngles = var_576_19
			end

			if arg_573_1.time_ >= var_576_14 + var_576_15 and arg_573_1.time_ < var_576_14 + var_576_15 + arg_576_0 then
				var_576_13.localPosition = Vector3.New(-0.7, -0.9, -6.26)

				local var_576_20 = manager.ui.mainCamera.transform.position - var_576_13.position

				var_576_13.forward = Vector3.New(var_576_20.x, var_576_20.y, var_576_20.z)

				local var_576_21 = var_576_13.localEulerAngles

				var_576_21.z = 0
				var_576_21.x = 0
				var_576_13.localEulerAngles = var_576_21
			end

			local var_576_22 = arg_573_1.actors_["10071ui_story"]
			local var_576_23 = 0

			if var_576_23 < arg_573_1.time_ and arg_573_1.time_ <= var_576_23 + arg_576_0 and arg_573_1.var_.characterEffect10071ui_story == nil then
				arg_573_1.var_.characterEffect10071ui_story = var_576_22:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_576_24 = 0.200000002980232

			if var_576_23 <= arg_573_1.time_ and arg_573_1.time_ < var_576_23 + var_576_24 then
				local var_576_25 = (arg_573_1.time_ - var_576_23) / var_576_24

				if arg_573_1.var_.characterEffect10071ui_story then
					local var_576_26 = Mathf.Lerp(0, 0.5, var_576_25)

					arg_573_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_573_1.var_.characterEffect10071ui_story.fillRatio = var_576_26
				end
			end

			if arg_573_1.time_ >= var_576_23 + var_576_24 and arg_573_1.time_ < var_576_23 + var_576_24 + arg_576_0 and arg_573_1.var_.characterEffect10071ui_story then
				local var_576_27 = 0.5

				arg_573_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_573_1.var_.characterEffect10071ui_story.fillRatio = var_576_27
			end

			local var_576_28 = 0
			local var_576_29 = 0.05

			if var_576_28 < arg_573_1.time_ and arg_573_1.time_ <= var_576_28 + arg_576_0 then
				arg_573_1.talkMaxDuration = 0
				arg_573_1.dialogCg_.alpha = 1

				arg_573_1.dialog_:SetActive(true)
				SetActive(arg_573_1.leftNameGo_, true)

				local var_576_30 = arg_573_1:FormatText(StoryNameCfg[471].name)

				arg_573_1.leftNameTxt_.text = var_576_30

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_573_1.leftNameTxt_.transform)

				arg_573_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_573_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_573_1:RecordName(arg_573_1.leftNameTxt_.text)
				SetActive(arg_573_1.iconTrs_.gameObject, false)
				arg_573_1.callingController_:SetSelectedState("normal")

				local var_576_31 = arg_573_1:GetWordFromCfg(411121135)
				local var_576_32 = arg_573_1:FormatText(var_576_31.content)

				arg_573_1.text_.text = var_576_32

				LuaForUtil.ClearLinePrefixSymbol(arg_573_1.text_)

				local var_576_33 = 2
				local var_576_34 = utf8.len(var_576_32)
				local var_576_35 = var_576_33 <= 0 and var_576_29 or var_576_29 * (var_576_34 / var_576_33)

				if var_576_35 > 0 and var_576_29 < var_576_35 then
					arg_573_1.talkMaxDuration = var_576_35

					if var_576_35 + var_576_28 > arg_573_1.duration_ then
						arg_573_1.duration_ = var_576_35 + var_576_28
					end
				end

				arg_573_1.text_.text = var_576_32
				arg_573_1.typewritter.percent = 0

				arg_573_1.typewritter:SetDirty()
				arg_573_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121135", "story_v_out_411121.awb") ~= 0 then
					local var_576_36 = manager.audio:GetVoiceLength("story_v_out_411121", "411121135", "story_v_out_411121.awb") / 1000

					if var_576_36 + var_576_28 > arg_573_1.duration_ then
						arg_573_1.duration_ = var_576_36 + var_576_28
					end

					if var_576_31.prefab_name ~= "" and arg_573_1.actors_[var_576_31.prefab_name] ~= nil then
						local var_576_37 = LuaForUtil.PlayVoiceWithCriLipsync(arg_573_1.actors_[var_576_31.prefab_name].transform, "story_v_out_411121", "411121135", "story_v_out_411121.awb")

						arg_573_1:RecordAudio("411121135", var_576_37)
						arg_573_1:RecordAudio("411121135", var_576_37)
					else
						arg_573_1:AudioAction("play", "voice", "story_v_out_411121", "411121135", "story_v_out_411121.awb")
					end

					arg_573_1:RecordHistoryTalkVoice("story_v_out_411121", "411121135", "story_v_out_411121.awb")
				end

				arg_573_1:RecordContent(arg_573_1.text_.text)
			end

			local var_576_38 = math.max(var_576_29, arg_573_1.talkMaxDuration)

			if var_576_28 <= arg_573_1.time_ and arg_573_1.time_ < var_576_28 + var_576_38 then
				arg_573_1.typewritter.percent = (arg_573_1.time_ - var_576_28) / var_576_38

				arg_573_1.typewritter:SetDirty()
			end

			if arg_573_1.time_ >= var_576_28 + var_576_38 and arg_573_1.time_ < var_576_28 + var_576_38 + arg_576_0 then
				arg_573_1.typewritter.percent = 1

				arg_573_1.typewritter:SetDirty()
				arg_573_1:ShowNextGo(true)
			end
		end
	end,
	Play411121136 = function(arg_577_0, arg_577_1)
		arg_577_1.time_ = 0
		arg_577_1.frameCnt_ = 0
		arg_577_1.state_ = "playing"
		arg_577_1.curTalkId_ = 411121136
		arg_577_1.duration_ = 15.6

		local var_577_0 = {
			zh = 8.866,
			ja = 15.6
		}
		local var_577_1 = manager.audio:GetLocalizationFlag()

		if var_577_0[var_577_1] ~= nil then
			arg_577_1.duration_ = var_577_0[var_577_1]
		end

		SetActive(arg_577_1.tipsGo_, false)

		function arg_577_1.onSingleLineFinish_()
			arg_577_1.onSingleLineUpdate_ = nil
			arg_577_1.onSingleLineFinish_ = nil
			arg_577_1.state_ = "waiting"
		end

		function arg_577_1.playNext_(arg_579_0)
			if arg_579_0 == 1 then
				arg_577_0:Play411121137(arg_577_1)
			end
		end

		function arg_577_1.onSingleLineUpdate_(arg_580_0)
			local var_580_0 = arg_577_1.actors_["1095ui_story"]
			local var_580_1 = 0

			if var_580_1 < arg_577_1.time_ and arg_577_1.time_ <= var_580_1 + arg_580_0 and arg_577_1.var_.characterEffect1095ui_story == nil then
				arg_577_1.var_.characterEffect1095ui_story = var_580_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_580_2 = 0.200000002980232

			if var_580_1 <= arg_577_1.time_ and arg_577_1.time_ < var_580_1 + var_580_2 then
				local var_580_3 = (arg_577_1.time_ - var_580_1) / var_580_2

				if arg_577_1.var_.characterEffect1095ui_story then
					local var_580_4 = Mathf.Lerp(0, 0.5, var_580_3)

					arg_577_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_577_1.var_.characterEffect1095ui_story.fillRatio = var_580_4
				end
			end

			if arg_577_1.time_ >= var_580_1 + var_580_2 and arg_577_1.time_ < var_580_1 + var_580_2 + arg_580_0 and arg_577_1.var_.characterEffect1095ui_story then
				local var_580_5 = 0.5

				arg_577_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_577_1.var_.characterEffect1095ui_story.fillRatio = var_580_5
			end

			local var_580_6 = 0

			if var_580_6 < arg_577_1.time_ and arg_577_1.time_ <= var_580_6 + arg_580_0 then
				arg_577_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action1_1")
			end

			local var_580_7 = 0

			if var_580_7 < arg_577_1.time_ and arg_577_1.time_ <= var_580_7 + arg_580_0 then
				arg_577_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_580_8 = arg_577_1.actors_["10071ui_story"]
			local var_580_9 = 0

			if var_580_9 < arg_577_1.time_ and arg_577_1.time_ <= var_580_9 + arg_580_0 and arg_577_1.var_.characterEffect10071ui_story == nil then
				arg_577_1.var_.characterEffect10071ui_story = var_580_8:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_580_10 = 0.200000002980232

			if var_580_9 <= arg_577_1.time_ and arg_577_1.time_ < var_580_9 + var_580_10 then
				local var_580_11 = (arg_577_1.time_ - var_580_9) / var_580_10

				if arg_577_1.var_.characterEffect10071ui_story then
					arg_577_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_577_1.time_ >= var_580_9 + var_580_10 and arg_577_1.time_ < var_580_9 + var_580_10 + arg_580_0 and arg_577_1.var_.characterEffect10071ui_story then
				arg_577_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_580_12 = 0
			local var_580_13 = 0.675

			if var_580_12 < arg_577_1.time_ and arg_577_1.time_ <= var_580_12 + arg_580_0 then
				arg_577_1.talkMaxDuration = 0
				arg_577_1.dialogCg_.alpha = 1

				arg_577_1.dialog_:SetActive(true)
				SetActive(arg_577_1.leftNameGo_, true)

				local var_580_14 = arg_577_1:FormatText(StoryNameCfg[670].name)

				arg_577_1.leftNameTxt_.text = var_580_14

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_577_1.leftNameTxt_.transform)

				arg_577_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_577_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_577_1:RecordName(arg_577_1.leftNameTxt_.text)
				SetActive(arg_577_1.iconTrs_.gameObject, false)
				arg_577_1.callingController_:SetSelectedState("normal")

				local var_580_15 = arg_577_1:GetWordFromCfg(411121136)
				local var_580_16 = arg_577_1:FormatText(var_580_15.content)

				arg_577_1.text_.text = var_580_16

				LuaForUtil.ClearLinePrefixSymbol(arg_577_1.text_)

				local var_580_17 = 27
				local var_580_18 = utf8.len(var_580_16)
				local var_580_19 = var_580_17 <= 0 and var_580_13 or var_580_13 * (var_580_18 / var_580_17)

				if var_580_19 > 0 and var_580_13 < var_580_19 then
					arg_577_1.talkMaxDuration = var_580_19

					if var_580_19 + var_580_12 > arg_577_1.duration_ then
						arg_577_1.duration_ = var_580_19 + var_580_12
					end
				end

				arg_577_1.text_.text = var_580_16
				arg_577_1.typewritter.percent = 0

				arg_577_1.typewritter:SetDirty()
				arg_577_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121136", "story_v_out_411121.awb") ~= 0 then
					local var_580_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121136", "story_v_out_411121.awb") / 1000

					if var_580_20 + var_580_12 > arg_577_1.duration_ then
						arg_577_1.duration_ = var_580_20 + var_580_12
					end

					if var_580_15.prefab_name ~= "" and arg_577_1.actors_[var_580_15.prefab_name] ~= nil then
						local var_580_21 = LuaForUtil.PlayVoiceWithCriLipsync(arg_577_1.actors_[var_580_15.prefab_name].transform, "story_v_out_411121", "411121136", "story_v_out_411121.awb")

						arg_577_1:RecordAudio("411121136", var_580_21)
						arg_577_1:RecordAudio("411121136", var_580_21)
					else
						arg_577_1:AudioAction("play", "voice", "story_v_out_411121", "411121136", "story_v_out_411121.awb")
					end

					arg_577_1:RecordHistoryTalkVoice("story_v_out_411121", "411121136", "story_v_out_411121.awb")
				end

				arg_577_1:RecordContent(arg_577_1.text_.text)
			end

			local var_580_22 = math.max(var_580_13, arg_577_1.talkMaxDuration)

			if var_580_12 <= arg_577_1.time_ and arg_577_1.time_ < var_580_12 + var_580_22 then
				arg_577_1.typewritter.percent = (arg_577_1.time_ - var_580_12) / var_580_22

				arg_577_1.typewritter:SetDirty()
			end

			if arg_577_1.time_ >= var_580_12 + var_580_22 and arg_577_1.time_ < var_580_12 + var_580_22 + arg_580_0 then
				arg_577_1.typewritter.percent = 1

				arg_577_1.typewritter:SetDirty()
				arg_577_1:ShowNextGo(true)
			end
		end
	end,
	Play411121137 = function(arg_581_0, arg_581_1)
		arg_581_1.time_ = 0
		arg_581_1.frameCnt_ = 0
		arg_581_1.state_ = "playing"
		arg_581_1.curTalkId_ = 411121137
		arg_581_1.duration_ = 5

		SetActive(arg_581_1.tipsGo_, false)

		function arg_581_1.onSingleLineFinish_()
			arg_581_1.onSingleLineUpdate_ = nil
			arg_581_1.onSingleLineFinish_ = nil
			arg_581_1.state_ = "waiting"
		end

		function arg_581_1.playNext_(arg_583_0)
			if arg_583_0 == 1 then
				arg_581_0:Play411121138(arg_581_1)
			end
		end

		function arg_581_1.onSingleLineUpdate_(arg_584_0)
			local var_584_0 = arg_581_1.actors_["10071ui_story"]
			local var_584_1 = 0

			if var_584_1 < arg_581_1.time_ and arg_581_1.time_ <= var_584_1 + arg_584_0 and arg_581_1.var_.characterEffect10071ui_story == nil then
				arg_581_1.var_.characterEffect10071ui_story = var_584_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_584_2 = 0.200000002980232

			if var_584_1 <= arg_581_1.time_ and arg_581_1.time_ < var_584_1 + var_584_2 then
				local var_584_3 = (arg_581_1.time_ - var_584_1) / var_584_2

				if arg_581_1.var_.characterEffect10071ui_story then
					local var_584_4 = Mathf.Lerp(0, 0.5, var_584_3)

					arg_581_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_581_1.var_.characterEffect10071ui_story.fillRatio = var_584_4
				end
			end

			if arg_581_1.time_ >= var_584_1 + var_584_2 and arg_581_1.time_ < var_584_1 + var_584_2 + arg_584_0 and arg_581_1.var_.characterEffect10071ui_story then
				local var_584_5 = 0.5

				arg_581_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_581_1.var_.characterEffect10071ui_story.fillRatio = var_584_5
			end

			local var_584_6 = 0
			local var_584_7 = 0.45

			if var_584_6 < arg_581_1.time_ and arg_581_1.time_ <= var_584_6 + arg_584_0 then
				arg_581_1.talkMaxDuration = 0
				arg_581_1.dialogCg_.alpha = 1

				arg_581_1.dialog_:SetActive(true)
				SetActive(arg_581_1.leftNameGo_, false)

				arg_581_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_581_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_581_1:RecordName(arg_581_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_581_1.iconTrs_.gameObject, false)
				arg_581_1.callingController_:SetSelectedState("normal")

				local var_584_8 = arg_581_1:GetWordFromCfg(411121137)
				local var_584_9 = arg_581_1:FormatText(var_584_8.content)

				arg_581_1.text_.text = var_584_9

				LuaForUtil.ClearLinePrefixSymbol(arg_581_1.text_)

				local var_584_10 = 18
				local var_584_11 = utf8.len(var_584_9)
				local var_584_12 = var_584_10 <= 0 and var_584_7 or var_584_7 * (var_584_11 / var_584_10)

				if var_584_12 > 0 and var_584_7 < var_584_12 then
					arg_581_1.talkMaxDuration = var_584_12

					if var_584_12 + var_584_6 > arg_581_1.duration_ then
						arg_581_1.duration_ = var_584_12 + var_584_6
					end
				end

				arg_581_1.text_.text = var_584_9
				arg_581_1.typewritter.percent = 0

				arg_581_1.typewritter:SetDirty()
				arg_581_1:ShowNextGo(false)
				arg_581_1:RecordContent(arg_581_1.text_.text)
			end

			local var_584_13 = math.max(var_584_7, arg_581_1.talkMaxDuration)

			if var_584_6 <= arg_581_1.time_ and arg_581_1.time_ < var_584_6 + var_584_13 then
				arg_581_1.typewritter.percent = (arg_581_1.time_ - var_584_6) / var_584_13

				arg_581_1.typewritter:SetDirty()
			end

			if arg_581_1.time_ >= var_584_6 + var_584_13 and arg_581_1.time_ < var_584_6 + var_584_13 + arg_584_0 then
				arg_581_1.typewritter.percent = 1

				arg_581_1.typewritter:SetDirty()
				arg_581_1:ShowNextGo(true)
			end
		end
	end,
	Play411121138 = function(arg_585_0, arg_585_1)
		arg_585_1.time_ = 0
		arg_585_1.frameCnt_ = 0
		arg_585_1.state_ = "playing"
		arg_585_1.curTalkId_ = 411121138
		arg_585_1.duration_ = 1.999999999999

		SetActive(arg_585_1.tipsGo_, false)

		function arg_585_1.onSingleLineFinish_()
			arg_585_1.onSingleLineUpdate_ = nil
			arg_585_1.onSingleLineFinish_ = nil
			arg_585_1.state_ = "waiting"
		end

		function arg_585_1.playNext_(arg_587_0)
			if arg_587_0 == 1 then
				arg_585_0:Play411121139(arg_585_1)
			end
		end

		function arg_585_1.onSingleLineUpdate_(arg_588_0)
			local var_588_0 = arg_585_1.actors_["1095ui_story"].transform
			local var_588_1 = 0

			if var_588_1 < arg_585_1.time_ and arg_585_1.time_ <= var_588_1 + arg_588_0 then
				arg_585_1.var_.moveOldPos1095ui_story = var_588_0.localPosition
			end

			local var_588_2 = 0.001

			if var_588_1 <= arg_585_1.time_ and arg_585_1.time_ < var_588_1 + var_588_2 then
				local var_588_3 = (arg_585_1.time_ - var_588_1) / var_588_2
				local var_588_4 = Vector3.New(0.7, -0.98, -6.1)

				var_588_0.localPosition = Vector3.Lerp(arg_585_1.var_.moveOldPos1095ui_story, var_588_4, var_588_3)

				local var_588_5 = manager.ui.mainCamera.transform.position - var_588_0.position

				var_588_0.forward = Vector3.New(var_588_5.x, var_588_5.y, var_588_5.z)

				local var_588_6 = var_588_0.localEulerAngles

				var_588_6.z = 0
				var_588_6.x = 0
				var_588_0.localEulerAngles = var_588_6
			end

			if arg_585_1.time_ >= var_588_1 + var_588_2 and arg_585_1.time_ < var_588_1 + var_588_2 + arg_588_0 then
				var_588_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_588_7 = manager.ui.mainCamera.transform.position - var_588_0.position

				var_588_0.forward = Vector3.New(var_588_7.x, var_588_7.y, var_588_7.z)

				local var_588_8 = var_588_0.localEulerAngles

				var_588_8.z = 0
				var_588_8.x = 0
				var_588_0.localEulerAngles = var_588_8
			end

			local var_588_9 = arg_585_1.actors_["1095ui_story"]
			local var_588_10 = 0

			if var_588_10 < arg_585_1.time_ and arg_585_1.time_ <= var_588_10 + arg_588_0 and arg_585_1.var_.characterEffect1095ui_story == nil then
				arg_585_1.var_.characterEffect1095ui_story = var_588_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_588_11 = 0.200000002980232

			if var_588_10 <= arg_585_1.time_ and arg_585_1.time_ < var_588_10 + var_588_11 then
				local var_588_12 = (arg_585_1.time_ - var_588_10) / var_588_11

				if arg_585_1.var_.characterEffect1095ui_story then
					arg_585_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_585_1.time_ >= var_588_10 + var_588_11 and arg_585_1.time_ < var_588_10 + var_588_11 + arg_588_0 and arg_585_1.var_.characterEffect1095ui_story then
				arg_585_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_588_13 = 0

			if var_588_13 < arg_585_1.time_ and arg_585_1.time_ <= var_588_13 + arg_588_0 then
				arg_585_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action4_2")
			end

			local var_588_14 = 0

			if var_588_14 < arg_585_1.time_ and arg_585_1.time_ <= var_588_14 + arg_588_0 then
				arg_585_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_588_15 = 0
			local var_588_16 = 0.075

			if var_588_15 < arg_585_1.time_ and arg_585_1.time_ <= var_588_15 + arg_588_0 then
				arg_585_1.talkMaxDuration = 0
				arg_585_1.dialogCg_.alpha = 1

				arg_585_1.dialog_:SetActive(true)
				SetActive(arg_585_1.leftNameGo_, true)

				local var_588_17 = arg_585_1:FormatText(StoryNameCfg[471].name)

				arg_585_1.leftNameTxt_.text = var_588_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_585_1.leftNameTxt_.transform)

				arg_585_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_585_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_585_1:RecordName(arg_585_1.leftNameTxt_.text)
				SetActive(arg_585_1.iconTrs_.gameObject, false)
				arg_585_1.callingController_:SetSelectedState("normal")

				local var_588_18 = arg_585_1:GetWordFromCfg(411121138)
				local var_588_19 = arg_585_1:FormatText(var_588_18.content)

				arg_585_1.text_.text = var_588_19

				LuaForUtil.ClearLinePrefixSymbol(arg_585_1.text_)

				local var_588_20 = 3
				local var_588_21 = utf8.len(var_588_19)
				local var_588_22 = var_588_20 <= 0 and var_588_16 or var_588_16 * (var_588_21 / var_588_20)

				if var_588_22 > 0 and var_588_16 < var_588_22 then
					arg_585_1.talkMaxDuration = var_588_22

					if var_588_22 + var_588_15 > arg_585_1.duration_ then
						arg_585_1.duration_ = var_588_22 + var_588_15
					end
				end

				arg_585_1.text_.text = var_588_19
				arg_585_1.typewritter.percent = 0

				arg_585_1.typewritter:SetDirty()
				arg_585_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121138", "story_v_out_411121.awb") ~= 0 then
					local var_588_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121138", "story_v_out_411121.awb") / 1000

					if var_588_23 + var_588_15 > arg_585_1.duration_ then
						arg_585_1.duration_ = var_588_23 + var_588_15
					end

					if var_588_18.prefab_name ~= "" and arg_585_1.actors_[var_588_18.prefab_name] ~= nil then
						local var_588_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_585_1.actors_[var_588_18.prefab_name].transform, "story_v_out_411121", "411121138", "story_v_out_411121.awb")

						arg_585_1:RecordAudio("411121138", var_588_24)
						arg_585_1:RecordAudio("411121138", var_588_24)
					else
						arg_585_1:AudioAction("play", "voice", "story_v_out_411121", "411121138", "story_v_out_411121.awb")
					end

					arg_585_1:RecordHistoryTalkVoice("story_v_out_411121", "411121138", "story_v_out_411121.awb")
				end

				arg_585_1:RecordContent(arg_585_1.text_.text)
			end

			local var_588_25 = math.max(var_588_16, arg_585_1.talkMaxDuration)

			if var_588_15 <= arg_585_1.time_ and arg_585_1.time_ < var_588_15 + var_588_25 then
				arg_585_1.typewritter.percent = (arg_585_1.time_ - var_588_15) / var_588_25

				arg_585_1.typewritter:SetDirty()
			end

			if arg_585_1.time_ >= var_588_15 + var_588_25 and arg_585_1.time_ < var_588_15 + var_588_25 + arg_588_0 then
				arg_585_1.typewritter.percent = 1

				arg_585_1.typewritter:SetDirty()
				arg_585_1:ShowNextGo(true)
			end
		end
	end,
	Play411121139 = function(arg_589_0, arg_589_1)
		arg_589_1.time_ = 0
		arg_589_1.frameCnt_ = 0
		arg_589_1.state_ = "playing"
		arg_589_1.curTalkId_ = 411121139
		arg_589_1.duration_ = 5

		SetActive(arg_589_1.tipsGo_, false)

		function arg_589_1.onSingleLineFinish_()
			arg_589_1.onSingleLineUpdate_ = nil
			arg_589_1.onSingleLineFinish_ = nil
			arg_589_1.state_ = "waiting"
		end

		function arg_589_1.playNext_(arg_591_0)
			if arg_591_0 == 1 then
				arg_589_0:Play411121140(arg_589_1)
			end
		end

		function arg_589_1.onSingleLineUpdate_(arg_592_0)
			local var_592_0 = arg_589_1.actors_["1095ui_story"]
			local var_592_1 = 0

			if var_592_1 < arg_589_1.time_ and arg_589_1.time_ <= var_592_1 + arg_592_0 and arg_589_1.var_.characterEffect1095ui_story == nil then
				arg_589_1.var_.characterEffect1095ui_story = var_592_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_592_2 = 0.200000002980232

			if var_592_1 <= arg_589_1.time_ and arg_589_1.time_ < var_592_1 + var_592_2 then
				local var_592_3 = (arg_589_1.time_ - var_592_1) / var_592_2

				if arg_589_1.var_.characterEffect1095ui_story then
					local var_592_4 = Mathf.Lerp(0, 0.5, var_592_3)

					arg_589_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_589_1.var_.characterEffect1095ui_story.fillRatio = var_592_4
				end
			end

			if arg_589_1.time_ >= var_592_1 + var_592_2 and arg_589_1.time_ < var_592_1 + var_592_2 + arg_592_0 and arg_589_1.var_.characterEffect1095ui_story then
				local var_592_5 = 0.5

				arg_589_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_589_1.var_.characterEffect1095ui_story.fillRatio = var_592_5
			end

			local var_592_6 = 0
			local var_592_7 = 0.366666666666667

			if var_592_6 < arg_589_1.time_ and arg_589_1.time_ <= var_592_6 + arg_592_0 then
				local var_592_8 = "play"
				local var_592_9 = "music"

				arg_589_1:AudioAction(var_592_8, var_592_9, "ui_battle", "ui_battle_stopbgm", "")
			end

			local var_592_10 = 0
			local var_592_11 = 0.8

			if var_592_10 < arg_589_1.time_ and arg_589_1.time_ <= var_592_10 + arg_592_0 then
				arg_589_1.talkMaxDuration = 0
				arg_589_1.dialogCg_.alpha = 1

				arg_589_1.dialog_:SetActive(true)
				SetActive(arg_589_1.leftNameGo_, false)

				arg_589_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_589_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_589_1:RecordName(arg_589_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_589_1.iconTrs_.gameObject, false)
				arg_589_1.callingController_:SetSelectedState("normal")

				local var_592_12 = arg_589_1:GetWordFromCfg(411121139)
				local var_592_13 = arg_589_1:FormatText(var_592_12.content)

				arg_589_1.text_.text = var_592_13

				LuaForUtil.ClearLinePrefixSymbol(arg_589_1.text_)

				local var_592_14 = 32
				local var_592_15 = utf8.len(var_592_13)
				local var_592_16 = var_592_14 <= 0 and var_592_11 or var_592_11 * (var_592_15 / var_592_14)

				if var_592_16 > 0 and var_592_11 < var_592_16 then
					arg_589_1.talkMaxDuration = var_592_16

					if var_592_16 + var_592_10 > arg_589_1.duration_ then
						arg_589_1.duration_ = var_592_16 + var_592_10
					end
				end

				arg_589_1.text_.text = var_592_13
				arg_589_1.typewritter.percent = 0

				arg_589_1.typewritter:SetDirty()
				arg_589_1:ShowNextGo(false)
				arg_589_1:RecordContent(arg_589_1.text_.text)
			end

			local var_592_17 = math.max(var_592_11, arg_589_1.talkMaxDuration)

			if var_592_10 <= arg_589_1.time_ and arg_589_1.time_ < var_592_10 + var_592_17 then
				arg_589_1.typewritter.percent = (arg_589_1.time_ - var_592_10) / var_592_17

				arg_589_1.typewritter:SetDirty()
			end

			if arg_589_1.time_ >= var_592_10 + var_592_17 and arg_589_1.time_ < var_592_10 + var_592_17 + arg_592_0 then
				arg_589_1.typewritter.percent = 1

				arg_589_1.typewritter:SetDirty()
				arg_589_1:ShowNextGo(true)
			end
		end
	end,
	Play411121140 = function(arg_593_0, arg_593_1)
		arg_593_1.time_ = 0
		arg_593_1.frameCnt_ = 0
		arg_593_1.state_ = "playing"
		arg_593_1.curTalkId_ = 411121140
		arg_593_1.duration_ = 5

		SetActive(arg_593_1.tipsGo_, false)

		function arg_593_1.onSingleLineFinish_()
			arg_593_1.onSingleLineUpdate_ = nil
			arg_593_1.onSingleLineFinish_ = nil
			arg_593_1.state_ = "waiting"
		end

		function arg_593_1.playNext_(arg_595_0)
			if arg_595_0 == 1 then
				arg_593_0:Play411121141(arg_593_1)
			end
		end

		function arg_593_1.onSingleLineUpdate_(arg_596_0)
			local var_596_0 = 0
			local var_596_1 = 0.475

			if var_596_0 < arg_593_1.time_ and arg_593_1.time_ <= var_596_0 + arg_596_0 then
				arg_593_1.talkMaxDuration = 0
				arg_593_1.dialogCg_.alpha = 1

				arg_593_1.dialog_:SetActive(true)
				SetActive(arg_593_1.leftNameGo_, false)

				arg_593_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_593_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_593_1:RecordName(arg_593_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_593_1.iconTrs_.gameObject, false)
				arg_593_1.callingController_:SetSelectedState("normal")

				local var_596_2 = arg_593_1:GetWordFromCfg(411121140)
				local var_596_3 = arg_593_1:FormatText(var_596_2.content)

				arg_593_1.text_.text = var_596_3

				LuaForUtil.ClearLinePrefixSymbol(arg_593_1.text_)

				local var_596_4 = 19
				local var_596_5 = utf8.len(var_596_3)
				local var_596_6 = var_596_4 <= 0 and var_596_1 or var_596_1 * (var_596_5 / var_596_4)

				if var_596_6 > 0 and var_596_1 < var_596_6 then
					arg_593_1.talkMaxDuration = var_596_6

					if var_596_6 + var_596_0 > arg_593_1.duration_ then
						arg_593_1.duration_ = var_596_6 + var_596_0
					end
				end

				arg_593_1.text_.text = var_596_3
				arg_593_1.typewritter.percent = 0

				arg_593_1.typewritter:SetDirty()
				arg_593_1:ShowNextGo(false)
				arg_593_1:RecordContent(arg_593_1.text_.text)
			end

			local var_596_7 = math.max(var_596_1, arg_593_1.talkMaxDuration)

			if var_596_0 <= arg_593_1.time_ and arg_593_1.time_ < var_596_0 + var_596_7 then
				arg_593_1.typewritter.percent = (arg_593_1.time_ - var_596_0) / var_596_7

				arg_593_1.typewritter:SetDirty()
			end

			if arg_593_1.time_ >= var_596_0 + var_596_7 and arg_593_1.time_ < var_596_0 + var_596_7 + arg_596_0 then
				arg_593_1.typewritter.percent = 1

				arg_593_1.typewritter:SetDirty()
				arg_593_1:ShowNextGo(true)
			end
		end
	end,
	Play411121141 = function(arg_597_0, arg_597_1)
		arg_597_1.time_ = 0
		arg_597_1.frameCnt_ = 0
		arg_597_1.state_ = "playing"
		arg_597_1.curTalkId_ = 411121141
		arg_597_1.duration_ = 9.233

		local var_597_0 = {
			zh = 7.966,
			ja = 9.233
		}
		local var_597_1 = manager.audio:GetLocalizationFlag()

		if var_597_0[var_597_1] ~= nil then
			arg_597_1.duration_ = var_597_0[var_597_1]
		end

		SetActive(arg_597_1.tipsGo_, false)

		function arg_597_1.onSingleLineFinish_()
			arg_597_1.onSingleLineUpdate_ = nil
			arg_597_1.onSingleLineFinish_ = nil
			arg_597_1.state_ = "waiting"
		end

		function arg_597_1.playNext_(arg_599_0)
			if arg_599_0 == 1 then
				arg_597_0:Play411121142(arg_597_1)
			end
		end

		function arg_597_1.onSingleLineUpdate_(arg_600_0)
			local var_600_0 = arg_597_1.actors_["1095ui_story"].transform
			local var_600_1 = 2

			if var_600_1 < arg_597_1.time_ and arg_597_1.time_ <= var_600_1 + arg_600_0 then
				arg_597_1.var_.moveOldPos1095ui_story = var_600_0.localPosition
			end

			local var_600_2 = 0.001

			if var_600_1 <= arg_597_1.time_ and arg_597_1.time_ < var_600_1 + var_600_2 then
				local var_600_3 = (arg_597_1.time_ - var_600_1) / var_600_2
				local var_600_4 = Vector3.New(0, 100, 0)

				var_600_0.localPosition = Vector3.Lerp(arg_597_1.var_.moveOldPos1095ui_story, var_600_4, var_600_3)

				local var_600_5 = manager.ui.mainCamera.transform.position - var_600_0.position

				var_600_0.forward = Vector3.New(var_600_5.x, var_600_5.y, var_600_5.z)

				local var_600_6 = var_600_0.localEulerAngles

				var_600_6.z = 0
				var_600_6.x = 0
				var_600_0.localEulerAngles = var_600_6
			end

			if arg_597_1.time_ >= var_600_1 + var_600_2 and arg_597_1.time_ < var_600_1 + var_600_2 + arg_600_0 then
				var_600_0.localPosition = Vector3.New(0, 100, 0)

				local var_600_7 = manager.ui.mainCamera.transform.position - var_600_0.position

				var_600_0.forward = Vector3.New(var_600_7.x, var_600_7.y, var_600_7.z)

				local var_600_8 = var_600_0.localEulerAngles

				var_600_8.z = 0
				var_600_8.x = 0
				var_600_0.localEulerAngles = var_600_8
			end

			local var_600_9 = arg_597_1.actors_["1095ui_story"]
			local var_600_10 = 2

			if var_600_10 < arg_597_1.time_ and arg_597_1.time_ <= var_600_10 + arg_600_0 and arg_597_1.var_.characterEffect1095ui_story == nil then
				arg_597_1.var_.characterEffect1095ui_story = var_600_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_600_11 = 0.200000002980232

			if var_600_10 <= arg_597_1.time_ and arg_597_1.time_ < var_600_10 + var_600_11 then
				local var_600_12 = (arg_597_1.time_ - var_600_10) / var_600_11

				if arg_597_1.var_.characterEffect1095ui_story then
					local var_600_13 = Mathf.Lerp(0, 0.5, var_600_12)

					arg_597_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_597_1.var_.characterEffect1095ui_story.fillRatio = var_600_13
				end
			end

			if arg_597_1.time_ >= var_600_10 + var_600_11 and arg_597_1.time_ < var_600_10 + var_600_11 + arg_600_0 and arg_597_1.var_.characterEffect1095ui_story then
				local var_600_14 = 0.5

				arg_597_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_597_1.var_.characterEffect1095ui_story.fillRatio = var_600_14
			end

			local var_600_15 = arg_597_1.actors_["10071ui_story"].transform
			local var_600_16 = 2

			if var_600_16 < arg_597_1.time_ and arg_597_1.time_ <= var_600_16 + arg_600_0 then
				arg_597_1.var_.moveOldPos10071ui_story = var_600_15.localPosition
			end

			local var_600_17 = 0.001

			if var_600_16 <= arg_597_1.time_ and arg_597_1.time_ < var_600_16 + var_600_17 then
				local var_600_18 = (arg_597_1.time_ - var_600_16) / var_600_17
				local var_600_19 = Vector3.New(0, 100, 0)

				var_600_15.localPosition = Vector3.Lerp(arg_597_1.var_.moveOldPos10071ui_story, var_600_19, var_600_18)

				local var_600_20 = manager.ui.mainCamera.transform.position - var_600_15.position

				var_600_15.forward = Vector3.New(var_600_20.x, var_600_20.y, var_600_20.z)

				local var_600_21 = var_600_15.localEulerAngles

				var_600_21.z = 0
				var_600_21.x = 0
				var_600_15.localEulerAngles = var_600_21
			end

			if arg_597_1.time_ >= var_600_16 + var_600_17 and arg_597_1.time_ < var_600_16 + var_600_17 + arg_600_0 then
				var_600_15.localPosition = Vector3.New(0, 100, 0)

				local var_600_22 = manager.ui.mainCamera.transform.position - var_600_15.position

				var_600_15.forward = Vector3.New(var_600_22.x, var_600_22.y, var_600_22.z)

				local var_600_23 = var_600_15.localEulerAngles

				var_600_23.z = 0
				var_600_23.x = 0
				var_600_15.localEulerAngles = var_600_23
			end

			local var_600_24 = arg_597_1.actors_["10071ui_story"]
			local var_600_25 = 2

			if var_600_25 < arg_597_1.time_ and arg_597_1.time_ <= var_600_25 + arg_600_0 and arg_597_1.var_.characterEffect10071ui_story == nil then
				arg_597_1.var_.characterEffect10071ui_story = var_600_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_600_26 = 0.200000002980232

			if var_600_25 <= arg_597_1.time_ and arg_597_1.time_ < var_600_25 + var_600_26 then
				local var_600_27 = (arg_597_1.time_ - var_600_25) / var_600_26

				if arg_597_1.var_.characterEffect10071ui_story then
					local var_600_28 = Mathf.Lerp(0, 0.5, var_600_27)

					arg_597_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_597_1.var_.characterEffect10071ui_story.fillRatio = var_600_28
				end
			end

			if arg_597_1.time_ >= var_600_25 + var_600_26 and arg_597_1.time_ < var_600_25 + var_600_26 + arg_600_0 and arg_597_1.var_.characterEffect10071ui_story then
				local var_600_29 = 0.5

				arg_597_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_597_1.var_.characterEffect10071ui_story.fillRatio = var_600_29
			end

			local var_600_30 = 0

			if var_600_30 < arg_597_1.time_ and arg_597_1.time_ <= var_600_30 + arg_600_0 then
				local var_600_31 = manager.ui.mainCamera.transform.localPosition
				local var_600_32 = Vector3.New(0, 0, 10) + Vector3.New(var_600_31.x, var_600_31.y, 0)
				local var_600_33 = arg_597_1.bgs_.ST74a

				var_600_33.transform.localPosition = var_600_32
				var_600_33.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_600_34 = var_600_33:GetComponent("SpriteRenderer")

				if var_600_34 and var_600_34.sprite then
					local var_600_35 = (var_600_33.transform.localPosition - var_600_31).z
					local var_600_36 = manager.ui.mainCameraCom_
					local var_600_37 = 2 * var_600_35 * Mathf.Tan(var_600_36.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_600_38 = var_600_37 * var_600_36.aspect
					local var_600_39 = var_600_34.sprite.bounds.size.x
					local var_600_40 = var_600_34.sprite.bounds.size.y
					local var_600_41 = var_600_38 / var_600_39
					local var_600_42 = var_600_37 / var_600_40
					local var_600_43 = var_600_42 < var_600_41 and var_600_41 or var_600_42

					var_600_33.transform.localScale = Vector3.New(var_600_43, var_600_43, 0)
				end

				for iter_600_0, iter_600_1 in pairs(arg_597_1.bgs_) do
					if iter_600_0 ~= "ST74a" then
						iter_600_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_600_44 = 2

			if var_600_44 < arg_597_1.time_ and arg_597_1.time_ <= var_600_44 + arg_600_0 then
				local var_600_45 = manager.ui.mainCamera.transform.localPosition
				local var_600_46 = Vector3.New(0, 0, 10) + Vector3.New(var_600_45.x, var_600_45.y, 0)
				local var_600_47 = arg_597_1.bgs_.STblack

				var_600_47.transform.localPosition = var_600_46
				var_600_47.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_600_48 = var_600_47:GetComponent("SpriteRenderer")

				if var_600_48 and var_600_48.sprite then
					local var_600_49 = (var_600_47.transform.localPosition - var_600_45).z
					local var_600_50 = manager.ui.mainCameraCom_
					local var_600_51 = 2 * var_600_49 * Mathf.Tan(var_600_50.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_600_52 = var_600_51 * var_600_50.aspect
					local var_600_53 = var_600_48.sprite.bounds.size.x
					local var_600_54 = var_600_48.sprite.bounds.size.y
					local var_600_55 = var_600_52 / var_600_53
					local var_600_56 = var_600_51 / var_600_54
					local var_600_57 = var_600_56 < var_600_55 and var_600_55 or var_600_56

					var_600_47.transform.localScale = Vector3.New(var_600_57, var_600_57, 0)
				end

				for iter_600_2, iter_600_3 in pairs(arg_597_1.bgs_) do
					if iter_600_2 ~= "STblack" then
						iter_600_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_600_58 = 0

			if var_600_58 < arg_597_1.time_ and arg_597_1.time_ <= var_600_58 + arg_600_0 then
				arg_597_1.mask_.enabled = true
				arg_597_1.mask_.raycastTarget = true

				arg_597_1:SetGaussion(false)
			end

			local var_600_59 = 2

			if var_600_58 <= arg_597_1.time_ and arg_597_1.time_ < var_600_58 + var_600_59 then
				local var_600_60 = (arg_597_1.time_ - var_600_58) / var_600_59
				local var_600_61 = Color.New(0, 0, 0)

				var_600_61.a = Mathf.Lerp(0, 1, var_600_60)
				arg_597_1.mask_.color = var_600_61
			end

			if arg_597_1.time_ >= var_600_58 + var_600_59 and arg_597_1.time_ < var_600_58 + var_600_59 + arg_600_0 then
				local var_600_62 = Color.New(0, 0, 0)

				var_600_62.a = 1
				arg_597_1.mask_.color = var_600_62
			end

			local var_600_63 = 2

			if var_600_63 < arg_597_1.time_ and arg_597_1.time_ <= var_600_63 + arg_600_0 then
				arg_597_1.mask_.enabled = true
				arg_597_1.mask_.raycastTarget = true

				arg_597_1:SetGaussion(false)
			end

			local var_600_64 = 2

			if var_600_63 <= arg_597_1.time_ and arg_597_1.time_ < var_600_63 + var_600_64 then
				local var_600_65 = (arg_597_1.time_ - var_600_63) / var_600_64
				local var_600_66 = Color.New(0, 0, 0)

				var_600_66.a = Mathf.Lerp(1, 0, var_600_65)
				arg_597_1.mask_.color = var_600_66
			end

			if arg_597_1.time_ >= var_600_63 + var_600_64 and arg_597_1.time_ < var_600_63 + var_600_64 + arg_600_0 then
				local var_600_67 = Color.New(0, 0, 0)
				local var_600_68 = 0

				arg_597_1.mask_.enabled = false
				var_600_67.a = var_600_68
				arg_597_1.mask_.color = var_600_67
			end

			local var_600_69 = 2.20000000298023
			local var_600_70 = 1

			if var_600_69 < arg_597_1.time_ and arg_597_1.time_ <= var_600_69 + arg_600_0 then
				local var_600_71 = "play"
				local var_600_72 = "effect"

				arg_597_1:AudioAction(var_600_71, var_600_72, "se_story_123_01", "se_story_123_01_medical", "")
			end

			if arg_597_1.frameCnt_ <= 1 then
				arg_597_1.dialog_:SetActive(false)
			end

			local var_600_73 = 4
			local var_600_74 = 0.55

			if var_600_73 < arg_597_1.time_ and arg_597_1.time_ <= var_600_73 + arg_600_0 then
				arg_597_1.talkMaxDuration = 0

				arg_597_1.dialog_:SetActive(true)

				local var_600_75 = LeanTween.value(arg_597_1.dialog_, 0, 1, 0.3)

				var_600_75:setOnUpdate(LuaHelper.FloatAction(function(arg_601_0)
					arg_597_1.dialogCg_.alpha = arg_601_0
				end))
				var_600_75:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_597_1.dialog_)
					var_600_75:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_597_1.duration_ = arg_597_1.duration_ + 0.3

				SetActive(arg_597_1.leftNameGo_, true)

				local var_600_76 = arg_597_1:FormatText(StoryNameCfg[689].name)

				arg_597_1.leftNameTxt_.text = var_600_76

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_597_1.leftNameTxt_.transform)

				arg_597_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_597_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_597_1:RecordName(arg_597_1.leftNameTxt_.text)
				SetActive(arg_597_1.iconTrs_.gameObject, false)
				arg_597_1.callingController_:SetSelectedState("normal")

				local var_600_77 = arg_597_1:GetWordFromCfg(411121141)
				local var_600_78 = arg_597_1:FormatText(var_600_77.content)

				arg_597_1.text_.text = var_600_78

				LuaForUtil.ClearLinePrefixSymbol(arg_597_1.text_)

				local var_600_79 = 22
				local var_600_80 = utf8.len(var_600_78)
				local var_600_81 = var_600_79 <= 0 and var_600_74 or var_600_74 * (var_600_80 / var_600_79)

				if var_600_81 > 0 and var_600_74 < var_600_81 then
					arg_597_1.talkMaxDuration = var_600_81
					var_600_73 = var_600_73 + 0.3

					if var_600_81 + var_600_73 > arg_597_1.duration_ then
						arg_597_1.duration_ = var_600_81 + var_600_73
					end
				end

				arg_597_1.text_.text = var_600_78
				arg_597_1.typewritter.percent = 0

				arg_597_1.typewritter:SetDirty()
				arg_597_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121141", "story_v_out_411121.awb") ~= 0 then
					local var_600_82 = manager.audio:GetVoiceLength("story_v_out_411121", "411121141", "story_v_out_411121.awb") / 1000

					if var_600_82 + var_600_73 > arg_597_1.duration_ then
						arg_597_1.duration_ = var_600_82 + var_600_73
					end

					if var_600_77.prefab_name ~= "" and arg_597_1.actors_[var_600_77.prefab_name] ~= nil then
						local var_600_83 = LuaForUtil.PlayVoiceWithCriLipsync(arg_597_1.actors_[var_600_77.prefab_name].transform, "story_v_out_411121", "411121141", "story_v_out_411121.awb")

						arg_597_1:RecordAudio("411121141", var_600_83)
						arg_597_1:RecordAudio("411121141", var_600_83)
					else
						arg_597_1:AudioAction("play", "voice", "story_v_out_411121", "411121141", "story_v_out_411121.awb")
					end

					arg_597_1:RecordHistoryTalkVoice("story_v_out_411121", "411121141", "story_v_out_411121.awb")
				end

				arg_597_1:RecordContent(arg_597_1.text_.text)
			end

			local var_600_84 = var_600_73 + 0.3
			local var_600_85 = math.max(var_600_74, arg_597_1.talkMaxDuration)

			if var_600_84 <= arg_597_1.time_ and arg_597_1.time_ < var_600_84 + var_600_85 then
				arg_597_1.typewritter.percent = (arg_597_1.time_ - var_600_84) / var_600_85

				arg_597_1.typewritter:SetDirty()
			end

			if arg_597_1.time_ >= var_600_84 + var_600_85 and arg_597_1.time_ < var_600_84 + var_600_85 + arg_600_0 then
				arg_597_1.typewritter.percent = 1

				arg_597_1.typewritter:SetDirty()
				arg_597_1:ShowNextGo(true)
			end
		end
	end,
	Play411121142 = function(arg_603_0, arg_603_1)
		arg_603_1.time_ = 0
		arg_603_1.frameCnt_ = 0
		arg_603_1.state_ = "playing"
		arg_603_1.curTalkId_ = 411121142
		arg_603_1.duration_ = 3.666

		local var_603_0 = {
			zh = 3.333,
			ja = 3.666
		}
		local var_603_1 = manager.audio:GetLocalizationFlag()

		if var_603_0[var_603_1] ~= nil then
			arg_603_1.duration_ = var_603_0[var_603_1]
		end

		SetActive(arg_603_1.tipsGo_, false)

		function arg_603_1.onSingleLineFinish_()
			arg_603_1.onSingleLineUpdate_ = nil
			arg_603_1.onSingleLineFinish_ = nil
			arg_603_1.state_ = "waiting"
		end

		function arg_603_1.playNext_(arg_605_0)
			if arg_605_0 == 1 then
				arg_603_0:Play411121143(arg_603_1)
			end
		end

		function arg_603_1.onSingleLineUpdate_(arg_606_0)
			local var_606_0 = 0
			local var_606_1 = 0.325

			if var_606_0 < arg_603_1.time_ and arg_603_1.time_ <= var_606_0 + arg_606_0 then
				arg_603_1.talkMaxDuration = 0
				arg_603_1.dialogCg_.alpha = 1

				arg_603_1.dialog_:SetActive(true)
				SetActive(arg_603_1.leftNameGo_, true)

				local var_606_2 = arg_603_1:FormatText(StoryNameCfg[264].name)

				arg_603_1.leftNameTxt_.text = var_606_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_603_1.leftNameTxt_.transform)

				arg_603_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_603_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_603_1:RecordName(arg_603_1.leftNameTxt_.text)
				SetActive(arg_603_1.iconTrs_.gameObject, false)
				arg_603_1.callingController_:SetSelectedState("normal")

				local var_606_3 = arg_603_1:GetWordFromCfg(411121142)
				local var_606_4 = arg_603_1:FormatText(var_606_3.content)

				arg_603_1.text_.text = var_606_4

				LuaForUtil.ClearLinePrefixSymbol(arg_603_1.text_)

				local var_606_5 = 13
				local var_606_6 = utf8.len(var_606_4)
				local var_606_7 = var_606_5 <= 0 and var_606_1 or var_606_1 * (var_606_6 / var_606_5)

				if var_606_7 > 0 and var_606_1 < var_606_7 then
					arg_603_1.talkMaxDuration = var_606_7

					if var_606_7 + var_606_0 > arg_603_1.duration_ then
						arg_603_1.duration_ = var_606_7 + var_606_0
					end
				end

				arg_603_1.text_.text = var_606_4
				arg_603_1.typewritter.percent = 0

				arg_603_1.typewritter:SetDirty()
				arg_603_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121142", "story_v_out_411121.awb") ~= 0 then
					local var_606_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121142", "story_v_out_411121.awb") / 1000

					if var_606_8 + var_606_0 > arg_603_1.duration_ then
						arg_603_1.duration_ = var_606_8 + var_606_0
					end

					if var_606_3.prefab_name ~= "" and arg_603_1.actors_[var_606_3.prefab_name] ~= nil then
						local var_606_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_603_1.actors_[var_606_3.prefab_name].transform, "story_v_out_411121", "411121142", "story_v_out_411121.awb")

						arg_603_1:RecordAudio("411121142", var_606_9)
						arg_603_1:RecordAudio("411121142", var_606_9)
					else
						arg_603_1:AudioAction("play", "voice", "story_v_out_411121", "411121142", "story_v_out_411121.awb")
					end

					arg_603_1:RecordHistoryTalkVoice("story_v_out_411121", "411121142", "story_v_out_411121.awb")
				end

				arg_603_1:RecordContent(arg_603_1.text_.text)
			end

			local var_606_10 = math.max(var_606_1, arg_603_1.talkMaxDuration)

			if var_606_0 <= arg_603_1.time_ and arg_603_1.time_ < var_606_0 + var_606_10 then
				arg_603_1.typewritter.percent = (arg_603_1.time_ - var_606_0) / var_606_10

				arg_603_1.typewritter:SetDirty()
			end

			if arg_603_1.time_ >= var_606_0 + var_606_10 and arg_603_1.time_ < var_606_0 + var_606_10 + arg_606_0 then
				arg_603_1.typewritter.percent = 1

				arg_603_1.typewritter:SetDirty()
				arg_603_1:ShowNextGo(true)
			end
		end
	end,
	Play411121143 = function(arg_607_0, arg_607_1)
		arg_607_1.time_ = 0
		arg_607_1.frameCnt_ = 0
		arg_607_1.state_ = "playing"
		arg_607_1.curTalkId_ = 411121143
		arg_607_1.duration_ = 8.999999999999

		SetActive(arg_607_1.tipsGo_, false)

		function arg_607_1.onSingleLineFinish_()
			arg_607_1.onSingleLineUpdate_ = nil
			arg_607_1.onSingleLineFinish_ = nil
			arg_607_1.state_ = "waiting"
		end

		function arg_607_1.playNext_(arg_609_0)
			if arg_609_0 == 1 then
				arg_607_0:Play411121144(arg_607_1)
			end
		end

		function arg_607_1.onSingleLineUpdate_(arg_610_0)
			local var_610_0 = 0

			if var_610_0 < arg_607_1.time_ and arg_607_1.time_ <= var_610_0 + arg_610_0 then
				local var_610_1 = manager.ui.mainCamera.transform.localPosition
				local var_610_2 = Vector3.New(0, 0, 10) + Vector3.New(var_610_1.x, var_610_1.y, 0)
				local var_610_3 = arg_607_1.bgs_.STblack

				var_610_3.transform.localPosition = var_610_2
				var_610_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_610_4 = var_610_3:GetComponent("SpriteRenderer")

				if var_610_4 and var_610_4.sprite then
					local var_610_5 = (var_610_3.transform.localPosition - var_610_1).z
					local var_610_6 = manager.ui.mainCameraCom_
					local var_610_7 = 2 * var_610_5 * Mathf.Tan(var_610_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_610_8 = var_610_7 * var_610_6.aspect
					local var_610_9 = var_610_4.sprite.bounds.size.x
					local var_610_10 = var_610_4.sprite.bounds.size.y
					local var_610_11 = var_610_8 / var_610_9
					local var_610_12 = var_610_7 / var_610_10
					local var_610_13 = var_610_12 < var_610_11 and var_610_11 or var_610_12

					var_610_3.transform.localScale = Vector3.New(var_610_13, var_610_13, 0)
				end

				for iter_610_0, iter_610_1 in pairs(arg_607_1.bgs_) do
					if iter_610_0 ~= "STblack" then
						iter_610_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_610_14 = 2

			if var_610_14 < arg_607_1.time_ and arg_607_1.time_ <= var_610_14 + arg_610_0 then
				local var_610_15 = manager.ui.mainCamera.transform.localPosition
				local var_610_16 = Vector3.New(0, 0, 10) + Vector3.New(var_610_15.x, var_610_15.y, 0)
				local var_610_17 = arg_607_1.bgs_.B04f

				var_610_17.transform.localPosition = var_610_16
				var_610_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_610_18 = var_610_17:GetComponent("SpriteRenderer")

				if var_610_18 and var_610_18.sprite then
					local var_610_19 = (var_610_17.transform.localPosition - var_610_15).z
					local var_610_20 = manager.ui.mainCameraCom_
					local var_610_21 = 2 * var_610_19 * Mathf.Tan(var_610_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_610_22 = var_610_21 * var_610_20.aspect
					local var_610_23 = var_610_18.sprite.bounds.size.x
					local var_610_24 = var_610_18.sprite.bounds.size.y
					local var_610_25 = var_610_22 / var_610_23
					local var_610_26 = var_610_21 / var_610_24
					local var_610_27 = var_610_26 < var_610_25 and var_610_25 or var_610_26

					var_610_17.transform.localScale = Vector3.New(var_610_27, var_610_27, 0)
				end

				for iter_610_2, iter_610_3 in pairs(arg_607_1.bgs_) do
					if iter_610_2 ~= "B04f" then
						iter_610_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_610_28 = 0

			if var_610_28 < arg_607_1.time_ and arg_607_1.time_ <= var_610_28 + arg_610_0 then
				arg_607_1.mask_.enabled = true
				arg_607_1.mask_.raycastTarget = true

				arg_607_1:SetGaussion(false)
			end

			local var_610_29 = 2

			if var_610_28 <= arg_607_1.time_ and arg_607_1.time_ < var_610_28 + var_610_29 then
				local var_610_30 = (arg_607_1.time_ - var_610_28) / var_610_29
				local var_610_31 = Color.New(0, 0, 0)

				var_610_31.a = Mathf.Lerp(0, 1, var_610_30)
				arg_607_1.mask_.color = var_610_31
			end

			if arg_607_1.time_ >= var_610_28 + var_610_29 and arg_607_1.time_ < var_610_28 + var_610_29 + arg_610_0 then
				local var_610_32 = Color.New(0, 0, 0)

				var_610_32.a = 1
				arg_607_1.mask_.color = var_610_32
			end

			local var_610_33 = 2

			if var_610_33 < arg_607_1.time_ and arg_607_1.time_ <= var_610_33 + arg_610_0 then
				arg_607_1.mask_.enabled = true
				arg_607_1.mask_.raycastTarget = true

				arg_607_1:SetGaussion(false)
			end

			local var_610_34 = 2

			if var_610_33 <= arg_607_1.time_ and arg_607_1.time_ < var_610_33 + var_610_34 then
				local var_610_35 = (arg_607_1.time_ - var_610_33) / var_610_34
				local var_610_36 = Color.New(0, 0, 0)

				var_610_36.a = Mathf.Lerp(1, 0, var_610_35)
				arg_607_1.mask_.color = var_610_36
			end

			if arg_607_1.time_ >= var_610_33 + var_610_34 and arg_607_1.time_ < var_610_33 + var_610_34 + arg_610_0 then
				local var_610_37 = Color.New(0, 0, 0)
				local var_610_38 = 0

				arg_607_1.mask_.enabled = false
				var_610_37.a = var_610_38
				arg_607_1.mask_.color = var_610_37
			end

			local var_610_39 = 0
			local var_610_40 = 0.366666666666667

			if var_610_39 < arg_607_1.time_ and arg_607_1.time_ <= var_610_39 + arg_610_0 then
				local var_610_41 = "play"
				local var_610_42 = "music"

				arg_607_1:AudioAction(var_610_41, var_610_42, "ui_battle", "ui_battle_stopbgm", "")
			end

			local var_610_43 = 0.6
			local var_610_44 = 1

			if var_610_43 < arg_607_1.time_ and arg_607_1.time_ <= var_610_43 + arg_610_0 then
				local var_610_45 = "play"
				local var_610_46 = "music"

				arg_607_1:AudioAction(var_610_45, var_610_46, "bgm_activity_3_0_story_quiet", "bgm_activity_3_0_story_quiet", "bgm_activity_3_0_story_quiet.awb")
			end

			if arg_607_1.frameCnt_ <= 1 then
				arg_607_1.dialog_:SetActive(false)
			end

			local var_610_47 = 3.999999999999
			local var_610_48 = 0.9

			if var_610_47 < arg_607_1.time_ and arg_607_1.time_ <= var_610_47 + arg_610_0 then
				arg_607_1.talkMaxDuration = 0

				arg_607_1.dialog_:SetActive(true)

				local var_610_49 = LeanTween.value(arg_607_1.dialog_, 0, 1, 0.3)

				var_610_49:setOnUpdate(LuaHelper.FloatAction(function(arg_611_0)
					arg_607_1.dialogCg_.alpha = arg_611_0
				end))
				var_610_49:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_607_1.dialog_)
					var_610_49:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_607_1.duration_ = arg_607_1.duration_ + 0.3

				SetActive(arg_607_1.leftNameGo_, false)

				arg_607_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_607_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_607_1:RecordName(arg_607_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_607_1.iconTrs_.gameObject, false)
				arg_607_1.callingController_:SetSelectedState("normal")

				local var_610_50 = arg_607_1:GetWordFromCfg(411121143)
				local var_610_51 = arg_607_1:FormatText(var_610_50.content)

				arg_607_1.text_.text = var_610_51

				LuaForUtil.ClearLinePrefixSymbol(arg_607_1.text_)

				local var_610_52 = 36
				local var_610_53 = utf8.len(var_610_51)
				local var_610_54 = var_610_52 <= 0 and var_610_48 or var_610_48 * (var_610_53 / var_610_52)

				if var_610_54 > 0 and var_610_48 < var_610_54 then
					arg_607_1.talkMaxDuration = var_610_54
					var_610_47 = var_610_47 + 0.3

					if var_610_54 + var_610_47 > arg_607_1.duration_ then
						arg_607_1.duration_ = var_610_54 + var_610_47
					end
				end

				arg_607_1.text_.text = var_610_51
				arg_607_1.typewritter.percent = 0

				arg_607_1.typewritter:SetDirty()
				arg_607_1:ShowNextGo(false)
				arg_607_1:RecordContent(arg_607_1.text_.text)
			end

			local var_610_55 = var_610_47 + 0.3
			local var_610_56 = math.max(var_610_48, arg_607_1.talkMaxDuration)

			if var_610_55 <= arg_607_1.time_ and arg_607_1.time_ < var_610_55 + var_610_56 then
				arg_607_1.typewritter.percent = (arg_607_1.time_ - var_610_55) / var_610_56

				arg_607_1.typewritter:SetDirty()
			end

			if arg_607_1.time_ >= var_610_55 + var_610_56 and arg_607_1.time_ < var_610_55 + var_610_56 + arg_610_0 then
				arg_607_1.typewritter.percent = 1

				arg_607_1.typewritter:SetDirty()
				arg_607_1:ShowNextGo(true)
			end
		end
	end,
	Play411121144 = function(arg_613_0, arg_613_1)
		arg_613_1.time_ = 0
		arg_613_1.frameCnt_ = 0
		arg_613_1.state_ = "playing"
		arg_613_1.curTalkId_ = 411121144
		arg_613_1.duration_ = 5.466

		local var_613_0 = {
			zh = 4,
			ja = 5.466
		}
		local var_613_1 = manager.audio:GetLocalizationFlag()

		if var_613_0[var_613_1] ~= nil then
			arg_613_1.duration_ = var_613_0[var_613_1]
		end

		SetActive(arg_613_1.tipsGo_, false)

		function arg_613_1.onSingleLineFinish_()
			arg_613_1.onSingleLineUpdate_ = nil
			arg_613_1.onSingleLineFinish_ = nil
			arg_613_1.state_ = "waiting"
		end

		function arg_613_1.playNext_(arg_615_0)
			if arg_615_0 == 1 then
				arg_613_0:Play411121145(arg_613_1)
			end
		end

		function arg_613_1.onSingleLineUpdate_(arg_616_0)
			local var_616_0 = arg_613_1.actors_["10014ui_story"].transform
			local var_616_1 = 0

			if var_616_1 < arg_613_1.time_ and arg_613_1.time_ <= var_616_1 + arg_616_0 then
				arg_613_1.var_.moveOldPos10014ui_story = var_616_0.localPosition
			end

			local var_616_2 = 0.001

			if var_616_1 <= arg_613_1.time_ and arg_613_1.time_ < var_616_1 + var_616_2 then
				local var_616_3 = (arg_613_1.time_ - var_616_1) / var_616_2
				local var_616_4 = Vector3.New(0, -1.06, -6.2)

				var_616_0.localPosition = Vector3.Lerp(arg_613_1.var_.moveOldPos10014ui_story, var_616_4, var_616_3)

				local var_616_5 = manager.ui.mainCamera.transform.position - var_616_0.position

				var_616_0.forward = Vector3.New(var_616_5.x, var_616_5.y, var_616_5.z)

				local var_616_6 = var_616_0.localEulerAngles

				var_616_6.z = 0
				var_616_6.x = 0
				var_616_0.localEulerAngles = var_616_6
			end

			if arg_613_1.time_ >= var_616_1 + var_616_2 and arg_613_1.time_ < var_616_1 + var_616_2 + arg_616_0 then
				var_616_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_616_7 = manager.ui.mainCamera.transform.position - var_616_0.position

				var_616_0.forward = Vector3.New(var_616_7.x, var_616_7.y, var_616_7.z)

				local var_616_8 = var_616_0.localEulerAngles

				var_616_8.z = 0
				var_616_8.x = 0
				var_616_0.localEulerAngles = var_616_8
			end

			local var_616_9 = arg_613_1.actors_["10014ui_story"]
			local var_616_10 = 0

			if var_616_10 < arg_613_1.time_ and arg_613_1.time_ <= var_616_10 + arg_616_0 and arg_613_1.var_.characterEffect10014ui_story == nil then
				arg_613_1.var_.characterEffect10014ui_story = var_616_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_616_11 = 0.200000002980232

			if var_616_10 <= arg_613_1.time_ and arg_613_1.time_ < var_616_10 + var_616_11 then
				local var_616_12 = (arg_613_1.time_ - var_616_10) / var_616_11

				if arg_613_1.var_.characterEffect10014ui_story then
					arg_613_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_613_1.time_ >= var_616_10 + var_616_11 and arg_613_1.time_ < var_616_10 + var_616_11 + arg_616_0 and arg_613_1.var_.characterEffect10014ui_story then
				arg_613_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_616_13 = 0

			if var_616_13 < arg_613_1.time_ and arg_613_1.time_ <= var_616_13 + arg_616_0 then
				arg_613_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_1")
			end

			local var_616_14 = 0

			if var_616_14 < arg_613_1.time_ and arg_613_1.time_ <= var_616_14 + arg_616_0 then
				arg_613_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0103cva")
			end

			local var_616_15 = 0
			local var_616_16 = 0.375

			if var_616_15 < arg_613_1.time_ and arg_613_1.time_ <= var_616_15 + arg_616_0 then
				arg_613_1.talkMaxDuration = 0
				arg_613_1.dialogCg_.alpha = 1

				arg_613_1.dialog_:SetActive(true)
				SetActive(arg_613_1.leftNameGo_, true)

				local var_616_17 = arg_613_1:FormatText(StoryNameCfg[264].name)

				arg_613_1.leftNameTxt_.text = var_616_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_613_1.leftNameTxt_.transform)

				arg_613_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_613_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_613_1:RecordName(arg_613_1.leftNameTxt_.text)
				SetActive(arg_613_1.iconTrs_.gameObject, false)
				arg_613_1.callingController_:SetSelectedState("normal")

				local var_616_18 = arg_613_1:GetWordFromCfg(411121144)
				local var_616_19 = arg_613_1:FormatText(var_616_18.content)

				arg_613_1.text_.text = var_616_19

				LuaForUtil.ClearLinePrefixSymbol(arg_613_1.text_)

				local var_616_20 = 15
				local var_616_21 = utf8.len(var_616_19)
				local var_616_22 = var_616_20 <= 0 and var_616_16 or var_616_16 * (var_616_21 / var_616_20)

				if var_616_22 > 0 and var_616_16 < var_616_22 then
					arg_613_1.talkMaxDuration = var_616_22

					if var_616_22 + var_616_15 > arg_613_1.duration_ then
						arg_613_1.duration_ = var_616_22 + var_616_15
					end
				end

				arg_613_1.text_.text = var_616_19
				arg_613_1.typewritter.percent = 0

				arg_613_1.typewritter:SetDirty()
				arg_613_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121144", "story_v_out_411121.awb") ~= 0 then
					local var_616_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121144", "story_v_out_411121.awb") / 1000

					if var_616_23 + var_616_15 > arg_613_1.duration_ then
						arg_613_1.duration_ = var_616_23 + var_616_15
					end

					if var_616_18.prefab_name ~= "" and arg_613_1.actors_[var_616_18.prefab_name] ~= nil then
						local var_616_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_613_1.actors_[var_616_18.prefab_name].transform, "story_v_out_411121", "411121144", "story_v_out_411121.awb")

						arg_613_1:RecordAudio("411121144", var_616_24)
						arg_613_1:RecordAudio("411121144", var_616_24)
					else
						arg_613_1:AudioAction("play", "voice", "story_v_out_411121", "411121144", "story_v_out_411121.awb")
					end

					arg_613_1:RecordHistoryTalkVoice("story_v_out_411121", "411121144", "story_v_out_411121.awb")
				end

				arg_613_1:RecordContent(arg_613_1.text_.text)
			end

			local var_616_25 = math.max(var_616_16, arg_613_1.talkMaxDuration)

			if var_616_15 <= arg_613_1.time_ and arg_613_1.time_ < var_616_15 + var_616_25 then
				arg_613_1.typewritter.percent = (arg_613_1.time_ - var_616_15) / var_616_25

				arg_613_1.typewritter:SetDirty()
			end

			if arg_613_1.time_ >= var_616_15 + var_616_25 and arg_613_1.time_ < var_616_15 + var_616_25 + arg_616_0 then
				arg_613_1.typewritter.percent = 1

				arg_613_1.typewritter:SetDirty()
				arg_613_1:ShowNextGo(true)
			end
		end
	end,
	Play411121145 = function(arg_617_0, arg_617_1)
		arg_617_1.time_ = 0
		arg_617_1.frameCnt_ = 0
		arg_617_1.state_ = "playing"
		arg_617_1.curTalkId_ = 411121145
		arg_617_1.duration_ = 5

		SetActive(arg_617_1.tipsGo_, false)

		function arg_617_1.onSingleLineFinish_()
			arg_617_1.onSingleLineUpdate_ = nil
			arg_617_1.onSingleLineFinish_ = nil
			arg_617_1.state_ = "waiting"
		end

		function arg_617_1.playNext_(arg_619_0)
			if arg_619_0 == 1 then
				arg_617_0:Play411121146(arg_617_1)
			end
		end

		function arg_617_1.onSingleLineUpdate_(arg_620_0)
			local var_620_0 = arg_617_1.actors_["10014ui_story"]
			local var_620_1 = 0

			if var_620_1 < arg_617_1.time_ and arg_617_1.time_ <= var_620_1 + arg_620_0 and arg_617_1.var_.characterEffect10014ui_story == nil then
				arg_617_1.var_.characterEffect10014ui_story = var_620_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_620_2 = 0.200000002980232

			if var_620_1 <= arg_617_1.time_ and arg_617_1.time_ < var_620_1 + var_620_2 then
				local var_620_3 = (arg_617_1.time_ - var_620_1) / var_620_2

				if arg_617_1.var_.characterEffect10014ui_story then
					arg_617_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_617_1.time_ >= var_620_1 + var_620_2 and arg_617_1.time_ < var_620_1 + var_620_2 + arg_620_0 and arg_617_1.var_.characterEffect10014ui_story then
				arg_617_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_620_4 = 0
			local var_620_5 = 0.75

			if var_620_4 < arg_617_1.time_ and arg_617_1.time_ <= var_620_4 + arg_620_0 then
				arg_617_1.talkMaxDuration = 0
				arg_617_1.dialogCg_.alpha = 1

				arg_617_1.dialog_:SetActive(true)
				SetActive(arg_617_1.leftNameGo_, false)

				arg_617_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_617_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_617_1:RecordName(arg_617_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_617_1.iconTrs_.gameObject, false)
				arg_617_1.callingController_:SetSelectedState("normal")

				local var_620_6 = arg_617_1:GetWordFromCfg(411121145)
				local var_620_7 = arg_617_1:FormatText(var_620_6.content)

				arg_617_1.text_.text = var_620_7

				LuaForUtil.ClearLinePrefixSymbol(arg_617_1.text_)

				local var_620_8 = 30
				local var_620_9 = utf8.len(var_620_7)
				local var_620_10 = var_620_8 <= 0 and var_620_5 or var_620_5 * (var_620_9 / var_620_8)

				if var_620_10 > 0 and var_620_5 < var_620_10 then
					arg_617_1.talkMaxDuration = var_620_10

					if var_620_10 + var_620_4 > arg_617_1.duration_ then
						arg_617_1.duration_ = var_620_10 + var_620_4
					end
				end

				arg_617_1.text_.text = var_620_7
				arg_617_1.typewritter.percent = 0

				arg_617_1.typewritter:SetDirty()
				arg_617_1:ShowNextGo(false)
				arg_617_1:RecordContent(arg_617_1.text_.text)
			end

			local var_620_11 = math.max(var_620_5, arg_617_1.talkMaxDuration)

			if var_620_4 <= arg_617_1.time_ and arg_617_1.time_ < var_620_4 + var_620_11 then
				arg_617_1.typewritter.percent = (arg_617_1.time_ - var_620_4) / var_620_11

				arg_617_1.typewritter:SetDirty()
			end

			if arg_617_1.time_ >= var_620_4 + var_620_11 and arg_617_1.time_ < var_620_4 + var_620_11 + arg_620_0 then
				arg_617_1.typewritter.percent = 1

				arg_617_1.typewritter:SetDirty()
				arg_617_1:ShowNextGo(true)
			end
		end
	end,
	Play411121146 = function(arg_621_0, arg_621_1)
		arg_621_1.time_ = 0
		arg_621_1.frameCnt_ = 0
		arg_621_1.state_ = "playing"
		arg_621_1.curTalkId_ = 411121146
		arg_621_1.duration_ = 5.233

		local var_621_0 = {
			zh = 5.233,
			ja = 3.5
		}
		local var_621_1 = manager.audio:GetLocalizationFlag()

		if var_621_0[var_621_1] ~= nil then
			arg_621_1.duration_ = var_621_0[var_621_1]
		end

		SetActive(arg_621_1.tipsGo_, false)

		function arg_621_1.onSingleLineFinish_()
			arg_621_1.onSingleLineUpdate_ = nil
			arg_621_1.onSingleLineFinish_ = nil
			arg_621_1.state_ = "waiting"
		end

		function arg_621_1.playNext_(arg_623_0)
			if arg_623_0 == 1 then
				arg_621_0:Play411121147(arg_621_1)
			end
		end

		function arg_621_1.onSingleLineUpdate_(arg_624_0)
			local var_624_0 = arg_621_1.actors_["10014ui_story"].transform
			local var_624_1 = 0

			if var_624_1 < arg_621_1.time_ and arg_621_1.time_ <= var_624_1 + arg_624_0 then
				arg_621_1.var_.moveOldPos10014ui_story = var_624_0.localPosition
			end

			local var_624_2 = 0.001

			if var_624_1 <= arg_621_1.time_ and arg_621_1.time_ < var_624_1 + var_624_2 then
				local var_624_3 = (arg_621_1.time_ - var_624_1) / var_624_2
				local var_624_4 = Vector3.New(0, -1.06, -6.2)

				var_624_0.localPosition = Vector3.Lerp(arg_621_1.var_.moveOldPos10014ui_story, var_624_4, var_624_3)

				local var_624_5 = manager.ui.mainCamera.transform.position - var_624_0.position

				var_624_0.forward = Vector3.New(var_624_5.x, var_624_5.y, var_624_5.z)

				local var_624_6 = var_624_0.localEulerAngles

				var_624_6.z = 0
				var_624_6.x = 0
				var_624_0.localEulerAngles = var_624_6
			end

			if arg_621_1.time_ >= var_624_1 + var_624_2 and arg_621_1.time_ < var_624_1 + var_624_2 + arg_624_0 then
				var_624_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_624_7 = manager.ui.mainCamera.transform.position - var_624_0.position

				var_624_0.forward = Vector3.New(var_624_7.x, var_624_7.y, var_624_7.z)

				local var_624_8 = var_624_0.localEulerAngles

				var_624_8.z = 0
				var_624_8.x = 0
				var_624_0.localEulerAngles = var_624_8
			end

			local var_624_9 = arg_621_1.actors_["10014ui_story"]
			local var_624_10 = 0

			if var_624_10 < arg_621_1.time_ and arg_621_1.time_ <= var_624_10 + arg_624_0 and arg_621_1.var_.characterEffect10014ui_story == nil then
				arg_621_1.var_.characterEffect10014ui_story = var_624_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_624_11 = 0.200000002980232

			if var_624_10 <= arg_621_1.time_ and arg_621_1.time_ < var_624_10 + var_624_11 then
				local var_624_12 = (arg_621_1.time_ - var_624_10) / var_624_11

				if arg_621_1.var_.characterEffect10014ui_story then
					local var_624_13 = Mathf.Lerp(0, 0.5, var_624_12)

					arg_621_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_621_1.var_.characterEffect10014ui_story.fillRatio = var_624_13
				end
			end

			if arg_621_1.time_ >= var_624_10 + var_624_11 and arg_621_1.time_ < var_624_10 + var_624_11 + arg_624_0 and arg_621_1.var_.characterEffect10014ui_story then
				local var_624_14 = 0.5

				arg_621_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_621_1.var_.characterEffect10014ui_story.fillRatio = var_624_14
			end

			local var_624_15 = 0
			local var_624_16 = 0.3

			if var_624_15 < arg_621_1.time_ and arg_621_1.time_ <= var_624_15 + arg_624_0 then
				arg_621_1.talkMaxDuration = 0
				arg_621_1.dialogCg_.alpha = 1

				arg_621_1.dialog_:SetActive(true)
				SetActive(arg_621_1.leftNameGo_, true)

				local var_624_17 = arg_621_1:FormatText(StoryNameCfg[670].name)

				arg_621_1.leftNameTxt_.text = var_624_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_621_1.leftNameTxt_.transform)

				arg_621_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_621_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_621_1:RecordName(arg_621_1.leftNameTxt_.text)
				SetActive(arg_621_1.iconTrs_.gameObject, true)
				arg_621_1.iconController_:SetSelectedState("hero")

				arg_621_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_621_1.callingController_:SetSelectedState("normal")

				local var_624_18 = arg_621_1:GetWordFromCfg(411121146)
				local var_624_19 = arg_621_1:FormatText(var_624_18.content)

				arg_621_1.text_.text = var_624_19

				LuaForUtil.ClearLinePrefixSymbol(arg_621_1.text_)

				local var_624_20 = 12
				local var_624_21 = utf8.len(var_624_19)
				local var_624_22 = var_624_20 <= 0 and var_624_16 or var_624_16 * (var_624_21 / var_624_20)

				if var_624_22 > 0 and var_624_16 < var_624_22 then
					arg_621_1.talkMaxDuration = var_624_22

					if var_624_22 + var_624_15 > arg_621_1.duration_ then
						arg_621_1.duration_ = var_624_22 + var_624_15
					end
				end

				arg_621_1.text_.text = var_624_19
				arg_621_1.typewritter.percent = 0

				arg_621_1.typewritter:SetDirty()
				arg_621_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121146", "story_v_out_411121.awb") ~= 0 then
					local var_624_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121146", "story_v_out_411121.awb") / 1000

					if var_624_23 + var_624_15 > arg_621_1.duration_ then
						arg_621_1.duration_ = var_624_23 + var_624_15
					end

					if var_624_18.prefab_name ~= "" and arg_621_1.actors_[var_624_18.prefab_name] ~= nil then
						local var_624_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_621_1.actors_[var_624_18.prefab_name].transform, "story_v_out_411121", "411121146", "story_v_out_411121.awb")

						arg_621_1:RecordAudio("411121146", var_624_24)
						arg_621_1:RecordAudio("411121146", var_624_24)
					else
						arg_621_1:AudioAction("play", "voice", "story_v_out_411121", "411121146", "story_v_out_411121.awb")
					end

					arg_621_1:RecordHistoryTalkVoice("story_v_out_411121", "411121146", "story_v_out_411121.awb")
				end

				arg_621_1:RecordContent(arg_621_1.text_.text)
			end

			local var_624_25 = math.max(var_624_16, arg_621_1.talkMaxDuration)

			if var_624_15 <= arg_621_1.time_ and arg_621_1.time_ < var_624_15 + var_624_25 then
				arg_621_1.typewritter.percent = (arg_621_1.time_ - var_624_15) / var_624_25

				arg_621_1.typewritter:SetDirty()
			end

			if arg_621_1.time_ >= var_624_15 + var_624_25 and arg_621_1.time_ < var_624_15 + var_624_25 + arg_624_0 then
				arg_621_1.typewritter.percent = 1

				arg_621_1.typewritter:SetDirty()
				arg_621_1:ShowNextGo(true)
			end
		end
	end,
	Play411121147 = function(arg_625_0, arg_625_1)
		arg_625_1.time_ = 0
		arg_625_1.frameCnt_ = 0
		arg_625_1.state_ = "playing"
		arg_625_1.curTalkId_ = 411121147
		arg_625_1.duration_ = 5

		SetActive(arg_625_1.tipsGo_, false)

		function arg_625_1.onSingleLineFinish_()
			arg_625_1.onSingleLineUpdate_ = nil
			arg_625_1.onSingleLineFinish_ = nil
			arg_625_1.state_ = "waiting"
		end

		function arg_625_1.playNext_(arg_627_0)
			if arg_627_0 == 1 then
				arg_625_0:Play411121148(arg_625_1)
			end
		end

		function arg_625_1.onSingleLineUpdate_(arg_628_0)
			local var_628_0 = arg_625_1.actors_["10071ui_story"]
			local var_628_1 = 0

			if var_628_1 < arg_625_1.time_ and arg_625_1.time_ <= var_628_1 + arg_628_0 and arg_625_1.var_.characterEffect10071ui_story == nil then
				arg_625_1.var_.characterEffect10071ui_story = var_628_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_628_2 = 0.200000002980232

			if var_628_1 <= arg_625_1.time_ and arg_625_1.time_ < var_628_1 + var_628_2 then
				local var_628_3 = (arg_625_1.time_ - var_628_1) / var_628_2

				if arg_625_1.var_.characterEffect10071ui_story then
					local var_628_4 = Mathf.Lerp(0, 0.5, var_628_3)

					arg_625_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_625_1.var_.characterEffect10071ui_story.fillRatio = var_628_4
				end
			end

			if arg_625_1.time_ >= var_628_1 + var_628_2 and arg_625_1.time_ < var_628_1 + var_628_2 + arg_628_0 and arg_625_1.var_.characterEffect10071ui_story then
				local var_628_5 = 0.5

				arg_625_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_625_1.var_.characterEffect10071ui_story.fillRatio = var_628_5
			end

			local var_628_6 = 0
			local var_628_7 = 0.5

			if var_628_6 < arg_625_1.time_ and arg_625_1.time_ <= var_628_6 + arg_628_0 then
				arg_625_1.talkMaxDuration = 0
				arg_625_1.dialogCg_.alpha = 1

				arg_625_1.dialog_:SetActive(true)
				SetActive(arg_625_1.leftNameGo_, false)

				arg_625_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_625_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_625_1:RecordName(arg_625_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_625_1.iconTrs_.gameObject, false)
				arg_625_1.callingController_:SetSelectedState("normal")

				local var_628_8 = arg_625_1:GetWordFromCfg(411121147)
				local var_628_9 = arg_625_1:FormatText(var_628_8.content)

				arg_625_1.text_.text = var_628_9

				LuaForUtil.ClearLinePrefixSymbol(arg_625_1.text_)

				local var_628_10 = 20
				local var_628_11 = utf8.len(var_628_9)
				local var_628_12 = var_628_10 <= 0 and var_628_7 or var_628_7 * (var_628_11 / var_628_10)

				if var_628_12 > 0 and var_628_7 < var_628_12 then
					arg_625_1.talkMaxDuration = var_628_12

					if var_628_12 + var_628_6 > arg_625_1.duration_ then
						arg_625_1.duration_ = var_628_12 + var_628_6
					end
				end

				arg_625_1.text_.text = var_628_9
				arg_625_1.typewritter.percent = 0

				arg_625_1.typewritter:SetDirty()
				arg_625_1:ShowNextGo(false)
				arg_625_1:RecordContent(arg_625_1.text_.text)
			end

			local var_628_13 = math.max(var_628_7, arg_625_1.talkMaxDuration)

			if var_628_6 <= arg_625_1.time_ and arg_625_1.time_ < var_628_6 + var_628_13 then
				arg_625_1.typewritter.percent = (arg_625_1.time_ - var_628_6) / var_628_13

				arg_625_1.typewritter:SetDirty()
			end

			if arg_625_1.time_ >= var_628_6 + var_628_13 and arg_625_1.time_ < var_628_6 + var_628_13 + arg_628_0 then
				arg_625_1.typewritter.percent = 1

				arg_625_1.typewritter:SetDirty()
				arg_625_1:ShowNextGo(true)
			end
		end
	end,
	Play411121148 = function(arg_629_0, arg_629_1)
		arg_629_1.time_ = 0
		arg_629_1.frameCnt_ = 0
		arg_629_1.state_ = "playing"
		arg_629_1.curTalkId_ = 411121148
		arg_629_1.duration_ = 6.4

		local var_629_0 = {
			zh = 6.4,
			ja = 5.3
		}
		local var_629_1 = manager.audio:GetLocalizationFlag()

		if var_629_0[var_629_1] ~= nil then
			arg_629_1.duration_ = var_629_0[var_629_1]
		end

		SetActive(arg_629_1.tipsGo_, false)

		function arg_629_1.onSingleLineFinish_()
			arg_629_1.onSingleLineUpdate_ = nil
			arg_629_1.onSingleLineFinish_ = nil
			arg_629_1.state_ = "waiting"
		end

		function arg_629_1.playNext_(arg_631_0)
			if arg_631_0 == 1 then
				arg_629_0:Play411121149(arg_629_1)
			end
		end

		function arg_629_1.onSingleLineUpdate_(arg_632_0)
			local var_632_0 = 0
			local var_632_1 = 0.375

			if var_632_0 < arg_629_1.time_ and arg_629_1.time_ <= var_632_0 + arg_632_0 then
				arg_629_1.talkMaxDuration = 0
				arg_629_1.dialogCg_.alpha = 1

				arg_629_1.dialog_:SetActive(true)
				SetActive(arg_629_1.leftNameGo_, true)

				local var_632_2 = arg_629_1:FormatText(StoryNameCfg[670].name)

				arg_629_1.leftNameTxt_.text = var_632_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_629_1.leftNameTxt_.transform)

				arg_629_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_629_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_629_1:RecordName(arg_629_1.leftNameTxt_.text)
				SetActive(arg_629_1.iconTrs_.gameObject, true)
				arg_629_1.iconController_:SetSelectedState("hero")

				arg_629_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_629_1.callingController_:SetSelectedState("normal")

				local var_632_3 = arg_629_1:GetWordFromCfg(411121148)
				local var_632_4 = arg_629_1:FormatText(var_632_3.content)

				arg_629_1.text_.text = var_632_4

				LuaForUtil.ClearLinePrefixSymbol(arg_629_1.text_)

				local var_632_5 = 15
				local var_632_6 = utf8.len(var_632_4)
				local var_632_7 = var_632_5 <= 0 and var_632_1 or var_632_1 * (var_632_6 / var_632_5)

				if var_632_7 > 0 and var_632_1 < var_632_7 then
					arg_629_1.talkMaxDuration = var_632_7

					if var_632_7 + var_632_0 > arg_629_1.duration_ then
						arg_629_1.duration_ = var_632_7 + var_632_0
					end
				end

				arg_629_1.text_.text = var_632_4
				arg_629_1.typewritter.percent = 0

				arg_629_1.typewritter:SetDirty()
				arg_629_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121148", "story_v_out_411121.awb") ~= 0 then
					local var_632_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121148", "story_v_out_411121.awb") / 1000

					if var_632_8 + var_632_0 > arg_629_1.duration_ then
						arg_629_1.duration_ = var_632_8 + var_632_0
					end

					if var_632_3.prefab_name ~= "" and arg_629_1.actors_[var_632_3.prefab_name] ~= nil then
						local var_632_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_629_1.actors_[var_632_3.prefab_name].transform, "story_v_out_411121", "411121148", "story_v_out_411121.awb")

						arg_629_1:RecordAudio("411121148", var_632_9)
						arg_629_1:RecordAudio("411121148", var_632_9)
					else
						arg_629_1:AudioAction("play", "voice", "story_v_out_411121", "411121148", "story_v_out_411121.awb")
					end

					arg_629_1:RecordHistoryTalkVoice("story_v_out_411121", "411121148", "story_v_out_411121.awb")
				end

				arg_629_1:RecordContent(arg_629_1.text_.text)
			end

			local var_632_10 = math.max(var_632_1, arg_629_1.talkMaxDuration)

			if var_632_0 <= arg_629_1.time_ and arg_629_1.time_ < var_632_0 + var_632_10 then
				arg_629_1.typewritter.percent = (arg_629_1.time_ - var_632_0) / var_632_10

				arg_629_1.typewritter:SetDirty()
			end

			if arg_629_1.time_ >= var_632_0 + var_632_10 and arg_629_1.time_ < var_632_0 + var_632_10 + arg_632_0 then
				arg_629_1.typewritter.percent = 1

				arg_629_1.typewritter:SetDirty()
				arg_629_1:ShowNextGo(true)
			end
		end
	end,
	Play411121149 = function(arg_633_0, arg_633_1)
		arg_633_1.time_ = 0
		arg_633_1.frameCnt_ = 0
		arg_633_1.state_ = "playing"
		arg_633_1.curTalkId_ = 411121149
		arg_633_1.duration_ = 11.166

		local var_633_0 = {
			zh = 9.633,
			ja = 11.166
		}
		local var_633_1 = manager.audio:GetLocalizationFlag()

		if var_633_0[var_633_1] ~= nil then
			arg_633_1.duration_ = var_633_0[var_633_1]
		end

		SetActive(arg_633_1.tipsGo_, false)

		function arg_633_1.onSingleLineFinish_()
			arg_633_1.onSingleLineUpdate_ = nil
			arg_633_1.onSingleLineFinish_ = nil
			arg_633_1.state_ = "waiting"
		end

		function arg_633_1.playNext_(arg_635_0)
			if arg_635_0 == 1 then
				arg_633_0:Play411121150(arg_633_1)
			end
		end

		function arg_633_1.onSingleLineUpdate_(arg_636_0)
			local var_636_0 = arg_633_1.actors_["10014ui_story"]
			local var_636_1 = 0

			if var_636_1 < arg_633_1.time_ and arg_633_1.time_ <= var_636_1 + arg_636_0 and arg_633_1.var_.characterEffect10014ui_story == nil then
				arg_633_1.var_.characterEffect10014ui_story = var_636_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_636_2 = 0.200000002980232

			if var_636_1 <= arg_633_1.time_ and arg_633_1.time_ < var_636_1 + var_636_2 then
				local var_636_3 = (arg_633_1.time_ - var_636_1) / var_636_2

				if arg_633_1.var_.characterEffect10014ui_story then
					arg_633_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_633_1.time_ >= var_636_1 + var_636_2 and arg_633_1.time_ < var_636_1 + var_636_2 + arg_636_0 and arg_633_1.var_.characterEffect10014ui_story then
				arg_633_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_636_4 = 0
			local var_636_5 = 0.9

			if var_636_4 < arg_633_1.time_ and arg_633_1.time_ <= var_636_4 + arg_636_0 then
				arg_633_1.talkMaxDuration = 0
				arg_633_1.dialogCg_.alpha = 1

				arg_633_1.dialog_:SetActive(true)
				SetActive(arg_633_1.leftNameGo_, true)

				local var_636_6 = arg_633_1:FormatText(StoryNameCfg[264].name)

				arg_633_1.leftNameTxt_.text = var_636_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_633_1.leftNameTxt_.transform)

				arg_633_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_633_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_633_1:RecordName(arg_633_1.leftNameTxt_.text)
				SetActive(arg_633_1.iconTrs_.gameObject, false)
				arg_633_1.callingController_:SetSelectedState("normal")

				local var_636_7 = arg_633_1:GetWordFromCfg(411121149)
				local var_636_8 = arg_633_1:FormatText(var_636_7.content)

				arg_633_1.text_.text = var_636_8

				LuaForUtil.ClearLinePrefixSymbol(arg_633_1.text_)

				local var_636_9 = 36
				local var_636_10 = utf8.len(var_636_8)
				local var_636_11 = var_636_9 <= 0 and var_636_5 or var_636_5 * (var_636_10 / var_636_9)

				if var_636_11 > 0 and var_636_5 < var_636_11 then
					arg_633_1.talkMaxDuration = var_636_11

					if var_636_11 + var_636_4 > arg_633_1.duration_ then
						arg_633_1.duration_ = var_636_11 + var_636_4
					end
				end

				arg_633_1.text_.text = var_636_8
				arg_633_1.typewritter.percent = 0

				arg_633_1.typewritter:SetDirty()
				arg_633_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121149", "story_v_out_411121.awb") ~= 0 then
					local var_636_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121149", "story_v_out_411121.awb") / 1000

					if var_636_12 + var_636_4 > arg_633_1.duration_ then
						arg_633_1.duration_ = var_636_12 + var_636_4
					end

					if var_636_7.prefab_name ~= "" and arg_633_1.actors_[var_636_7.prefab_name] ~= nil then
						local var_636_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_633_1.actors_[var_636_7.prefab_name].transform, "story_v_out_411121", "411121149", "story_v_out_411121.awb")

						arg_633_1:RecordAudio("411121149", var_636_13)
						arg_633_1:RecordAudio("411121149", var_636_13)
					else
						arg_633_1:AudioAction("play", "voice", "story_v_out_411121", "411121149", "story_v_out_411121.awb")
					end

					arg_633_1:RecordHistoryTalkVoice("story_v_out_411121", "411121149", "story_v_out_411121.awb")
				end

				arg_633_1:RecordContent(arg_633_1.text_.text)
			end

			local var_636_14 = math.max(var_636_5, arg_633_1.talkMaxDuration)

			if var_636_4 <= arg_633_1.time_ and arg_633_1.time_ < var_636_4 + var_636_14 then
				arg_633_1.typewritter.percent = (arg_633_1.time_ - var_636_4) / var_636_14

				arg_633_1.typewritter:SetDirty()
			end

			if arg_633_1.time_ >= var_636_4 + var_636_14 and arg_633_1.time_ < var_636_4 + var_636_14 + arg_636_0 then
				arg_633_1.typewritter.percent = 1

				arg_633_1.typewritter:SetDirty()
				arg_633_1:ShowNextGo(true)
			end
		end
	end,
	Play411121150 = function(arg_637_0, arg_637_1)
		arg_637_1.time_ = 0
		arg_637_1.frameCnt_ = 0
		arg_637_1.state_ = "playing"
		arg_637_1.curTalkId_ = 411121150
		arg_637_1.duration_ = 4.633

		local var_637_0 = {
			zh = 3.966,
			ja = 4.633
		}
		local var_637_1 = manager.audio:GetLocalizationFlag()

		if var_637_0[var_637_1] ~= nil then
			arg_637_1.duration_ = var_637_0[var_637_1]
		end

		SetActive(arg_637_1.tipsGo_, false)

		function arg_637_1.onSingleLineFinish_()
			arg_637_1.onSingleLineUpdate_ = nil
			arg_637_1.onSingleLineFinish_ = nil
			arg_637_1.state_ = "waiting"
		end

		function arg_637_1.playNext_(arg_639_0)
			if arg_639_0 == 1 then
				arg_637_0:Play411121151(arg_637_1)
			end
		end

		function arg_637_1.onSingleLineUpdate_(arg_640_0)
			local var_640_0 = 0
			local var_640_1 = 0.5

			if var_640_0 < arg_637_1.time_ and arg_637_1.time_ <= var_640_0 + arg_640_0 then
				arg_637_1.talkMaxDuration = 0
				arg_637_1.dialogCg_.alpha = 1

				arg_637_1.dialog_:SetActive(true)
				SetActive(arg_637_1.leftNameGo_, true)

				local var_640_2 = arg_637_1:FormatText(StoryNameCfg[264].name)

				arg_637_1.leftNameTxt_.text = var_640_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_637_1.leftNameTxt_.transform)

				arg_637_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_637_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_637_1:RecordName(arg_637_1.leftNameTxt_.text)
				SetActive(arg_637_1.iconTrs_.gameObject, false)
				arg_637_1.callingController_:SetSelectedState("normal")

				local var_640_3 = arg_637_1:GetWordFromCfg(411121150)
				local var_640_4 = arg_637_1:FormatText(var_640_3.content)

				arg_637_1.text_.text = var_640_4

				LuaForUtil.ClearLinePrefixSymbol(arg_637_1.text_)

				local var_640_5 = 20
				local var_640_6 = utf8.len(var_640_4)
				local var_640_7 = var_640_5 <= 0 and var_640_1 or var_640_1 * (var_640_6 / var_640_5)

				if var_640_7 > 0 and var_640_1 < var_640_7 then
					arg_637_1.talkMaxDuration = var_640_7

					if var_640_7 + var_640_0 > arg_637_1.duration_ then
						arg_637_1.duration_ = var_640_7 + var_640_0
					end
				end

				arg_637_1.text_.text = var_640_4
				arg_637_1.typewritter.percent = 0

				arg_637_1.typewritter:SetDirty()
				arg_637_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121150", "story_v_out_411121.awb") ~= 0 then
					local var_640_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121150", "story_v_out_411121.awb") / 1000

					if var_640_8 + var_640_0 > arg_637_1.duration_ then
						arg_637_1.duration_ = var_640_8 + var_640_0
					end

					if var_640_3.prefab_name ~= "" and arg_637_1.actors_[var_640_3.prefab_name] ~= nil then
						local var_640_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_637_1.actors_[var_640_3.prefab_name].transform, "story_v_out_411121", "411121150", "story_v_out_411121.awb")

						arg_637_1:RecordAudio("411121150", var_640_9)
						arg_637_1:RecordAudio("411121150", var_640_9)
					else
						arg_637_1:AudioAction("play", "voice", "story_v_out_411121", "411121150", "story_v_out_411121.awb")
					end

					arg_637_1:RecordHistoryTalkVoice("story_v_out_411121", "411121150", "story_v_out_411121.awb")
				end

				arg_637_1:RecordContent(arg_637_1.text_.text)
			end

			local var_640_10 = math.max(var_640_1, arg_637_1.talkMaxDuration)

			if var_640_0 <= arg_637_1.time_ and arg_637_1.time_ < var_640_0 + var_640_10 then
				arg_637_1.typewritter.percent = (arg_637_1.time_ - var_640_0) / var_640_10

				arg_637_1.typewritter:SetDirty()
			end

			if arg_637_1.time_ >= var_640_0 + var_640_10 and arg_637_1.time_ < var_640_0 + var_640_10 + arg_640_0 then
				arg_637_1.typewritter.percent = 1

				arg_637_1.typewritter:SetDirty()
				arg_637_1:ShowNextGo(true)
			end
		end
	end,
	Play411121151 = function(arg_641_0, arg_641_1)
		arg_641_1.time_ = 0
		arg_641_1.frameCnt_ = 0
		arg_641_1.state_ = "playing"
		arg_641_1.curTalkId_ = 411121151
		arg_641_1.duration_ = 9.1

		local var_641_0 = {
			zh = 6.633,
			ja = 9.1
		}
		local var_641_1 = manager.audio:GetLocalizationFlag()

		if var_641_0[var_641_1] ~= nil then
			arg_641_1.duration_ = var_641_0[var_641_1]
		end

		SetActive(arg_641_1.tipsGo_, false)

		function arg_641_1.onSingleLineFinish_()
			arg_641_1.onSingleLineUpdate_ = nil
			arg_641_1.onSingleLineFinish_ = nil
			arg_641_1.state_ = "waiting"
		end

		function arg_641_1.playNext_(arg_643_0)
			if arg_643_0 == 1 then
				arg_641_0:Play411121152(arg_641_1)
			end
		end

		function arg_641_1.onSingleLineUpdate_(arg_644_0)
			local var_644_0 = arg_641_1.actors_["10014ui_story"].transform
			local var_644_1 = 0

			if var_644_1 < arg_641_1.time_ and arg_641_1.time_ <= var_644_1 + arg_644_0 then
				arg_641_1.var_.moveOldPos10014ui_story = var_644_0.localPosition
			end

			local var_644_2 = 0.001

			if var_644_1 <= arg_641_1.time_ and arg_641_1.time_ < var_644_1 + var_644_2 then
				local var_644_3 = (arg_641_1.time_ - var_644_1) / var_644_2
				local var_644_4 = Vector3.New(0, -1.06, -6.2)

				var_644_0.localPosition = Vector3.Lerp(arg_641_1.var_.moveOldPos10014ui_story, var_644_4, var_644_3)

				local var_644_5 = manager.ui.mainCamera.transform.position - var_644_0.position

				var_644_0.forward = Vector3.New(var_644_5.x, var_644_5.y, var_644_5.z)

				local var_644_6 = var_644_0.localEulerAngles

				var_644_6.z = 0
				var_644_6.x = 0
				var_644_0.localEulerAngles = var_644_6
			end

			if arg_641_1.time_ >= var_644_1 + var_644_2 and arg_641_1.time_ < var_644_1 + var_644_2 + arg_644_0 then
				var_644_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_644_7 = manager.ui.mainCamera.transform.position - var_644_0.position

				var_644_0.forward = Vector3.New(var_644_7.x, var_644_7.y, var_644_7.z)

				local var_644_8 = var_644_0.localEulerAngles

				var_644_8.z = 0
				var_644_8.x = 0
				var_644_0.localEulerAngles = var_644_8
			end

			local var_644_9 = arg_641_1.actors_["10014ui_story"]
			local var_644_10 = 0

			if var_644_10 < arg_641_1.time_ and arg_641_1.time_ <= var_644_10 + arg_644_0 and arg_641_1.var_.characterEffect10014ui_story == nil then
				arg_641_1.var_.characterEffect10014ui_story = var_644_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_644_11 = 0.200000002980232

			if var_644_10 <= arg_641_1.time_ and arg_641_1.time_ < var_644_10 + var_644_11 then
				local var_644_12 = (arg_641_1.time_ - var_644_10) / var_644_11

				if arg_641_1.var_.characterEffect10014ui_story then
					arg_641_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_641_1.time_ >= var_644_10 + var_644_11 and arg_641_1.time_ < var_644_10 + var_644_11 + arg_644_0 and arg_641_1.var_.characterEffect10014ui_story then
				arg_641_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_644_13 = 0

			if var_644_13 < arg_641_1.time_ and arg_641_1.time_ <= var_644_13 + arg_644_0 then
				arg_641_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_2")
			end

			local var_644_14 = 0

			if var_644_14 < arg_641_1.time_ and arg_641_1.time_ <= var_644_14 + arg_644_0 then
				arg_641_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_644_15 = 0
			local var_644_16 = 0.825

			if var_644_15 < arg_641_1.time_ and arg_641_1.time_ <= var_644_15 + arg_644_0 then
				arg_641_1.talkMaxDuration = 0
				arg_641_1.dialogCg_.alpha = 1

				arg_641_1.dialog_:SetActive(true)
				SetActive(arg_641_1.leftNameGo_, true)

				local var_644_17 = arg_641_1:FormatText(StoryNameCfg[264].name)

				arg_641_1.leftNameTxt_.text = var_644_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_641_1.leftNameTxt_.transform)

				arg_641_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_641_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_641_1:RecordName(arg_641_1.leftNameTxt_.text)
				SetActive(arg_641_1.iconTrs_.gameObject, false)
				arg_641_1.callingController_:SetSelectedState("normal")

				local var_644_18 = arg_641_1:GetWordFromCfg(411121151)
				local var_644_19 = arg_641_1:FormatText(var_644_18.content)

				arg_641_1.text_.text = var_644_19

				LuaForUtil.ClearLinePrefixSymbol(arg_641_1.text_)

				local var_644_20 = 33
				local var_644_21 = utf8.len(var_644_19)
				local var_644_22 = var_644_20 <= 0 and var_644_16 or var_644_16 * (var_644_21 / var_644_20)

				if var_644_22 > 0 and var_644_16 < var_644_22 then
					arg_641_1.talkMaxDuration = var_644_22

					if var_644_22 + var_644_15 > arg_641_1.duration_ then
						arg_641_1.duration_ = var_644_22 + var_644_15
					end
				end

				arg_641_1.text_.text = var_644_19
				arg_641_1.typewritter.percent = 0

				arg_641_1.typewritter:SetDirty()
				arg_641_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121151", "story_v_out_411121.awb") ~= 0 then
					local var_644_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121151", "story_v_out_411121.awb") / 1000

					if var_644_23 + var_644_15 > arg_641_1.duration_ then
						arg_641_1.duration_ = var_644_23 + var_644_15
					end

					if var_644_18.prefab_name ~= "" and arg_641_1.actors_[var_644_18.prefab_name] ~= nil then
						local var_644_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_641_1.actors_[var_644_18.prefab_name].transform, "story_v_out_411121", "411121151", "story_v_out_411121.awb")

						arg_641_1:RecordAudio("411121151", var_644_24)
						arg_641_1:RecordAudio("411121151", var_644_24)
					else
						arg_641_1:AudioAction("play", "voice", "story_v_out_411121", "411121151", "story_v_out_411121.awb")
					end

					arg_641_1:RecordHistoryTalkVoice("story_v_out_411121", "411121151", "story_v_out_411121.awb")
				end

				arg_641_1:RecordContent(arg_641_1.text_.text)
			end

			local var_644_25 = math.max(var_644_16, arg_641_1.talkMaxDuration)

			if var_644_15 <= arg_641_1.time_ and arg_641_1.time_ < var_644_15 + var_644_25 then
				arg_641_1.typewritter.percent = (arg_641_1.time_ - var_644_15) / var_644_25

				arg_641_1.typewritter:SetDirty()
			end

			if arg_641_1.time_ >= var_644_15 + var_644_25 and arg_641_1.time_ < var_644_15 + var_644_25 + arg_644_0 then
				arg_641_1.typewritter.percent = 1

				arg_641_1.typewritter:SetDirty()
				arg_641_1:ShowNextGo(true)
			end
		end
	end,
	Play411121152 = function(arg_645_0, arg_645_1)
		arg_645_1.time_ = 0
		arg_645_1.frameCnt_ = 0
		arg_645_1.state_ = "playing"
		arg_645_1.curTalkId_ = 411121152
		arg_645_1.duration_ = 4.266

		local var_645_0 = {
			zh = 4.166,
			ja = 4.266
		}
		local var_645_1 = manager.audio:GetLocalizationFlag()

		if var_645_0[var_645_1] ~= nil then
			arg_645_1.duration_ = var_645_0[var_645_1]
		end

		SetActive(arg_645_1.tipsGo_, false)

		function arg_645_1.onSingleLineFinish_()
			arg_645_1.onSingleLineUpdate_ = nil
			arg_645_1.onSingleLineFinish_ = nil
			arg_645_1.state_ = "waiting"
		end

		function arg_645_1.playNext_(arg_647_0)
			if arg_647_0 == 1 then
				arg_645_0:Play411121153(arg_645_1)
			end
		end

		function arg_645_1.onSingleLineUpdate_(arg_648_0)
			local var_648_0 = arg_645_1.actors_["10014ui_story"]
			local var_648_1 = 0

			if var_648_1 < arg_645_1.time_ and arg_645_1.time_ <= var_648_1 + arg_648_0 and arg_645_1.var_.characterEffect10014ui_story == nil then
				arg_645_1.var_.characterEffect10014ui_story = var_648_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_648_2 = 0.200000002980232

			if var_648_1 <= arg_645_1.time_ and arg_645_1.time_ < var_648_1 + var_648_2 then
				local var_648_3 = (arg_645_1.time_ - var_648_1) / var_648_2

				if arg_645_1.var_.characterEffect10014ui_story then
					local var_648_4 = Mathf.Lerp(0, 0.5, var_648_3)

					arg_645_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_645_1.var_.characterEffect10014ui_story.fillRatio = var_648_4
				end
			end

			if arg_645_1.time_ >= var_648_1 + var_648_2 and arg_645_1.time_ < var_648_1 + var_648_2 + arg_648_0 and arg_645_1.var_.characterEffect10014ui_story then
				local var_648_5 = 0.5

				arg_645_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_645_1.var_.characterEffect10014ui_story.fillRatio = var_648_5
			end

			local var_648_6 = 0
			local var_648_7 = 0.275

			if var_648_6 < arg_645_1.time_ and arg_645_1.time_ <= var_648_6 + arg_648_0 then
				arg_645_1.talkMaxDuration = 0
				arg_645_1.dialogCg_.alpha = 1

				arg_645_1.dialog_:SetActive(true)
				SetActive(arg_645_1.leftNameGo_, true)

				local var_648_8 = arg_645_1:FormatText(StoryNameCfg[670].name)

				arg_645_1.leftNameTxt_.text = var_648_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_645_1.leftNameTxt_.transform)

				arg_645_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_645_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_645_1:RecordName(arg_645_1.leftNameTxt_.text)
				SetActive(arg_645_1.iconTrs_.gameObject, true)
				arg_645_1.iconController_:SetSelectedState("hero")

				arg_645_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_645_1.callingController_:SetSelectedState("normal")

				local var_648_9 = arg_645_1:GetWordFromCfg(411121152)
				local var_648_10 = arg_645_1:FormatText(var_648_9.content)

				arg_645_1.text_.text = var_648_10

				LuaForUtil.ClearLinePrefixSymbol(arg_645_1.text_)

				local var_648_11 = 11
				local var_648_12 = utf8.len(var_648_10)
				local var_648_13 = var_648_11 <= 0 and var_648_7 or var_648_7 * (var_648_12 / var_648_11)

				if var_648_13 > 0 and var_648_7 < var_648_13 then
					arg_645_1.talkMaxDuration = var_648_13

					if var_648_13 + var_648_6 > arg_645_1.duration_ then
						arg_645_1.duration_ = var_648_13 + var_648_6
					end
				end

				arg_645_1.text_.text = var_648_10
				arg_645_1.typewritter.percent = 0

				arg_645_1.typewritter:SetDirty()
				arg_645_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121152", "story_v_out_411121.awb") ~= 0 then
					local var_648_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121152", "story_v_out_411121.awb") / 1000

					if var_648_14 + var_648_6 > arg_645_1.duration_ then
						arg_645_1.duration_ = var_648_14 + var_648_6
					end

					if var_648_9.prefab_name ~= "" and arg_645_1.actors_[var_648_9.prefab_name] ~= nil then
						local var_648_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_645_1.actors_[var_648_9.prefab_name].transform, "story_v_out_411121", "411121152", "story_v_out_411121.awb")

						arg_645_1:RecordAudio("411121152", var_648_15)
						arg_645_1:RecordAudio("411121152", var_648_15)
					else
						arg_645_1:AudioAction("play", "voice", "story_v_out_411121", "411121152", "story_v_out_411121.awb")
					end

					arg_645_1:RecordHistoryTalkVoice("story_v_out_411121", "411121152", "story_v_out_411121.awb")
				end

				arg_645_1:RecordContent(arg_645_1.text_.text)
			end

			local var_648_16 = math.max(var_648_7, arg_645_1.talkMaxDuration)

			if var_648_6 <= arg_645_1.time_ and arg_645_1.time_ < var_648_6 + var_648_16 then
				arg_645_1.typewritter.percent = (arg_645_1.time_ - var_648_6) / var_648_16

				arg_645_1.typewritter:SetDirty()
			end

			if arg_645_1.time_ >= var_648_6 + var_648_16 and arg_645_1.time_ < var_648_6 + var_648_16 + arg_648_0 then
				arg_645_1.typewritter.percent = 1

				arg_645_1.typewritter:SetDirty()
				arg_645_1:ShowNextGo(true)
			end
		end
	end,
	Play411121153 = function(arg_649_0, arg_649_1)
		arg_649_1.time_ = 0
		arg_649_1.frameCnt_ = 0
		arg_649_1.state_ = "playing"
		arg_649_1.curTalkId_ = 411121153
		arg_649_1.duration_ = 5.3

		local var_649_0 = {
			zh = 4.933,
			ja = 5.3
		}
		local var_649_1 = manager.audio:GetLocalizationFlag()

		if var_649_0[var_649_1] ~= nil then
			arg_649_1.duration_ = var_649_0[var_649_1]
		end

		SetActive(arg_649_1.tipsGo_, false)

		function arg_649_1.onSingleLineFinish_()
			arg_649_1.onSingleLineUpdate_ = nil
			arg_649_1.onSingleLineFinish_ = nil
			arg_649_1.state_ = "waiting"
		end

		function arg_649_1.playNext_(arg_651_0)
			if arg_651_0 == 1 then
				arg_649_0:Play411121154(arg_649_1)
			end
		end

		function arg_649_1.onSingleLineUpdate_(arg_652_0)
			local var_652_0 = arg_649_1.actors_["10014ui_story"].transform
			local var_652_1 = 0

			if var_652_1 < arg_649_1.time_ and arg_649_1.time_ <= var_652_1 + arg_652_0 then
				arg_649_1.var_.moveOldPos10014ui_story = var_652_0.localPosition
			end

			local var_652_2 = 0.001

			if var_652_1 <= arg_649_1.time_ and arg_649_1.time_ < var_652_1 + var_652_2 then
				local var_652_3 = (arg_649_1.time_ - var_652_1) / var_652_2
				local var_652_4 = Vector3.New(0, -1.06, -6.2)

				var_652_0.localPosition = Vector3.Lerp(arg_649_1.var_.moveOldPos10014ui_story, var_652_4, var_652_3)

				local var_652_5 = manager.ui.mainCamera.transform.position - var_652_0.position

				var_652_0.forward = Vector3.New(var_652_5.x, var_652_5.y, var_652_5.z)

				local var_652_6 = var_652_0.localEulerAngles

				var_652_6.z = 0
				var_652_6.x = 0
				var_652_0.localEulerAngles = var_652_6
			end

			if arg_649_1.time_ >= var_652_1 + var_652_2 and arg_649_1.time_ < var_652_1 + var_652_2 + arg_652_0 then
				var_652_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_652_7 = manager.ui.mainCamera.transform.position - var_652_0.position

				var_652_0.forward = Vector3.New(var_652_7.x, var_652_7.y, var_652_7.z)

				local var_652_8 = var_652_0.localEulerAngles

				var_652_8.z = 0
				var_652_8.x = 0
				var_652_0.localEulerAngles = var_652_8
			end

			local var_652_9 = arg_649_1.actors_["10014ui_story"]
			local var_652_10 = 0

			if var_652_10 < arg_649_1.time_ and arg_649_1.time_ <= var_652_10 + arg_652_0 and arg_649_1.var_.characterEffect10014ui_story == nil then
				arg_649_1.var_.characterEffect10014ui_story = var_652_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_652_11 = 0.200000002980232

			if var_652_10 <= arg_649_1.time_ and arg_649_1.time_ < var_652_10 + var_652_11 then
				local var_652_12 = (arg_649_1.time_ - var_652_10) / var_652_11

				if arg_649_1.var_.characterEffect10014ui_story then
					arg_649_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_649_1.time_ >= var_652_10 + var_652_11 and arg_649_1.time_ < var_652_10 + var_652_11 + arg_652_0 and arg_649_1.var_.characterEffect10014ui_story then
				arg_649_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_652_13 = 0
			local var_652_14 = 0.575

			if var_652_13 < arg_649_1.time_ and arg_649_1.time_ <= var_652_13 + arg_652_0 then
				arg_649_1.talkMaxDuration = 0
				arg_649_1.dialogCg_.alpha = 1

				arg_649_1.dialog_:SetActive(true)
				SetActive(arg_649_1.leftNameGo_, true)

				local var_652_15 = arg_649_1:FormatText(StoryNameCfg[264].name)

				arg_649_1.leftNameTxt_.text = var_652_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_649_1.leftNameTxt_.transform)

				arg_649_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_649_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_649_1:RecordName(arg_649_1.leftNameTxt_.text)
				SetActive(arg_649_1.iconTrs_.gameObject, false)
				arg_649_1.callingController_:SetSelectedState("normal")

				local var_652_16 = arg_649_1:GetWordFromCfg(411121153)
				local var_652_17 = arg_649_1:FormatText(var_652_16.content)

				arg_649_1.text_.text = var_652_17

				LuaForUtil.ClearLinePrefixSymbol(arg_649_1.text_)

				local var_652_18 = 23
				local var_652_19 = utf8.len(var_652_17)
				local var_652_20 = var_652_18 <= 0 and var_652_14 or var_652_14 * (var_652_19 / var_652_18)

				if var_652_20 > 0 and var_652_14 < var_652_20 then
					arg_649_1.talkMaxDuration = var_652_20

					if var_652_20 + var_652_13 > arg_649_1.duration_ then
						arg_649_1.duration_ = var_652_20 + var_652_13
					end
				end

				arg_649_1.text_.text = var_652_17
				arg_649_1.typewritter.percent = 0

				arg_649_1.typewritter:SetDirty()
				arg_649_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121153", "story_v_out_411121.awb") ~= 0 then
					local var_652_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121153", "story_v_out_411121.awb") / 1000

					if var_652_21 + var_652_13 > arg_649_1.duration_ then
						arg_649_1.duration_ = var_652_21 + var_652_13
					end

					if var_652_16.prefab_name ~= "" and arg_649_1.actors_[var_652_16.prefab_name] ~= nil then
						local var_652_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_649_1.actors_[var_652_16.prefab_name].transform, "story_v_out_411121", "411121153", "story_v_out_411121.awb")

						arg_649_1:RecordAudio("411121153", var_652_22)
						arg_649_1:RecordAudio("411121153", var_652_22)
					else
						arg_649_1:AudioAction("play", "voice", "story_v_out_411121", "411121153", "story_v_out_411121.awb")
					end

					arg_649_1:RecordHistoryTalkVoice("story_v_out_411121", "411121153", "story_v_out_411121.awb")
				end

				arg_649_1:RecordContent(arg_649_1.text_.text)
			end

			local var_652_23 = math.max(var_652_14, arg_649_1.talkMaxDuration)

			if var_652_13 <= arg_649_1.time_ and arg_649_1.time_ < var_652_13 + var_652_23 then
				arg_649_1.typewritter.percent = (arg_649_1.time_ - var_652_13) / var_652_23

				arg_649_1.typewritter:SetDirty()
			end

			if arg_649_1.time_ >= var_652_13 + var_652_23 and arg_649_1.time_ < var_652_13 + var_652_23 + arg_652_0 then
				arg_649_1.typewritter.percent = 1

				arg_649_1.typewritter:SetDirty()
				arg_649_1:ShowNextGo(true)
			end
		end
	end,
	Play411121154 = function(arg_653_0, arg_653_1)
		arg_653_1.time_ = 0
		arg_653_1.frameCnt_ = 0
		arg_653_1.state_ = "playing"
		arg_653_1.curTalkId_ = 411121154
		arg_653_1.duration_ = 1.3

		local var_653_0 = {
			zh = 1,
			ja = 1.3
		}
		local var_653_1 = manager.audio:GetLocalizationFlag()

		if var_653_0[var_653_1] ~= nil then
			arg_653_1.duration_ = var_653_0[var_653_1]
		end

		SetActive(arg_653_1.tipsGo_, false)

		function arg_653_1.onSingleLineFinish_()
			arg_653_1.onSingleLineUpdate_ = nil
			arg_653_1.onSingleLineFinish_ = nil
			arg_653_1.state_ = "waiting"
		end

		function arg_653_1.playNext_(arg_655_0)
			if arg_655_0 == 1 then
				arg_653_0:Play411121155(arg_653_1)
			end
		end

		function arg_653_1.onSingleLineUpdate_(arg_656_0)
			local var_656_0 = arg_653_1.actors_["10014ui_story"]
			local var_656_1 = 0

			if var_656_1 < arg_653_1.time_ and arg_653_1.time_ <= var_656_1 + arg_656_0 and arg_653_1.var_.characterEffect10014ui_story == nil then
				arg_653_1.var_.characterEffect10014ui_story = var_656_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_656_2 = 0.200000002980232

			if var_656_1 <= arg_653_1.time_ and arg_653_1.time_ < var_656_1 + var_656_2 then
				local var_656_3 = (arg_653_1.time_ - var_656_1) / var_656_2

				if arg_653_1.var_.characterEffect10014ui_story then
					local var_656_4 = Mathf.Lerp(0, 0.5, var_656_3)

					arg_653_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_653_1.var_.characterEffect10014ui_story.fillRatio = var_656_4
				end
			end

			if arg_653_1.time_ >= var_656_1 + var_656_2 and arg_653_1.time_ < var_656_1 + var_656_2 + arg_656_0 and arg_653_1.var_.characterEffect10014ui_story then
				local var_656_5 = 0.5

				arg_653_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_653_1.var_.characterEffect10014ui_story.fillRatio = var_656_5
			end

			local var_656_6 = 0
			local var_656_7 = 0.05

			if var_656_6 < arg_653_1.time_ and arg_653_1.time_ <= var_656_6 + arg_656_0 then
				arg_653_1.talkMaxDuration = 0
				arg_653_1.dialogCg_.alpha = 1

				arg_653_1.dialog_:SetActive(true)
				SetActive(arg_653_1.leftNameGo_, true)

				local var_656_8 = arg_653_1:FormatText(StoryNameCfg[670].name)

				arg_653_1.leftNameTxt_.text = var_656_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_653_1.leftNameTxt_.transform)

				arg_653_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_653_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_653_1:RecordName(arg_653_1.leftNameTxt_.text)
				SetActive(arg_653_1.iconTrs_.gameObject, true)
				arg_653_1.iconController_:SetSelectedState("hero")

				arg_653_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_653_1.callingController_:SetSelectedState("normal")

				local var_656_9 = arg_653_1:GetWordFromCfg(411121154)
				local var_656_10 = arg_653_1:FormatText(var_656_9.content)

				arg_653_1.text_.text = var_656_10

				LuaForUtil.ClearLinePrefixSymbol(arg_653_1.text_)

				local var_656_11 = 2
				local var_656_12 = utf8.len(var_656_10)
				local var_656_13 = var_656_11 <= 0 and var_656_7 or var_656_7 * (var_656_12 / var_656_11)

				if var_656_13 > 0 and var_656_7 < var_656_13 then
					arg_653_1.talkMaxDuration = var_656_13

					if var_656_13 + var_656_6 > arg_653_1.duration_ then
						arg_653_1.duration_ = var_656_13 + var_656_6
					end
				end

				arg_653_1.text_.text = var_656_10
				arg_653_1.typewritter.percent = 0

				arg_653_1.typewritter:SetDirty()
				arg_653_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121154", "story_v_out_411121.awb") ~= 0 then
					local var_656_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121154", "story_v_out_411121.awb") / 1000

					if var_656_14 + var_656_6 > arg_653_1.duration_ then
						arg_653_1.duration_ = var_656_14 + var_656_6
					end

					if var_656_9.prefab_name ~= "" and arg_653_1.actors_[var_656_9.prefab_name] ~= nil then
						local var_656_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_653_1.actors_[var_656_9.prefab_name].transform, "story_v_out_411121", "411121154", "story_v_out_411121.awb")

						arg_653_1:RecordAudio("411121154", var_656_15)
						arg_653_1:RecordAudio("411121154", var_656_15)
					else
						arg_653_1:AudioAction("play", "voice", "story_v_out_411121", "411121154", "story_v_out_411121.awb")
					end

					arg_653_1:RecordHistoryTalkVoice("story_v_out_411121", "411121154", "story_v_out_411121.awb")
				end

				arg_653_1:RecordContent(arg_653_1.text_.text)
			end

			local var_656_16 = math.max(var_656_7, arg_653_1.talkMaxDuration)

			if var_656_6 <= arg_653_1.time_ and arg_653_1.time_ < var_656_6 + var_656_16 then
				arg_653_1.typewritter.percent = (arg_653_1.time_ - var_656_6) / var_656_16

				arg_653_1.typewritter:SetDirty()
			end

			if arg_653_1.time_ >= var_656_6 + var_656_16 and arg_653_1.time_ < var_656_6 + var_656_16 + arg_656_0 then
				arg_653_1.typewritter.percent = 1

				arg_653_1.typewritter:SetDirty()
				arg_653_1:ShowNextGo(true)
			end
		end
	end,
	Play411121155 = function(arg_657_0, arg_657_1)
		arg_657_1.time_ = 0
		arg_657_1.frameCnt_ = 0
		arg_657_1.state_ = "playing"
		arg_657_1.curTalkId_ = 411121155
		arg_657_1.duration_ = 5

		SetActive(arg_657_1.tipsGo_, false)

		function arg_657_1.onSingleLineFinish_()
			arg_657_1.onSingleLineUpdate_ = nil
			arg_657_1.onSingleLineFinish_ = nil
			arg_657_1.state_ = "waiting"
		end

		function arg_657_1.playNext_(arg_659_0)
			if arg_659_0 == 1 then
				arg_657_0:Play411121156(arg_657_1)
			end
		end

		function arg_657_1.onSingleLineUpdate_(arg_660_0)
			local var_660_0 = arg_657_1.actors_["10071ui_story"]
			local var_660_1 = 0

			if var_660_1 < arg_657_1.time_ and arg_657_1.time_ <= var_660_1 + arg_660_0 and arg_657_1.var_.characterEffect10071ui_story == nil then
				arg_657_1.var_.characterEffect10071ui_story = var_660_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_660_2 = 0.200000002980232

			if var_660_1 <= arg_657_1.time_ and arg_657_1.time_ < var_660_1 + var_660_2 then
				local var_660_3 = (arg_657_1.time_ - var_660_1) / var_660_2

				if arg_657_1.var_.characterEffect10071ui_story then
					local var_660_4 = Mathf.Lerp(0, 0.5, var_660_3)

					arg_657_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_657_1.var_.characterEffect10071ui_story.fillRatio = var_660_4
				end
			end

			if arg_657_1.time_ >= var_660_1 + var_660_2 and arg_657_1.time_ < var_660_1 + var_660_2 + arg_660_0 and arg_657_1.var_.characterEffect10071ui_story then
				local var_660_5 = 0.5

				arg_657_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_657_1.var_.characterEffect10071ui_story.fillRatio = var_660_5
			end

			local var_660_6 = 0
			local var_660_7 = 1

			if var_660_6 < arg_657_1.time_ and arg_657_1.time_ <= var_660_6 + arg_660_0 then
				arg_657_1.talkMaxDuration = 0
				arg_657_1.dialogCg_.alpha = 1

				arg_657_1.dialog_:SetActive(true)
				SetActive(arg_657_1.leftNameGo_, false)

				arg_657_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_657_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_657_1:RecordName(arg_657_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_657_1.iconTrs_.gameObject, false)
				arg_657_1.callingController_:SetSelectedState("normal")

				local var_660_8 = arg_657_1:GetWordFromCfg(411121155)
				local var_660_9 = arg_657_1:FormatText(var_660_8.content)

				arg_657_1.text_.text = var_660_9

				LuaForUtil.ClearLinePrefixSymbol(arg_657_1.text_)

				local var_660_10 = 40
				local var_660_11 = utf8.len(var_660_9)
				local var_660_12 = var_660_10 <= 0 and var_660_7 or var_660_7 * (var_660_11 / var_660_10)

				if var_660_12 > 0 and var_660_7 < var_660_12 then
					arg_657_1.talkMaxDuration = var_660_12

					if var_660_12 + var_660_6 > arg_657_1.duration_ then
						arg_657_1.duration_ = var_660_12 + var_660_6
					end
				end

				arg_657_1.text_.text = var_660_9
				arg_657_1.typewritter.percent = 0

				arg_657_1.typewritter:SetDirty()
				arg_657_1:ShowNextGo(false)
				arg_657_1:RecordContent(arg_657_1.text_.text)
			end

			local var_660_13 = math.max(var_660_7, arg_657_1.talkMaxDuration)

			if var_660_6 <= arg_657_1.time_ and arg_657_1.time_ < var_660_6 + var_660_13 then
				arg_657_1.typewritter.percent = (arg_657_1.time_ - var_660_6) / var_660_13

				arg_657_1.typewritter:SetDirty()
			end

			if arg_657_1.time_ >= var_660_6 + var_660_13 and arg_657_1.time_ < var_660_6 + var_660_13 + arg_660_0 then
				arg_657_1.typewritter.percent = 1

				arg_657_1.typewritter:SetDirty()
				arg_657_1:ShowNextGo(true)
			end
		end
	end,
	Play411121156 = function(arg_661_0, arg_661_1)
		arg_661_1.time_ = 0
		arg_661_1.frameCnt_ = 0
		arg_661_1.state_ = "playing"
		arg_661_1.curTalkId_ = 411121156
		arg_661_1.duration_ = 4.6

		local var_661_0 = {
			zh = 3.366,
			ja = 4.6
		}
		local var_661_1 = manager.audio:GetLocalizationFlag()

		if var_661_0[var_661_1] ~= nil then
			arg_661_1.duration_ = var_661_0[var_661_1]
		end

		SetActive(arg_661_1.tipsGo_, false)

		function arg_661_1.onSingleLineFinish_()
			arg_661_1.onSingleLineUpdate_ = nil
			arg_661_1.onSingleLineFinish_ = nil
			arg_661_1.state_ = "waiting"
		end

		function arg_661_1.playNext_(arg_663_0)
			if arg_663_0 == 1 then
				arg_661_0:Play411121157(arg_661_1)
			end
		end

		function arg_661_1.onSingleLineUpdate_(arg_664_0)
			local var_664_0 = 0
			local var_664_1 = 0.25

			if var_664_0 < arg_661_1.time_ and arg_661_1.time_ <= var_664_0 + arg_664_0 then
				arg_661_1.talkMaxDuration = 0
				arg_661_1.dialogCg_.alpha = 1

				arg_661_1.dialog_:SetActive(true)
				SetActive(arg_661_1.leftNameGo_, true)

				local var_664_2 = arg_661_1:FormatText(StoryNameCfg[670].name)

				arg_661_1.leftNameTxt_.text = var_664_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_661_1.leftNameTxt_.transform)

				arg_661_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_661_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_661_1:RecordName(arg_661_1.leftNameTxt_.text)
				SetActive(arg_661_1.iconTrs_.gameObject, true)
				arg_661_1.iconController_:SetSelectedState("hero")

				arg_661_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_661_1.callingController_:SetSelectedState("normal")

				local var_664_3 = arg_661_1:GetWordFromCfg(411121156)
				local var_664_4 = arg_661_1:FormatText(var_664_3.content)

				arg_661_1.text_.text = var_664_4

				LuaForUtil.ClearLinePrefixSymbol(arg_661_1.text_)

				local var_664_5 = 10
				local var_664_6 = utf8.len(var_664_4)
				local var_664_7 = var_664_5 <= 0 and var_664_1 or var_664_1 * (var_664_6 / var_664_5)

				if var_664_7 > 0 and var_664_1 < var_664_7 then
					arg_661_1.talkMaxDuration = var_664_7

					if var_664_7 + var_664_0 > arg_661_1.duration_ then
						arg_661_1.duration_ = var_664_7 + var_664_0
					end
				end

				arg_661_1.text_.text = var_664_4
				arg_661_1.typewritter.percent = 0

				arg_661_1.typewritter:SetDirty()
				arg_661_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121156", "story_v_out_411121.awb") ~= 0 then
					local var_664_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121156", "story_v_out_411121.awb") / 1000

					if var_664_8 + var_664_0 > arg_661_1.duration_ then
						arg_661_1.duration_ = var_664_8 + var_664_0
					end

					if var_664_3.prefab_name ~= "" and arg_661_1.actors_[var_664_3.prefab_name] ~= nil then
						local var_664_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_661_1.actors_[var_664_3.prefab_name].transform, "story_v_out_411121", "411121156", "story_v_out_411121.awb")

						arg_661_1:RecordAudio("411121156", var_664_9)
						arg_661_1:RecordAudio("411121156", var_664_9)
					else
						arg_661_1:AudioAction("play", "voice", "story_v_out_411121", "411121156", "story_v_out_411121.awb")
					end

					arg_661_1:RecordHistoryTalkVoice("story_v_out_411121", "411121156", "story_v_out_411121.awb")
				end

				arg_661_1:RecordContent(arg_661_1.text_.text)
			end

			local var_664_10 = math.max(var_664_1, arg_661_1.talkMaxDuration)

			if var_664_0 <= arg_661_1.time_ and arg_661_1.time_ < var_664_0 + var_664_10 then
				arg_661_1.typewritter.percent = (arg_661_1.time_ - var_664_0) / var_664_10

				arg_661_1.typewritter:SetDirty()
			end

			if arg_661_1.time_ >= var_664_0 + var_664_10 and arg_661_1.time_ < var_664_0 + var_664_10 + arg_664_0 then
				arg_661_1.typewritter.percent = 1

				arg_661_1.typewritter:SetDirty()
				arg_661_1:ShowNextGo(true)
			end
		end
	end,
	Play411121157 = function(arg_665_0, arg_665_1)
		arg_665_1.time_ = 0
		arg_665_1.frameCnt_ = 0
		arg_665_1.state_ = "playing"
		arg_665_1.curTalkId_ = 411121157
		arg_665_1.duration_ = 9.4

		local var_665_0 = {
			zh = 9.4,
			ja = 6.8
		}
		local var_665_1 = manager.audio:GetLocalizationFlag()

		if var_665_0[var_665_1] ~= nil then
			arg_665_1.duration_ = var_665_0[var_665_1]
		end

		SetActive(arg_665_1.tipsGo_, false)

		function arg_665_1.onSingleLineFinish_()
			arg_665_1.onSingleLineUpdate_ = nil
			arg_665_1.onSingleLineFinish_ = nil
			arg_665_1.state_ = "waiting"
		end

		function arg_665_1.playNext_(arg_667_0)
			if arg_667_0 == 1 then
				arg_665_0:Play411121158(arg_665_1)
			end
		end

		function arg_665_1.onSingleLineUpdate_(arg_668_0)
			local var_668_0 = 0
			local var_668_1 = 0.75

			if var_668_0 < arg_665_1.time_ and arg_665_1.time_ <= var_668_0 + arg_668_0 then
				arg_665_1.talkMaxDuration = 0
				arg_665_1.dialogCg_.alpha = 1

				arg_665_1.dialog_:SetActive(true)
				SetActive(arg_665_1.leftNameGo_, true)

				local var_668_2 = arg_665_1:FormatText(StoryNameCfg[670].name)

				arg_665_1.leftNameTxt_.text = var_668_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_665_1.leftNameTxt_.transform)

				arg_665_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_665_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_665_1:RecordName(arg_665_1.leftNameTxt_.text)
				SetActive(arg_665_1.iconTrs_.gameObject, true)
				arg_665_1.iconController_:SetSelectedState("hero")

				arg_665_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_665_1.callingController_:SetSelectedState("normal")

				local var_668_3 = arg_665_1:GetWordFromCfg(411121157)
				local var_668_4 = arg_665_1:FormatText(var_668_3.content)

				arg_665_1.text_.text = var_668_4

				LuaForUtil.ClearLinePrefixSymbol(arg_665_1.text_)

				local var_668_5 = 30
				local var_668_6 = utf8.len(var_668_4)
				local var_668_7 = var_668_5 <= 0 and var_668_1 or var_668_1 * (var_668_6 / var_668_5)

				if var_668_7 > 0 and var_668_1 < var_668_7 then
					arg_665_1.talkMaxDuration = var_668_7

					if var_668_7 + var_668_0 > arg_665_1.duration_ then
						arg_665_1.duration_ = var_668_7 + var_668_0
					end
				end

				arg_665_1.text_.text = var_668_4
				arg_665_1.typewritter.percent = 0

				arg_665_1.typewritter:SetDirty()
				arg_665_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121157", "story_v_out_411121.awb") ~= 0 then
					local var_668_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121157", "story_v_out_411121.awb") / 1000

					if var_668_8 + var_668_0 > arg_665_1.duration_ then
						arg_665_1.duration_ = var_668_8 + var_668_0
					end

					if var_668_3.prefab_name ~= "" and arg_665_1.actors_[var_668_3.prefab_name] ~= nil then
						local var_668_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_665_1.actors_[var_668_3.prefab_name].transform, "story_v_out_411121", "411121157", "story_v_out_411121.awb")

						arg_665_1:RecordAudio("411121157", var_668_9)
						arg_665_1:RecordAudio("411121157", var_668_9)
					else
						arg_665_1:AudioAction("play", "voice", "story_v_out_411121", "411121157", "story_v_out_411121.awb")
					end

					arg_665_1:RecordHistoryTalkVoice("story_v_out_411121", "411121157", "story_v_out_411121.awb")
				end

				arg_665_1:RecordContent(arg_665_1.text_.text)
			end

			local var_668_10 = math.max(var_668_1, arg_665_1.talkMaxDuration)

			if var_668_0 <= arg_665_1.time_ and arg_665_1.time_ < var_668_0 + var_668_10 then
				arg_665_1.typewritter.percent = (arg_665_1.time_ - var_668_0) / var_668_10

				arg_665_1.typewritter:SetDirty()
			end

			if arg_665_1.time_ >= var_668_0 + var_668_10 and arg_665_1.time_ < var_668_0 + var_668_10 + arg_668_0 then
				arg_665_1.typewritter.percent = 1

				arg_665_1.typewritter:SetDirty()
				arg_665_1:ShowNextGo(true)
			end
		end
	end,
	Play411121158 = function(arg_669_0, arg_669_1)
		arg_669_1.time_ = 0
		arg_669_1.frameCnt_ = 0
		arg_669_1.state_ = "playing"
		arg_669_1.curTalkId_ = 411121158
		arg_669_1.duration_ = 4.233

		local var_669_0 = {
			zh = 4.233,
			ja = 4.1
		}
		local var_669_1 = manager.audio:GetLocalizationFlag()

		if var_669_0[var_669_1] ~= nil then
			arg_669_1.duration_ = var_669_0[var_669_1]
		end

		SetActive(arg_669_1.tipsGo_, false)

		function arg_669_1.onSingleLineFinish_()
			arg_669_1.onSingleLineUpdate_ = nil
			arg_669_1.onSingleLineFinish_ = nil
			arg_669_1.state_ = "waiting"
		end

		function arg_669_1.playNext_(arg_671_0)
			if arg_671_0 == 1 then
				arg_669_0:Play411121159(arg_669_1)
			end
		end

		function arg_669_1.onSingleLineUpdate_(arg_672_0)
			local var_672_0 = 0
			local var_672_1 = 0.45

			if var_672_0 < arg_669_1.time_ and arg_669_1.time_ <= var_672_0 + arg_672_0 then
				arg_669_1.talkMaxDuration = 0
				arg_669_1.dialogCg_.alpha = 1

				arg_669_1.dialog_:SetActive(true)
				SetActive(arg_669_1.leftNameGo_, true)

				local var_672_2 = arg_669_1:FormatText(StoryNameCfg[670].name)

				arg_669_1.leftNameTxt_.text = var_672_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_669_1.leftNameTxt_.transform)

				arg_669_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_669_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_669_1:RecordName(arg_669_1.leftNameTxt_.text)
				SetActive(arg_669_1.iconTrs_.gameObject, true)
				arg_669_1.iconController_:SetSelectedState("hero")

				arg_669_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_669_1.callingController_:SetSelectedState("normal")

				local var_672_3 = arg_669_1:GetWordFromCfg(411121158)
				local var_672_4 = arg_669_1:FormatText(var_672_3.content)

				arg_669_1.text_.text = var_672_4

				LuaForUtil.ClearLinePrefixSymbol(arg_669_1.text_)

				local var_672_5 = 18
				local var_672_6 = utf8.len(var_672_4)
				local var_672_7 = var_672_5 <= 0 and var_672_1 or var_672_1 * (var_672_6 / var_672_5)

				if var_672_7 > 0 and var_672_1 < var_672_7 then
					arg_669_1.talkMaxDuration = var_672_7

					if var_672_7 + var_672_0 > arg_669_1.duration_ then
						arg_669_1.duration_ = var_672_7 + var_672_0
					end
				end

				arg_669_1.text_.text = var_672_4
				arg_669_1.typewritter.percent = 0

				arg_669_1.typewritter:SetDirty()
				arg_669_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121158", "story_v_out_411121.awb") ~= 0 then
					local var_672_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121158", "story_v_out_411121.awb") / 1000

					if var_672_8 + var_672_0 > arg_669_1.duration_ then
						arg_669_1.duration_ = var_672_8 + var_672_0
					end

					if var_672_3.prefab_name ~= "" and arg_669_1.actors_[var_672_3.prefab_name] ~= nil then
						local var_672_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_669_1.actors_[var_672_3.prefab_name].transform, "story_v_out_411121", "411121158", "story_v_out_411121.awb")

						arg_669_1:RecordAudio("411121158", var_672_9)
						arg_669_1:RecordAudio("411121158", var_672_9)
					else
						arg_669_1:AudioAction("play", "voice", "story_v_out_411121", "411121158", "story_v_out_411121.awb")
					end

					arg_669_1:RecordHistoryTalkVoice("story_v_out_411121", "411121158", "story_v_out_411121.awb")
				end

				arg_669_1:RecordContent(arg_669_1.text_.text)
			end

			local var_672_10 = math.max(var_672_1, arg_669_1.talkMaxDuration)

			if var_672_0 <= arg_669_1.time_ and arg_669_1.time_ < var_672_0 + var_672_10 then
				arg_669_1.typewritter.percent = (arg_669_1.time_ - var_672_0) / var_672_10

				arg_669_1.typewritter:SetDirty()
			end

			if arg_669_1.time_ >= var_672_0 + var_672_10 and arg_669_1.time_ < var_672_0 + var_672_10 + arg_672_0 then
				arg_669_1.typewritter.percent = 1

				arg_669_1.typewritter:SetDirty()
				arg_669_1:ShowNextGo(true)
			end
		end
	end,
	Play411121159 = function(arg_673_0, arg_673_1)
		arg_673_1.time_ = 0
		arg_673_1.frameCnt_ = 0
		arg_673_1.state_ = "playing"
		arg_673_1.curTalkId_ = 411121159
		arg_673_1.duration_ = 8.5

		local var_673_0 = {
			zh = 8.5,
			ja = 8.366
		}
		local var_673_1 = manager.audio:GetLocalizationFlag()

		if var_673_0[var_673_1] ~= nil then
			arg_673_1.duration_ = var_673_0[var_673_1]
		end

		SetActive(arg_673_1.tipsGo_, false)

		function arg_673_1.onSingleLineFinish_()
			arg_673_1.onSingleLineUpdate_ = nil
			arg_673_1.onSingleLineFinish_ = nil
			arg_673_1.state_ = "waiting"
		end

		function arg_673_1.playNext_(arg_675_0)
			if arg_675_0 == 1 then
				arg_673_0:Play411121160(arg_673_1)
			end
		end

		function arg_673_1.onSingleLineUpdate_(arg_676_0)
			local var_676_0 = 0
			local var_676_1 = 0.825

			if var_676_0 < arg_673_1.time_ and arg_673_1.time_ <= var_676_0 + arg_676_0 then
				arg_673_1.talkMaxDuration = 0
				arg_673_1.dialogCg_.alpha = 1

				arg_673_1.dialog_:SetActive(true)
				SetActive(arg_673_1.leftNameGo_, true)

				local var_676_2 = arg_673_1:FormatText(StoryNameCfg[670].name)

				arg_673_1.leftNameTxt_.text = var_676_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_673_1.leftNameTxt_.transform)

				arg_673_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_673_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_673_1:RecordName(arg_673_1.leftNameTxt_.text)
				SetActive(arg_673_1.iconTrs_.gameObject, true)
				arg_673_1.iconController_:SetSelectedState("hero")

				arg_673_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_673_1.callingController_:SetSelectedState("normal")

				local var_676_3 = arg_673_1:GetWordFromCfg(411121159)
				local var_676_4 = arg_673_1:FormatText(var_676_3.content)

				arg_673_1.text_.text = var_676_4

				LuaForUtil.ClearLinePrefixSymbol(arg_673_1.text_)

				local var_676_5 = 33
				local var_676_6 = utf8.len(var_676_4)
				local var_676_7 = var_676_5 <= 0 and var_676_1 or var_676_1 * (var_676_6 / var_676_5)

				if var_676_7 > 0 and var_676_1 < var_676_7 then
					arg_673_1.talkMaxDuration = var_676_7

					if var_676_7 + var_676_0 > arg_673_1.duration_ then
						arg_673_1.duration_ = var_676_7 + var_676_0
					end
				end

				arg_673_1.text_.text = var_676_4
				arg_673_1.typewritter.percent = 0

				arg_673_1.typewritter:SetDirty()
				arg_673_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121159", "story_v_out_411121.awb") ~= 0 then
					local var_676_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121159", "story_v_out_411121.awb") / 1000

					if var_676_8 + var_676_0 > arg_673_1.duration_ then
						arg_673_1.duration_ = var_676_8 + var_676_0
					end

					if var_676_3.prefab_name ~= "" and arg_673_1.actors_[var_676_3.prefab_name] ~= nil then
						local var_676_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_673_1.actors_[var_676_3.prefab_name].transform, "story_v_out_411121", "411121159", "story_v_out_411121.awb")

						arg_673_1:RecordAudio("411121159", var_676_9)
						arg_673_1:RecordAudio("411121159", var_676_9)
					else
						arg_673_1:AudioAction("play", "voice", "story_v_out_411121", "411121159", "story_v_out_411121.awb")
					end

					arg_673_1:RecordHistoryTalkVoice("story_v_out_411121", "411121159", "story_v_out_411121.awb")
				end

				arg_673_1:RecordContent(arg_673_1.text_.text)
			end

			local var_676_10 = math.max(var_676_1, arg_673_1.talkMaxDuration)

			if var_676_0 <= arg_673_1.time_ and arg_673_1.time_ < var_676_0 + var_676_10 then
				arg_673_1.typewritter.percent = (arg_673_1.time_ - var_676_0) / var_676_10

				arg_673_1.typewritter:SetDirty()
			end

			if arg_673_1.time_ >= var_676_0 + var_676_10 and arg_673_1.time_ < var_676_0 + var_676_10 + arg_676_0 then
				arg_673_1.typewritter.percent = 1

				arg_673_1.typewritter:SetDirty()
				arg_673_1:ShowNextGo(true)
			end
		end
	end,
	Play411121160 = function(arg_677_0, arg_677_1)
		arg_677_1.time_ = 0
		arg_677_1.frameCnt_ = 0
		arg_677_1.state_ = "playing"
		arg_677_1.curTalkId_ = 411121160
		arg_677_1.duration_ = 8.433

		local var_677_0 = {
			zh = 8.433,
			ja = 4.933
		}
		local var_677_1 = manager.audio:GetLocalizationFlag()

		if var_677_0[var_677_1] ~= nil then
			arg_677_1.duration_ = var_677_0[var_677_1]
		end

		SetActive(arg_677_1.tipsGo_, false)

		function arg_677_1.onSingleLineFinish_()
			arg_677_1.onSingleLineUpdate_ = nil
			arg_677_1.onSingleLineFinish_ = nil
			arg_677_1.state_ = "waiting"
		end

		function arg_677_1.playNext_(arg_679_0)
			if arg_679_0 == 1 then
				arg_677_0:Play411121161(arg_677_1)
			end
		end

		function arg_677_1.onSingleLineUpdate_(arg_680_0)
			local var_680_0 = 0
			local var_680_1 = 0.525

			if var_680_0 < arg_677_1.time_ and arg_677_1.time_ <= var_680_0 + arg_680_0 then
				arg_677_1.talkMaxDuration = 0
				arg_677_1.dialogCg_.alpha = 1

				arg_677_1.dialog_:SetActive(true)
				SetActive(arg_677_1.leftNameGo_, true)

				local var_680_2 = arg_677_1:FormatText(StoryNameCfg[670].name)

				arg_677_1.leftNameTxt_.text = var_680_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_677_1.leftNameTxt_.transform)

				arg_677_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_677_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_677_1:RecordName(arg_677_1.leftNameTxt_.text)
				SetActive(arg_677_1.iconTrs_.gameObject, true)
				arg_677_1.iconController_:SetSelectedState("hero")

				arg_677_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_677_1.callingController_:SetSelectedState("normal")

				local var_680_3 = arg_677_1:GetWordFromCfg(411121160)
				local var_680_4 = arg_677_1:FormatText(var_680_3.content)

				arg_677_1.text_.text = var_680_4

				LuaForUtil.ClearLinePrefixSymbol(arg_677_1.text_)

				local var_680_5 = 21
				local var_680_6 = utf8.len(var_680_4)
				local var_680_7 = var_680_5 <= 0 and var_680_1 or var_680_1 * (var_680_6 / var_680_5)

				if var_680_7 > 0 and var_680_1 < var_680_7 then
					arg_677_1.talkMaxDuration = var_680_7

					if var_680_7 + var_680_0 > arg_677_1.duration_ then
						arg_677_1.duration_ = var_680_7 + var_680_0
					end
				end

				arg_677_1.text_.text = var_680_4
				arg_677_1.typewritter.percent = 0

				arg_677_1.typewritter:SetDirty()
				arg_677_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121160", "story_v_out_411121.awb") ~= 0 then
					local var_680_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121160", "story_v_out_411121.awb") / 1000

					if var_680_8 + var_680_0 > arg_677_1.duration_ then
						arg_677_1.duration_ = var_680_8 + var_680_0
					end

					if var_680_3.prefab_name ~= "" and arg_677_1.actors_[var_680_3.prefab_name] ~= nil then
						local var_680_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_677_1.actors_[var_680_3.prefab_name].transform, "story_v_out_411121", "411121160", "story_v_out_411121.awb")

						arg_677_1:RecordAudio("411121160", var_680_9)
						arg_677_1:RecordAudio("411121160", var_680_9)
					else
						arg_677_1:AudioAction("play", "voice", "story_v_out_411121", "411121160", "story_v_out_411121.awb")
					end

					arg_677_1:RecordHistoryTalkVoice("story_v_out_411121", "411121160", "story_v_out_411121.awb")
				end

				arg_677_1:RecordContent(arg_677_1.text_.text)
			end

			local var_680_10 = math.max(var_680_1, arg_677_1.talkMaxDuration)

			if var_680_0 <= arg_677_1.time_ and arg_677_1.time_ < var_680_0 + var_680_10 then
				arg_677_1.typewritter.percent = (arg_677_1.time_ - var_680_0) / var_680_10

				arg_677_1.typewritter:SetDirty()
			end

			if arg_677_1.time_ >= var_680_0 + var_680_10 and arg_677_1.time_ < var_680_0 + var_680_10 + arg_680_0 then
				arg_677_1.typewritter.percent = 1

				arg_677_1.typewritter:SetDirty()
				arg_677_1:ShowNextGo(true)
			end
		end
	end,
	Play411121161 = function(arg_681_0, arg_681_1)
		arg_681_1.time_ = 0
		arg_681_1.frameCnt_ = 0
		arg_681_1.state_ = "playing"
		arg_681_1.curTalkId_ = 411121161
		arg_681_1.duration_ = 5.5

		local var_681_0 = {
			zh = 4.766,
			ja = 5.5
		}
		local var_681_1 = manager.audio:GetLocalizationFlag()

		if var_681_0[var_681_1] ~= nil then
			arg_681_1.duration_ = var_681_0[var_681_1]
		end

		SetActive(arg_681_1.tipsGo_, false)

		function arg_681_1.onSingleLineFinish_()
			arg_681_1.onSingleLineUpdate_ = nil
			arg_681_1.onSingleLineFinish_ = nil
			arg_681_1.state_ = "waiting"
		end

		function arg_681_1.playNext_(arg_683_0)
			if arg_683_0 == 1 then
				arg_681_0:Play411121162(arg_681_1)
			end
		end

		function arg_681_1.onSingleLineUpdate_(arg_684_0)
			local var_684_0 = arg_681_1.actors_["10014ui_story"]
			local var_684_1 = 0

			if var_684_1 < arg_681_1.time_ and arg_681_1.time_ <= var_684_1 + arg_684_0 and arg_681_1.var_.characterEffect10014ui_story == nil then
				arg_681_1.var_.characterEffect10014ui_story = var_684_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_684_2 = 0.200000002980232

			if var_684_1 <= arg_681_1.time_ and arg_681_1.time_ < var_684_1 + var_684_2 then
				local var_684_3 = (arg_681_1.time_ - var_684_1) / var_684_2

				if arg_681_1.var_.characterEffect10014ui_story then
					arg_681_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_681_1.time_ >= var_684_1 + var_684_2 and arg_681_1.time_ < var_684_1 + var_684_2 + arg_684_0 and arg_681_1.var_.characterEffect10014ui_story then
				arg_681_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_684_4 = 0
			local var_684_5 = 0.35

			if var_684_4 < arg_681_1.time_ and arg_681_1.time_ <= var_684_4 + arg_684_0 then
				arg_681_1.talkMaxDuration = 0
				arg_681_1.dialogCg_.alpha = 1

				arg_681_1.dialog_:SetActive(true)
				SetActive(arg_681_1.leftNameGo_, true)

				local var_684_6 = arg_681_1:FormatText(StoryNameCfg[264].name)

				arg_681_1.leftNameTxt_.text = var_684_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_681_1.leftNameTxt_.transform)

				arg_681_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_681_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_681_1:RecordName(arg_681_1.leftNameTxt_.text)
				SetActive(arg_681_1.iconTrs_.gameObject, false)
				arg_681_1.callingController_:SetSelectedState("normal")

				local var_684_7 = arg_681_1:GetWordFromCfg(411121161)
				local var_684_8 = arg_681_1:FormatText(var_684_7.content)

				arg_681_1.text_.text = var_684_8

				LuaForUtil.ClearLinePrefixSymbol(arg_681_1.text_)

				local var_684_9 = 14
				local var_684_10 = utf8.len(var_684_8)
				local var_684_11 = var_684_9 <= 0 and var_684_5 or var_684_5 * (var_684_10 / var_684_9)

				if var_684_11 > 0 and var_684_5 < var_684_11 then
					arg_681_1.talkMaxDuration = var_684_11

					if var_684_11 + var_684_4 > arg_681_1.duration_ then
						arg_681_1.duration_ = var_684_11 + var_684_4
					end
				end

				arg_681_1.text_.text = var_684_8
				arg_681_1.typewritter.percent = 0

				arg_681_1.typewritter:SetDirty()
				arg_681_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121161", "story_v_out_411121.awb") ~= 0 then
					local var_684_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121161", "story_v_out_411121.awb") / 1000

					if var_684_12 + var_684_4 > arg_681_1.duration_ then
						arg_681_1.duration_ = var_684_12 + var_684_4
					end

					if var_684_7.prefab_name ~= "" and arg_681_1.actors_[var_684_7.prefab_name] ~= nil then
						local var_684_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_681_1.actors_[var_684_7.prefab_name].transform, "story_v_out_411121", "411121161", "story_v_out_411121.awb")

						arg_681_1:RecordAudio("411121161", var_684_13)
						arg_681_1:RecordAudio("411121161", var_684_13)
					else
						arg_681_1:AudioAction("play", "voice", "story_v_out_411121", "411121161", "story_v_out_411121.awb")
					end

					arg_681_1:RecordHistoryTalkVoice("story_v_out_411121", "411121161", "story_v_out_411121.awb")
				end

				arg_681_1:RecordContent(arg_681_1.text_.text)
			end

			local var_684_14 = math.max(var_684_5, arg_681_1.talkMaxDuration)

			if var_684_4 <= arg_681_1.time_ and arg_681_1.time_ < var_684_4 + var_684_14 then
				arg_681_1.typewritter.percent = (arg_681_1.time_ - var_684_4) / var_684_14

				arg_681_1.typewritter:SetDirty()
			end

			if arg_681_1.time_ >= var_684_4 + var_684_14 and arg_681_1.time_ < var_684_4 + var_684_14 + arg_684_0 then
				arg_681_1.typewritter.percent = 1

				arg_681_1.typewritter:SetDirty()
				arg_681_1:ShowNextGo(true)
			end
		end
	end,
	Play411121162 = function(arg_685_0, arg_685_1)
		arg_685_1.time_ = 0
		arg_685_1.frameCnt_ = 0
		arg_685_1.state_ = "playing"
		arg_685_1.curTalkId_ = 411121162
		arg_685_1.duration_ = 6.7

		local var_685_0 = {
			zh = 6.7,
			ja = 5.433
		}
		local var_685_1 = manager.audio:GetLocalizationFlag()

		if var_685_0[var_685_1] ~= nil then
			arg_685_1.duration_ = var_685_0[var_685_1]
		end

		SetActive(arg_685_1.tipsGo_, false)

		function arg_685_1.onSingleLineFinish_()
			arg_685_1.onSingleLineUpdate_ = nil
			arg_685_1.onSingleLineFinish_ = nil
			arg_685_1.state_ = "waiting"
		end

		function arg_685_1.playNext_(arg_687_0)
			if arg_687_0 == 1 then
				arg_685_0:Play411121163(arg_685_1)
			end
		end

		function arg_685_1.onSingleLineUpdate_(arg_688_0)
			local var_688_0 = arg_685_1.actors_["10014ui_story"].transform
			local var_688_1 = 0

			if var_688_1 < arg_685_1.time_ and arg_685_1.time_ <= var_688_1 + arg_688_0 then
				arg_685_1.var_.moveOldPos10014ui_story = var_688_0.localPosition
			end

			local var_688_2 = 0.001

			if var_688_1 <= arg_685_1.time_ and arg_685_1.time_ < var_688_1 + var_688_2 then
				local var_688_3 = (arg_685_1.time_ - var_688_1) / var_688_2
				local var_688_4 = Vector3.New(0, -1.06, -6.2)

				var_688_0.localPosition = Vector3.Lerp(arg_685_1.var_.moveOldPos10014ui_story, var_688_4, var_688_3)

				local var_688_5 = manager.ui.mainCamera.transform.position - var_688_0.position

				var_688_0.forward = Vector3.New(var_688_5.x, var_688_5.y, var_688_5.z)

				local var_688_6 = var_688_0.localEulerAngles

				var_688_6.z = 0
				var_688_6.x = 0
				var_688_0.localEulerAngles = var_688_6
			end

			if arg_685_1.time_ >= var_688_1 + var_688_2 and arg_685_1.time_ < var_688_1 + var_688_2 + arg_688_0 then
				var_688_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_688_7 = manager.ui.mainCamera.transform.position - var_688_0.position

				var_688_0.forward = Vector3.New(var_688_7.x, var_688_7.y, var_688_7.z)

				local var_688_8 = var_688_0.localEulerAngles

				var_688_8.z = 0
				var_688_8.x = 0
				var_688_0.localEulerAngles = var_688_8
			end

			local var_688_9 = arg_685_1.actors_["10014ui_story"]
			local var_688_10 = 0

			if var_688_10 < arg_685_1.time_ and arg_685_1.time_ <= var_688_10 + arg_688_0 and arg_685_1.var_.characterEffect10014ui_story == nil then
				arg_685_1.var_.characterEffect10014ui_story = var_688_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_688_11 = 0.200000002980232

			if var_688_10 <= arg_685_1.time_ and arg_685_1.time_ < var_688_10 + var_688_11 then
				local var_688_12 = (arg_685_1.time_ - var_688_10) / var_688_11

				if arg_685_1.var_.characterEffect10014ui_story then
					arg_685_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_685_1.time_ >= var_688_10 + var_688_11 and arg_685_1.time_ < var_688_10 + var_688_11 + arg_688_0 and arg_685_1.var_.characterEffect10014ui_story then
				arg_685_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_688_13 = 0

			if var_688_13 < arg_685_1.time_ and arg_685_1.time_ <= var_688_13 + arg_688_0 then
				arg_685_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_1")
			end

			local var_688_14 = 0

			if var_688_14 < arg_685_1.time_ and arg_685_1.time_ <= var_688_14 + arg_688_0 then
				arg_685_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_688_15 = 0
			local var_688_16 = 0.675

			if var_688_15 < arg_685_1.time_ and arg_685_1.time_ <= var_688_15 + arg_688_0 then
				arg_685_1.talkMaxDuration = 0
				arg_685_1.dialogCg_.alpha = 1

				arg_685_1.dialog_:SetActive(true)
				SetActive(arg_685_1.leftNameGo_, true)

				local var_688_17 = arg_685_1:FormatText(StoryNameCfg[264].name)

				arg_685_1.leftNameTxt_.text = var_688_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_685_1.leftNameTxt_.transform)

				arg_685_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_685_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_685_1:RecordName(arg_685_1.leftNameTxt_.text)
				SetActive(arg_685_1.iconTrs_.gameObject, false)
				arg_685_1.callingController_:SetSelectedState("normal")

				local var_688_18 = arg_685_1:GetWordFromCfg(411121162)
				local var_688_19 = arg_685_1:FormatText(var_688_18.content)

				arg_685_1.text_.text = var_688_19

				LuaForUtil.ClearLinePrefixSymbol(arg_685_1.text_)

				local var_688_20 = 27
				local var_688_21 = utf8.len(var_688_19)
				local var_688_22 = var_688_20 <= 0 and var_688_16 or var_688_16 * (var_688_21 / var_688_20)

				if var_688_22 > 0 and var_688_16 < var_688_22 then
					arg_685_1.talkMaxDuration = var_688_22

					if var_688_22 + var_688_15 > arg_685_1.duration_ then
						arg_685_1.duration_ = var_688_22 + var_688_15
					end
				end

				arg_685_1.text_.text = var_688_19
				arg_685_1.typewritter.percent = 0

				arg_685_1.typewritter:SetDirty()
				arg_685_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121162", "story_v_out_411121.awb") ~= 0 then
					local var_688_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121162", "story_v_out_411121.awb") / 1000

					if var_688_23 + var_688_15 > arg_685_1.duration_ then
						arg_685_1.duration_ = var_688_23 + var_688_15
					end

					if var_688_18.prefab_name ~= "" and arg_685_1.actors_[var_688_18.prefab_name] ~= nil then
						local var_688_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_685_1.actors_[var_688_18.prefab_name].transform, "story_v_out_411121", "411121162", "story_v_out_411121.awb")

						arg_685_1:RecordAudio("411121162", var_688_24)
						arg_685_1:RecordAudio("411121162", var_688_24)
					else
						arg_685_1:AudioAction("play", "voice", "story_v_out_411121", "411121162", "story_v_out_411121.awb")
					end

					arg_685_1:RecordHistoryTalkVoice("story_v_out_411121", "411121162", "story_v_out_411121.awb")
				end

				arg_685_1:RecordContent(arg_685_1.text_.text)
			end

			local var_688_25 = math.max(var_688_16, arg_685_1.talkMaxDuration)

			if var_688_15 <= arg_685_1.time_ and arg_685_1.time_ < var_688_15 + var_688_25 then
				arg_685_1.typewritter.percent = (arg_685_1.time_ - var_688_15) / var_688_25

				arg_685_1.typewritter:SetDirty()
			end

			if arg_685_1.time_ >= var_688_15 + var_688_25 and arg_685_1.time_ < var_688_15 + var_688_25 + arg_688_0 then
				arg_685_1.typewritter.percent = 1

				arg_685_1.typewritter:SetDirty()
				arg_685_1:ShowNextGo(true)
			end
		end
	end,
	Play411121163 = function(arg_689_0, arg_689_1)
		arg_689_1.time_ = 0
		arg_689_1.frameCnt_ = 0
		arg_689_1.state_ = "playing"
		arg_689_1.curTalkId_ = 411121163
		arg_689_1.duration_ = 4.5

		local var_689_0 = {
			zh = 2.1,
			ja = 4.5
		}
		local var_689_1 = manager.audio:GetLocalizationFlag()

		if var_689_0[var_689_1] ~= nil then
			arg_689_1.duration_ = var_689_0[var_689_1]
		end

		SetActive(arg_689_1.tipsGo_, false)

		function arg_689_1.onSingleLineFinish_()
			arg_689_1.onSingleLineUpdate_ = nil
			arg_689_1.onSingleLineFinish_ = nil
			arg_689_1.state_ = "waiting"
		end

		function arg_689_1.playNext_(arg_691_0)
			if arg_691_0 == 1 then
				arg_689_0:Play411121164(arg_689_1)
			end
		end

		function arg_689_1.onSingleLineUpdate_(arg_692_0)
			local var_692_0 = 0
			local var_692_1 = 0.275

			if var_692_0 < arg_689_1.time_ and arg_689_1.time_ <= var_692_0 + arg_692_0 then
				arg_689_1.talkMaxDuration = 0
				arg_689_1.dialogCg_.alpha = 1

				arg_689_1.dialog_:SetActive(true)
				SetActive(arg_689_1.leftNameGo_, true)

				local var_692_2 = arg_689_1:FormatText(StoryNameCfg[264].name)

				arg_689_1.leftNameTxt_.text = var_692_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_689_1.leftNameTxt_.transform)

				arg_689_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_689_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_689_1:RecordName(arg_689_1.leftNameTxt_.text)
				SetActive(arg_689_1.iconTrs_.gameObject, false)
				arg_689_1.callingController_:SetSelectedState("normal")

				local var_692_3 = arg_689_1:GetWordFromCfg(411121163)
				local var_692_4 = arg_689_1:FormatText(var_692_3.content)

				arg_689_1.text_.text = var_692_4

				LuaForUtil.ClearLinePrefixSymbol(arg_689_1.text_)

				local var_692_5 = 11
				local var_692_6 = utf8.len(var_692_4)
				local var_692_7 = var_692_5 <= 0 and var_692_1 or var_692_1 * (var_692_6 / var_692_5)

				if var_692_7 > 0 and var_692_1 < var_692_7 then
					arg_689_1.talkMaxDuration = var_692_7

					if var_692_7 + var_692_0 > arg_689_1.duration_ then
						arg_689_1.duration_ = var_692_7 + var_692_0
					end
				end

				arg_689_1.text_.text = var_692_4
				arg_689_1.typewritter.percent = 0

				arg_689_1.typewritter:SetDirty()
				arg_689_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121163", "story_v_out_411121.awb") ~= 0 then
					local var_692_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121163", "story_v_out_411121.awb") / 1000

					if var_692_8 + var_692_0 > arg_689_1.duration_ then
						arg_689_1.duration_ = var_692_8 + var_692_0
					end

					if var_692_3.prefab_name ~= "" and arg_689_1.actors_[var_692_3.prefab_name] ~= nil then
						local var_692_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_689_1.actors_[var_692_3.prefab_name].transform, "story_v_out_411121", "411121163", "story_v_out_411121.awb")

						arg_689_1:RecordAudio("411121163", var_692_9)
						arg_689_1:RecordAudio("411121163", var_692_9)
					else
						arg_689_1:AudioAction("play", "voice", "story_v_out_411121", "411121163", "story_v_out_411121.awb")
					end

					arg_689_1:RecordHistoryTalkVoice("story_v_out_411121", "411121163", "story_v_out_411121.awb")
				end

				arg_689_1:RecordContent(arg_689_1.text_.text)
			end

			local var_692_10 = math.max(var_692_1, arg_689_1.talkMaxDuration)

			if var_692_0 <= arg_689_1.time_ and arg_689_1.time_ < var_692_0 + var_692_10 then
				arg_689_1.typewritter.percent = (arg_689_1.time_ - var_692_0) / var_692_10

				arg_689_1.typewritter:SetDirty()
			end

			if arg_689_1.time_ >= var_692_0 + var_692_10 and arg_689_1.time_ < var_692_0 + var_692_10 + arg_692_0 then
				arg_689_1.typewritter.percent = 1

				arg_689_1.typewritter:SetDirty()
				arg_689_1:ShowNextGo(true)
			end
		end
	end,
	Play411121164 = function(arg_693_0, arg_693_1)
		arg_693_1.time_ = 0
		arg_693_1.frameCnt_ = 0
		arg_693_1.state_ = "playing"
		arg_693_1.curTalkId_ = 411121164
		arg_693_1.duration_ = 8.93333333333333

		SetActive(arg_693_1.tipsGo_, false)

		function arg_693_1.onSingleLineFinish_()
			arg_693_1.onSingleLineUpdate_ = nil
			arg_693_1.onSingleLineFinish_ = nil
			arg_693_1.state_ = "waiting"
		end

		function arg_693_1.playNext_(arg_695_0)
			if arg_695_0 == 1 then
				arg_693_0:Play411121165(arg_693_1)
			end
		end

		function arg_693_1.onSingleLineUpdate_(arg_696_0)
			local var_696_0 = arg_693_1.actors_["10014ui_story"].transform
			local var_696_1 = 2

			if var_696_1 < arg_693_1.time_ and arg_693_1.time_ <= var_696_1 + arg_696_0 then
				arg_693_1.var_.moveOldPos10014ui_story = var_696_0.localPosition
			end

			local var_696_2 = 0.001

			if var_696_1 <= arg_693_1.time_ and arg_693_1.time_ < var_696_1 + var_696_2 then
				local var_696_3 = (arg_693_1.time_ - var_696_1) / var_696_2
				local var_696_4 = Vector3.New(0, 100, 0)

				var_696_0.localPosition = Vector3.Lerp(arg_693_1.var_.moveOldPos10014ui_story, var_696_4, var_696_3)

				local var_696_5 = manager.ui.mainCamera.transform.position - var_696_0.position

				var_696_0.forward = Vector3.New(var_696_5.x, var_696_5.y, var_696_5.z)

				local var_696_6 = var_696_0.localEulerAngles

				var_696_6.z = 0
				var_696_6.x = 0
				var_696_0.localEulerAngles = var_696_6
			end

			if arg_693_1.time_ >= var_696_1 + var_696_2 and arg_693_1.time_ < var_696_1 + var_696_2 + arg_696_0 then
				var_696_0.localPosition = Vector3.New(0, 100, 0)

				local var_696_7 = manager.ui.mainCamera.transform.position - var_696_0.position

				var_696_0.forward = Vector3.New(var_696_7.x, var_696_7.y, var_696_7.z)

				local var_696_8 = var_696_0.localEulerAngles

				var_696_8.z = 0
				var_696_8.x = 0
				var_696_0.localEulerAngles = var_696_8
			end

			local var_696_9 = 0

			if var_696_9 < arg_693_1.time_ and arg_693_1.time_ <= var_696_9 + arg_696_0 then
				local var_696_10 = manager.ui.mainCamera.transform.localPosition
				local var_696_11 = Vector3.New(0, 0, 10) + Vector3.New(var_696_10.x, var_696_10.y, 0)
				local var_696_12 = arg_693_1.bgs_.B04f

				var_696_12.transform.localPosition = var_696_11
				var_696_12.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_696_13 = var_696_12:GetComponent("SpriteRenderer")

				if var_696_13 and var_696_13.sprite then
					local var_696_14 = (var_696_12.transform.localPosition - var_696_10).z
					local var_696_15 = manager.ui.mainCameraCom_
					local var_696_16 = 2 * var_696_14 * Mathf.Tan(var_696_15.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_696_17 = var_696_16 * var_696_15.aspect
					local var_696_18 = var_696_13.sprite.bounds.size.x
					local var_696_19 = var_696_13.sprite.bounds.size.y
					local var_696_20 = var_696_17 / var_696_18
					local var_696_21 = var_696_16 / var_696_19
					local var_696_22 = var_696_21 < var_696_20 and var_696_20 or var_696_21

					var_696_12.transform.localScale = Vector3.New(var_696_22, var_696_22, 0)
				end

				for iter_696_0, iter_696_1 in pairs(arg_693_1.bgs_) do
					if iter_696_0 ~= "B04f" then
						iter_696_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_696_23 = 2

			if var_696_23 < arg_693_1.time_ and arg_693_1.time_ <= var_696_23 + arg_696_0 then
				local var_696_24 = manager.ui.mainCamera.transform.localPosition
				local var_696_25 = Vector3.New(0, 0, 10) + Vector3.New(var_696_24.x, var_696_24.y, 0)
				local var_696_26 = arg_693_1.bgs_.B04f

				var_696_26.transform.localPosition = var_696_25
				var_696_26.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_696_27 = var_696_26:GetComponent("SpriteRenderer")

				if var_696_27 and var_696_27.sprite then
					local var_696_28 = (var_696_26.transform.localPosition - var_696_24).z
					local var_696_29 = manager.ui.mainCameraCom_
					local var_696_30 = 2 * var_696_28 * Mathf.Tan(var_696_29.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_696_31 = var_696_30 * var_696_29.aspect
					local var_696_32 = var_696_27.sprite.bounds.size.x
					local var_696_33 = var_696_27.sprite.bounds.size.y
					local var_696_34 = var_696_31 / var_696_32
					local var_696_35 = var_696_30 / var_696_33
					local var_696_36 = var_696_35 < var_696_34 and var_696_34 or var_696_35

					var_696_26.transform.localScale = Vector3.New(var_696_36, var_696_36, 0)
				end

				for iter_696_2, iter_696_3 in pairs(arg_693_1.bgs_) do
					if iter_696_2 ~= "B04f" then
						iter_696_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_696_37 = 0

			if var_696_37 < arg_693_1.time_ and arg_693_1.time_ <= var_696_37 + arg_696_0 then
				arg_693_1.mask_.enabled = true
				arg_693_1.mask_.raycastTarget = true

				arg_693_1:SetGaussion(false)
			end

			local var_696_38 = 2

			if var_696_37 <= arg_693_1.time_ and arg_693_1.time_ < var_696_37 + var_696_38 then
				local var_696_39 = (arg_693_1.time_ - var_696_37) / var_696_38
				local var_696_40 = Color.New(0, 0, 0)

				var_696_40.a = Mathf.Lerp(0, 1, var_696_39)
				arg_693_1.mask_.color = var_696_40
			end

			if arg_693_1.time_ >= var_696_37 + var_696_38 and arg_693_1.time_ < var_696_37 + var_696_38 + arg_696_0 then
				local var_696_41 = Color.New(0, 0, 0)

				var_696_41.a = 1
				arg_693_1.mask_.color = var_696_41
			end

			local var_696_42 = 2

			if var_696_42 < arg_693_1.time_ and arg_693_1.time_ <= var_696_42 + arg_696_0 then
				arg_693_1.mask_.enabled = true
				arg_693_1.mask_.raycastTarget = true

				arg_693_1:SetGaussion(false)
			end

			local var_696_43 = 2

			if var_696_42 <= arg_693_1.time_ and arg_693_1.time_ < var_696_42 + var_696_43 then
				local var_696_44 = (arg_693_1.time_ - var_696_42) / var_696_43
				local var_696_45 = Color.New(0, 0, 0)

				var_696_45.a = Mathf.Lerp(1, 0, var_696_44)
				arg_693_1.mask_.color = var_696_45
			end

			if arg_693_1.time_ >= var_696_42 + var_696_43 and arg_693_1.time_ < var_696_42 + var_696_43 + arg_696_0 then
				local var_696_46 = Color.New(0, 0, 0)
				local var_696_47 = 0

				arg_693_1.mask_.enabled = false
				var_696_46.a = var_696_47
				arg_693_1.mask_.color = var_696_46
			end

			if arg_693_1.frameCnt_ <= 1 then
				arg_693_1.dialog_:SetActive(false)
			end

			local var_696_48 = 3.93333333333333
			local var_696_49 = 0.975

			if var_696_48 < arg_693_1.time_ and arg_693_1.time_ <= var_696_48 + arg_696_0 then
				arg_693_1.talkMaxDuration = 0

				arg_693_1.dialog_:SetActive(true)

				local var_696_50 = LeanTween.value(arg_693_1.dialog_, 0, 1, 0.3)

				var_696_50:setOnUpdate(LuaHelper.FloatAction(function(arg_697_0)
					arg_693_1.dialogCg_.alpha = arg_697_0
				end))
				var_696_50:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_693_1.dialog_)
					var_696_50:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_693_1.duration_ = arg_693_1.duration_ + 0.3

				SetActive(arg_693_1.leftNameGo_, false)

				arg_693_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_693_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_693_1:RecordName(arg_693_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_693_1.iconTrs_.gameObject, false)
				arg_693_1.callingController_:SetSelectedState("normal")

				local var_696_51 = arg_693_1:GetWordFromCfg(411121164)
				local var_696_52 = arg_693_1:FormatText(var_696_51.content)

				arg_693_1.text_.text = var_696_52

				LuaForUtil.ClearLinePrefixSymbol(arg_693_1.text_)

				local var_696_53 = 39
				local var_696_54 = utf8.len(var_696_52)
				local var_696_55 = var_696_53 <= 0 and var_696_49 or var_696_49 * (var_696_54 / var_696_53)

				if var_696_55 > 0 and var_696_49 < var_696_55 then
					arg_693_1.talkMaxDuration = var_696_55
					var_696_48 = var_696_48 + 0.3

					if var_696_55 + var_696_48 > arg_693_1.duration_ then
						arg_693_1.duration_ = var_696_55 + var_696_48
					end
				end

				arg_693_1.text_.text = var_696_52
				arg_693_1.typewritter.percent = 0

				arg_693_1.typewritter:SetDirty()
				arg_693_1:ShowNextGo(false)
				arg_693_1:RecordContent(arg_693_1.text_.text)
			end

			local var_696_56 = var_696_48 + 0.3
			local var_696_57 = math.max(var_696_49, arg_693_1.talkMaxDuration)

			if var_696_56 <= arg_693_1.time_ and arg_693_1.time_ < var_696_56 + var_696_57 then
				arg_693_1.typewritter.percent = (arg_693_1.time_ - var_696_56) / var_696_57

				arg_693_1.typewritter:SetDirty()
			end

			if arg_693_1.time_ >= var_696_56 + var_696_57 and arg_693_1.time_ < var_696_56 + var_696_57 + arg_696_0 then
				arg_693_1.typewritter.percent = 1

				arg_693_1.typewritter:SetDirty()
				arg_693_1:ShowNextGo(true)
			end
		end
	end,
	Play411121165 = function(arg_699_0, arg_699_1)
		arg_699_1.time_ = 0
		arg_699_1.frameCnt_ = 0
		arg_699_1.state_ = "playing"
		arg_699_1.curTalkId_ = 411121165
		arg_699_1.duration_ = 1.433

		local var_699_0 = {
			zh = 1.433,
			ja = 0.999999999999
		}
		local var_699_1 = manager.audio:GetLocalizationFlag()

		if var_699_0[var_699_1] ~= nil then
			arg_699_1.duration_ = var_699_0[var_699_1]
		end

		SetActive(arg_699_1.tipsGo_, false)

		function arg_699_1.onSingleLineFinish_()
			arg_699_1.onSingleLineUpdate_ = nil
			arg_699_1.onSingleLineFinish_ = nil
			arg_699_1.state_ = "waiting"
		end

		function arg_699_1.playNext_(arg_701_0)
			if arg_701_0 == 1 then
				arg_699_0:Play411121166(arg_699_1)
			end
		end

		function arg_699_1.onSingleLineUpdate_(arg_702_0)
			local var_702_0 = 0
			local var_702_1 = 0.1

			if var_702_0 < arg_699_1.time_ and arg_699_1.time_ <= var_702_0 + arg_702_0 then
				arg_699_1.talkMaxDuration = 0
				arg_699_1.dialogCg_.alpha = 1

				arg_699_1.dialog_:SetActive(true)
				SetActive(arg_699_1.leftNameGo_, true)

				local var_702_2 = arg_699_1:FormatText(StoryNameCfg[670].name)

				arg_699_1.leftNameTxt_.text = var_702_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_699_1.leftNameTxt_.transform)

				arg_699_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_699_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_699_1:RecordName(arg_699_1.leftNameTxt_.text)
				SetActive(arg_699_1.iconTrs_.gameObject, true)
				arg_699_1.iconController_:SetSelectedState("hero")

				arg_699_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_699_1.callingController_:SetSelectedState("normal")

				local var_702_3 = arg_699_1:GetWordFromCfg(411121165)
				local var_702_4 = arg_699_1:FormatText(var_702_3.content)

				arg_699_1.text_.text = var_702_4

				LuaForUtil.ClearLinePrefixSymbol(arg_699_1.text_)

				local var_702_5 = 4
				local var_702_6 = utf8.len(var_702_4)
				local var_702_7 = var_702_5 <= 0 and var_702_1 or var_702_1 * (var_702_6 / var_702_5)

				if var_702_7 > 0 and var_702_1 < var_702_7 then
					arg_699_1.talkMaxDuration = var_702_7

					if var_702_7 + var_702_0 > arg_699_1.duration_ then
						arg_699_1.duration_ = var_702_7 + var_702_0
					end
				end

				arg_699_1.text_.text = var_702_4
				arg_699_1.typewritter.percent = 0

				arg_699_1.typewritter:SetDirty()
				arg_699_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121165", "story_v_out_411121.awb") ~= 0 then
					local var_702_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121165", "story_v_out_411121.awb") / 1000

					if var_702_8 + var_702_0 > arg_699_1.duration_ then
						arg_699_1.duration_ = var_702_8 + var_702_0
					end

					if var_702_3.prefab_name ~= "" and arg_699_1.actors_[var_702_3.prefab_name] ~= nil then
						local var_702_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_699_1.actors_[var_702_3.prefab_name].transform, "story_v_out_411121", "411121165", "story_v_out_411121.awb")

						arg_699_1:RecordAudio("411121165", var_702_9)
						arg_699_1:RecordAudio("411121165", var_702_9)
					else
						arg_699_1:AudioAction("play", "voice", "story_v_out_411121", "411121165", "story_v_out_411121.awb")
					end

					arg_699_1:RecordHistoryTalkVoice("story_v_out_411121", "411121165", "story_v_out_411121.awb")
				end

				arg_699_1:RecordContent(arg_699_1.text_.text)
			end

			local var_702_10 = math.max(var_702_1, arg_699_1.talkMaxDuration)

			if var_702_0 <= arg_699_1.time_ and arg_699_1.time_ < var_702_0 + var_702_10 then
				arg_699_1.typewritter.percent = (arg_699_1.time_ - var_702_0) / var_702_10

				arg_699_1.typewritter:SetDirty()
			end

			if arg_699_1.time_ >= var_702_0 + var_702_10 and arg_699_1.time_ < var_702_0 + var_702_10 + arg_702_0 then
				arg_699_1.typewritter.percent = 1

				arg_699_1.typewritter:SetDirty()
				arg_699_1:ShowNextGo(true)
			end
		end
	end,
	Play411121166 = function(arg_703_0, arg_703_1)
		arg_703_1.time_ = 0
		arg_703_1.frameCnt_ = 0
		arg_703_1.state_ = "playing"
		arg_703_1.curTalkId_ = 411121166
		arg_703_1.duration_ = 7.033

		local var_703_0 = {
			zh = 3.966,
			ja = 7.033
		}
		local var_703_1 = manager.audio:GetLocalizationFlag()

		if var_703_0[var_703_1] ~= nil then
			arg_703_1.duration_ = var_703_0[var_703_1]
		end

		SetActive(arg_703_1.tipsGo_, false)

		function arg_703_1.onSingleLineFinish_()
			arg_703_1.onSingleLineUpdate_ = nil
			arg_703_1.onSingleLineFinish_ = nil
			arg_703_1.state_ = "waiting"
		end

		function arg_703_1.playNext_(arg_705_0)
			if arg_705_0 == 1 then
				arg_703_0:Play411121167(arg_703_1)
			end
		end

		function arg_703_1.onSingleLineUpdate_(arg_706_0)
			local var_706_0 = 0
			local var_706_1 = 0.225

			if var_706_0 < arg_703_1.time_ and arg_703_1.time_ <= var_706_0 + arg_706_0 then
				arg_703_1.talkMaxDuration = 0
				arg_703_1.dialogCg_.alpha = 1

				arg_703_1.dialog_:SetActive(true)
				SetActive(arg_703_1.leftNameGo_, true)

				local var_706_2 = arg_703_1:FormatText(StoryNameCfg[670].name)

				arg_703_1.leftNameTxt_.text = var_706_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_703_1.leftNameTxt_.transform)

				arg_703_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_703_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_703_1:RecordName(arg_703_1.leftNameTxt_.text)
				SetActive(arg_703_1.iconTrs_.gameObject, true)
				arg_703_1.iconController_:SetSelectedState("hero")

				arg_703_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_703_1.callingController_:SetSelectedState("normal")

				local var_706_3 = arg_703_1:GetWordFromCfg(411121166)
				local var_706_4 = arg_703_1:FormatText(var_706_3.content)

				arg_703_1.text_.text = var_706_4

				LuaForUtil.ClearLinePrefixSymbol(arg_703_1.text_)

				local var_706_5 = 9
				local var_706_6 = utf8.len(var_706_4)
				local var_706_7 = var_706_5 <= 0 and var_706_1 or var_706_1 * (var_706_6 / var_706_5)

				if var_706_7 > 0 and var_706_1 < var_706_7 then
					arg_703_1.talkMaxDuration = var_706_7

					if var_706_7 + var_706_0 > arg_703_1.duration_ then
						arg_703_1.duration_ = var_706_7 + var_706_0
					end
				end

				arg_703_1.text_.text = var_706_4
				arg_703_1.typewritter.percent = 0

				arg_703_1.typewritter:SetDirty()
				arg_703_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121166", "story_v_out_411121.awb") ~= 0 then
					local var_706_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121166", "story_v_out_411121.awb") / 1000

					if var_706_8 + var_706_0 > arg_703_1.duration_ then
						arg_703_1.duration_ = var_706_8 + var_706_0
					end

					if var_706_3.prefab_name ~= "" and arg_703_1.actors_[var_706_3.prefab_name] ~= nil then
						local var_706_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_703_1.actors_[var_706_3.prefab_name].transform, "story_v_out_411121", "411121166", "story_v_out_411121.awb")

						arg_703_1:RecordAudio("411121166", var_706_9)
						arg_703_1:RecordAudio("411121166", var_706_9)
					else
						arg_703_1:AudioAction("play", "voice", "story_v_out_411121", "411121166", "story_v_out_411121.awb")
					end

					arg_703_1:RecordHistoryTalkVoice("story_v_out_411121", "411121166", "story_v_out_411121.awb")
				end

				arg_703_1:RecordContent(arg_703_1.text_.text)
			end

			local var_706_10 = math.max(var_706_1, arg_703_1.talkMaxDuration)

			if var_706_0 <= arg_703_1.time_ and arg_703_1.time_ < var_706_0 + var_706_10 then
				arg_703_1.typewritter.percent = (arg_703_1.time_ - var_706_0) / var_706_10

				arg_703_1.typewritter:SetDirty()
			end

			if arg_703_1.time_ >= var_706_0 + var_706_10 and arg_703_1.time_ < var_706_0 + var_706_10 + arg_706_0 then
				arg_703_1.typewritter.percent = 1

				arg_703_1.typewritter:SetDirty()
				arg_703_1:ShowNextGo(true)
			end
		end
	end,
	Play411121167 = function(arg_707_0, arg_707_1)
		arg_707_1.time_ = 0
		arg_707_1.frameCnt_ = 0
		arg_707_1.state_ = "playing"
		arg_707_1.curTalkId_ = 411121167
		arg_707_1.duration_ = 4.333

		local var_707_0 = {
			zh = 4.333,
			ja = 3.166
		}
		local var_707_1 = manager.audio:GetLocalizationFlag()

		if var_707_0[var_707_1] ~= nil then
			arg_707_1.duration_ = var_707_0[var_707_1]
		end

		SetActive(arg_707_1.tipsGo_, false)

		function arg_707_1.onSingleLineFinish_()
			arg_707_1.onSingleLineUpdate_ = nil
			arg_707_1.onSingleLineFinish_ = nil
			arg_707_1.state_ = "waiting"
		end

		function arg_707_1.playNext_(arg_709_0)
			if arg_709_0 == 1 then
				arg_707_0:Play411121168(arg_707_1)
			end
		end

		function arg_707_1.onSingleLineUpdate_(arg_710_0)
			local var_710_0 = 0
			local var_710_1 = 0.375

			if var_710_0 < arg_707_1.time_ and arg_707_1.time_ <= var_710_0 + arg_710_0 then
				arg_707_1.talkMaxDuration = 0
				arg_707_1.dialogCg_.alpha = 1

				arg_707_1.dialog_:SetActive(true)
				SetActive(arg_707_1.leftNameGo_, true)

				local var_710_2 = arg_707_1:FormatText(StoryNameCfg[670].name)

				arg_707_1.leftNameTxt_.text = var_710_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_707_1.leftNameTxt_.transform)

				arg_707_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_707_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_707_1:RecordName(arg_707_1.leftNameTxt_.text)
				SetActive(arg_707_1.iconTrs_.gameObject, true)
				arg_707_1.iconController_:SetSelectedState("hero")

				arg_707_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_707_1.callingController_:SetSelectedState("normal")

				local var_710_3 = arg_707_1:GetWordFromCfg(411121167)
				local var_710_4 = arg_707_1:FormatText(var_710_3.content)

				arg_707_1.text_.text = var_710_4

				LuaForUtil.ClearLinePrefixSymbol(arg_707_1.text_)

				local var_710_5 = 15
				local var_710_6 = utf8.len(var_710_4)
				local var_710_7 = var_710_5 <= 0 and var_710_1 or var_710_1 * (var_710_6 / var_710_5)

				if var_710_7 > 0 and var_710_1 < var_710_7 then
					arg_707_1.talkMaxDuration = var_710_7

					if var_710_7 + var_710_0 > arg_707_1.duration_ then
						arg_707_1.duration_ = var_710_7 + var_710_0
					end
				end

				arg_707_1.text_.text = var_710_4
				arg_707_1.typewritter.percent = 0

				arg_707_1.typewritter:SetDirty()
				arg_707_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121167", "story_v_out_411121.awb") ~= 0 then
					local var_710_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121167", "story_v_out_411121.awb") / 1000

					if var_710_8 + var_710_0 > arg_707_1.duration_ then
						arg_707_1.duration_ = var_710_8 + var_710_0
					end

					if var_710_3.prefab_name ~= "" and arg_707_1.actors_[var_710_3.prefab_name] ~= nil then
						local var_710_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_707_1.actors_[var_710_3.prefab_name].transform, "story_v_out_411121", "411121167", "story_v_out_411121.awb")

						arg_707_1:RecordAudio("411121167", var_710_9)
						arg_707_1:RecordAudio("411121167", var_710_9)
					else
						arg_707_1:AudioAction("play", "voice", "story_v_out_411121", "411121167", "story_v_out_411121.awb")
					end

					arg_707_1:RecordHistoryTalkVoice("story_v_out_411121", "411121167", "story_v_out_411121.awb")
				end

				arg_707_1:RecordContent(arg_707_1.text_.text)
			end

			local var_710_10 = math.max(var_710_1, arg_707_1.talkMaxDuration)

			if var_710_0 <= arg_707_1.time_ and arg_707_1.time_ < var_710_0 + var_710_10 then
				arg_707_1.typewritter.percent = (arg_707_1.time_ - var_710_0) / var_710_10

				arg_707_1.typewritter:SetDirty()
			end

			if arg_707_1.time_ >= var_710_0 + var_710_10 and arg_707_1.time_ < var_710_0 + var_710_10 + arg_710_0 then
				arg_707_1.typewritter.percent = 1

				arg_707_1.typewritter:SetDirty()
				arg_707_1:ShowNextGo(true)
			end
		end
	end,
	Play411121168 = function(arg_711_0, arg_711_1)
		arg_711_1.time_ = 0
		arg_711_1.frameCnt_ = 0
		arg_711_1.state_ = "playing"
		arg_711_1.curTalkId_ = 411121168
		arg_711_1.duration_ = 6.566

		local var_711_0 = {
			zh = 6.566,
			ja = 5.8
		}
		local var_711_1 = manager.audio:GetLocalizationFlag()

		if var_711_0[var_711_1] ~= nil then
			arg_711_1.duration_ = var_711_0[var_711_1]
		end

		SetActive(arg_711_1.tipsGo_, false)

		function arg_711_1.onSingleLineFinish_()
			arg_711_1.onSingleLineUpdate_ = nil
			arg_711_1.onSingleLineFinish_ = nil
			arg_711_1.state_ = "waiting"
		end

		function arg_711_1.playNext_(arg_713_0)
			if arg_713_0 == 1 then
				arg_711_0:Play411121169(arg_711_1)
			end
		end

		function arg_711_1.onSingleLineUpdate_(arg_714_0)
			local var_714_0 = 0
			local var_714_1 = 0.325

			if var_714_0 < arg_711_1.time_ and arg_711_1.time_ <= var_714_0 + arg_714_0 then
				arg_711_1.talkMaxDuration = 0
				arg_711_1.dialogCg_.alpha = 1

				arg_711_1.dialog_:SetActive(true)
				SetActive(arg_711_1.leftNameGo_, true)

				local var_714_2 = arg_711_1:FormatText(StoryNameCfg[670].name)

				arg_711_1.leftNameTxt_.text = var_714_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_711_1.leftNameTxt_.transform)

				arg_711_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_711_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_711_1:RecordName(arg_711_1.leftNameTxt_.text)
				SetActive(arg_711_1.iconTrs_.gameObject, true)
				arg_711_1.iconController_:SetSelectedState("hero")

				arg_711_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_711_1.callingController_:SetSelectedState("normal")

				local var_714_3 = arg_711_1:GetWordFromCfg(411121168)
				local var_714_4 = arg_711_1:FormatText(var_714_3.content)

				arg_711_1.text_.text = var_714_4

				LuaForUtil.ClearLinePrefixSymbol(arg_711_1.text_)

				local var_714_5 = 13
				local var_714_6 = utf8.len(var_714_4)
				local var_714_7 = var_714_5 <= 0 and var_714_1 or var_714_1 * (var_714_6 / var_714_5)

				if var_714_7 > 0 and var_714_1 < var_714_7 then
					arg_711_1.talkMaxDuration = var_714_7

					if var_714_7 + var_714_0 > arg_711_1.duration_ then
						arg_711_1.duration_ = var_714_7 + var_714_0
					end
				end

				arg_711_1.text_.text = var_714_4
				arg_711_1.typewritter.percent = 0

				arg_711_1.typewritter:SetDirty()
				arg_711_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121168", "story_v_out_411121.awb") ~= 0 then
					local var_714_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121168", "story_v_out_411121.awb") / 1000

					if var_714_8 + var_714_0 > arg_711_1.duration_ then
						arg_711_1.duration_ = var_714_8 + var_714_0
					end

					if var_714_3.prefab_name ~= "" and arg_711_1.actors_[var_714_3.prefab_name] ~= nil then
						local var_714_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_711_1.actors_[var_714_3.prefab_name].transform, "story_v_out_411121", "411121168", "story_v_out_411121.awb")

						arg_711_1:RecordAudio("411121168", var_714_9)
						arg_711_1:RecordAudio("411121168", var_714_9)
					else
						arg_711_1:AudioAction("play", "voice", "story_v_out_411121", "411121168", "story_v_out_411121.awb")
					end

					arg_711_1:RecordHistoryTalkVoice("story_v_out_411121", "411121168", "story_v_out_411121.awb")
				end

				arg_711_1:RecordContent(arg_711_1.text_.text)
			end

			local var_714_10 = math.max(var_714_1, arg_711_1.talkMaxDuration)

			if var_714_0 <= arg_711_1.time_ and arg_711_1.time_ < var_714_0 + var_714_10 then
				arg_711_1.typewritter.percent = (arg_711_1.time_ - var_714_0) / var_714_10

				arg_711_1.typewritter:SetDirty()
			end

			if arg_711_1.time_ >= var_714_0 + var_714_10 and arg_711_1.time_ < var_714_0 + var_714_10 + arg_714_0 then
				arg_711_1.typewritter.percent = 1

				arg_711_1.typewritter:SetDirty()
				arg_711_1:ShowNextGo(true)
			end
		end
	end,
	Play411121169 = function(arg_715_0, arg_715_1)
		arg_715_1.time_ = 0
		arg_715_1.frameCnt_ = 0
		arg_715_1.state_ = "playing"
		arg_715_1.curTalkId_ = 411121169
		arg_715_1.duration_ = 2.7

		local var_715_0 = {
			zh = 2.666,
			ja = 2.7
		}
		local var_715_1 = manager.audio:GetLocalizationFlag()

		if var_715_0[var_715_1] ~= nil then
			arg_715_1.duration_ = var_715_0[var_715_1]
		end

		SetActive(arg_715_1.tipsGo_, false)

		function arg_715_1.onSingleLineFinish_()
			arg_715_1.onSingleLineUpdate_ = nil
			arg_715_1.onSingleLineFinish_ = nil
			arg_715_1.state_ = "waiting"
		end

		function arg_715_1.playNext_(arg_717_0)
			if arg_717_0 == 1 then
				arg_715_0:Play411121170(arg_715_1)
			end
		end

		function arg_715_1.onSingleLineUpdate_(arg_718_0)
			local var_718_0 = arg_715_1.actors_["1095ui_story"].transform
			local var_718_1 = 0

			if var_718_1 < arg_715_1.time_ and arg_715_1.time_ <= var_718_1 + arg_718_0 then
				arg_715_1.var_.moveOldPos1095ui_story = var_718_0.localPosition
			end

			local var_718_2 = 0.001

			if var_718_1 <= arg_715_1.time_ and arg_715_1.time_ < var_718_1 + var_718_2 then
				local var_718_3 = (arg_715_1.time_ - var_718_1) / var_718_2
				local var_718_4 = Vector3.New(0, -0.98, -6.1)

				var_718_0.localPosition = Vector3.Lerp(arg_715_1.var_.moveOldPos1095ui_story, var_718_4, var_718_3)

				local var_718_5 = manager.ui.mainCamera.transform.position - var_718_0.position

				var_718_0.forward = Vector3.New(var_718_5.x, var_718_5.y, var_718_5.z)

				local var_718_6 = var_718_0.localEulerAngles

				var_718_6.z = 0
				var_718_6.x = 0
				var_718_0.localEulerAngles = var_718_6
			end

			if arg_715_1.time_ >= var_718_1 + var_718_2 and arg_715_1.time_ < var_718_1 + var_718_2 + arg_718_0 then
				var_718_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_718_7 = manager.ui.mainCamera.transform.position - var_718_0.position

				var_718_0.forward = Vector3.New(var_718_7.x, var_718_7.y, var_718_7.z)

				local var_718_8 = var_718_0.localEulerAngles

				var_718_8.z = 0
				var_718_8.x = 0
				var_718_0.localEulerAngles = var_718_8
			end

			local var_718_9 = arg_715_1.actors_["1095ui_story"]
			local var_718_10 = 0

			if var_718_10 < arg_715_1.time_ and arg_715_1.time_ <= var_718_10 + arg_718_0 and arg_715_1.var_.characterEffect1095ui_story == nil then
				arg_715_1.var_.characterEffect1095ui_story = var_718_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_718_11 = 0.200000002980232

			if var_718_10 <= arg_715_1.time_ and arg_715_1.time_ < var_718_10 + var_718_11 then
				local var_718_12 = (arg_715_1.time_ - var_718_10) / var_718_11

				if arg_715_1.var_.characterEffect1095ui_story then
					arg_715_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_715_1.time_ >= var_718_10 + var_718_11 and arg_715_1.time_ < var_718_10 + var_718_11 + arg_718_0 and arg_715_1.var_.characterEffect1095ui_story then
				arg_715_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_718_13 = 0

			if var_718_13 < arg_715_1.time_ and arg_715_1.time_ <= var_718_13 + arg_718_0 then
				arg_715_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_718_14 = 0

			if var_718_14 < arg_715_1.time_ and arg_715_1.time_ <= var_718_14 + arg_718_0 then
				arg_715_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_718_15 = 0
			local var_718_16 = 0.25

			if var_718_15 < arg_715_1.time_ and arg_715_1.time_ <= var_718_15 + arg_718_0 then
				arg_715_1.talkMaxDuration = 0
				arg_715_1.dialogCg_.alpha = 1

				arg_715_1.dialog_:SetActive(true)
				SetActive(arg_715_1.leftNameGo_, true)

				local var_718_17 = arg_715_1:FormatText(StoryNameCfg[471].name)

				arg_715_1.leftNameTxt_.text = var_718_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_715_1.leftNameTxt_.transform)

				arg_715_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_715_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_715_1:RecordName(arg_715_1.leftNameTxt_.text)
				SetActive(arg_715_1.iconTrs_.gameObject, false)
				arg_715_1.callingController_:SetSelectedState("normal")

				local var_718_18 = arg_715_1:GetWordFromCfg(411121169)
				local var_718_19 = arg_715_1:FormatText(var_718_18.content)

				arg_715_1.text_.text = var_718_19

				LuaForUtil.ClearLinePrefixSymbol(arg_715_1.text_)

				local var_718_20 = 10
				local var_718_21 = utf8.len(var_718_19)
				local var_718_22 = var_718_20 <= 0 and var_718_16 or var_718_16 * (var_718_21 / var_718_20)

				if var_718_22 > 0 and var_718_16 < var_718_22 then
					arg_715_1.talkMaxDuration = var_718_22

					if var_718_22 + var_718_15 > arg_715_1.duration_ then
						arg_715_1.duration_ = var_718_22 + var_718_15
					end
				end

				arg_715_1.text_.text = var_718_19
				arg_715_1.typewritter.percent = 0

				arg_715_1.typewritter:SetDirty()
				arg_715_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121169", "story_v_out_411121.awb") ~= 0 then
					local var_718_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121169", "story_v_out_411121.awb") / 1000

					if var_718_23 + var_718_15 > arg_715_1.duration_ then
						arg_715_1.duration_ = var_718_23 + var_718_15
					end

					if var_718_18.prefab_name ~= "" and arg_715_1.actors_[var_718_18.prefab_name] ~= nil then
						local var_718_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_715_1.actors_[var_718_18.prefab_name].transform, "story_v_out_411121", "411121169", "story_v_out_411121.awb")

						arg_715_1:RecordAudio("411121169", var_718_24)
						arg_715_1:RecordAudio("411121169", var_718_24)
					else
						arg_715_1:AudioAction("play", "voice", "story_v_out_411121", "411121169", "story_v_out_411121.awb")
					end

					arg_715_1:RecordHistoryTalkVoice("story_v_out_411121", "411121169", "story_v_out_411121.awb")
				end

				arg_715_1:RecordContent(arg_715_1.text_.text)
			end

			local var_718_25 = math.max(var_718_16, arg_715_1.talkMaxDuration)

			if var_718_15 <= arg_715_1.time_ and arg_715_1.time_ < var_718_15 + var_718_25 then
				arg_715_1.typewritter.percent = (arg_715_1.time_ - var_718_15) / var_718_25

				arg_715_1.typewritter:SetDirty()
			end

			if arg_715_1.time_ >= var_718_15 + var_718_25 and arg_715_1.time_ < var_718_15 + var_718_25 + arg_718_0 then
				arg_715_1.typewritter.percent = 1

				arg_715_1.typewritter:SetDirty()
				arg_715_1:ShowNextGo(true)
			end
		end
	end,
	Play411121170 = function(arg_719_0, arg_719_1)
		arg_719_1.time_ = 0
		arg_719_1.frameCnt_ = 0
		arg_719_1.state_ = "playing"
		arg_719_1.curTalkId_ = 411121170
		arg_719_1.duration_ = 5

		SetActive(arg_719_1.tipsGo_, false)

		function arg_719_1.onSingleLineFinish_()
			arg_719_1.onSingleLineUpdate_ = nil
			arg_719_1.onSingleLineFinish_ = nil
			arg_719_1.state_ = "waiting"
		end

		function arg_719_1.playNext_(arg_721_0)
			if arg_721_0 == 1 then
				arg_719_0:Play411121171(arg_719_1)
			end
		end

		function arg_719_1.onSingleLineUpdate_(arg_722_0)
			local var_722_0 = arg_719_1.actors_["1095ui_story"]
			local var_722_1 = 0

			if var_722_1 < arg_719_1.time_ and arg_719_1.time_ <= var_722_1 + arg_722_0 and arg_719_1.var_.characterEffect1095ui_story == nil then
				arg_719_1.var_.characterEffect1095ui_story = var_722_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_722_2 = 0.200000002980232

			if var_722_1 <= arg_719_1.time_ and arg_719_1.time_ < var_722_1 + var_722_2 then
				local var_722_3 = (arg_719_1.time_ - var_722_1) / var_722_2

				if arg_719_1.var_.characterEffect1095ui_story then
					local var_722_4 = Mathf.Lerp(0, 0.5, var_722_3)

					arg_719_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_719_1.var_.characterEffect1095ui_story.fillRatio = var_722_4
				end
			end

			if arg_719_1.time_ >= var_722_1 + var_722_2 and arg_719_1.time_ < var_722_1 + var_722_2 + arg_722_0 and arg_719_1.var_.characterEffect1095ui_story then
				local var_722_5 = 0.5

				arg_719_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_719_1.var_.characterEffect1095ui_story.fillRatio = var_722_5
			end

			local var_722_6 = 0
			local var_722_7 = 0.75

			if var_722_6 < arg_719_1.time_ and arg_719_1.time_ <= var_722_6 + arg_722_0 then
				arg_719_1.talkMaxDuration = 0
				arg_719_1.dialogCg_.alpha = 1

				arg_719_1.dialog_:SetActive(true)
				SetActive(arg_719_1.leftNameGo_, false)

				arg_719_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_719_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_719_1:RecordName(arg_719_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_719_1.iconTrs_.gameObject, false)
				arg_719_1.callingController_:SetSelectedState("normal")

				local var_722_8 = arg_719_1:GetWordFromCfg(411121170)
				local var_722_9 = arg_719_1:FormatText(var_722_8.content)

				arg_719_1.text_.text = var_722_9

				LuaForUtil.ClearLinePrefixSymbol(arg_719_1.text_)

				local var_722_10 = 30
				local var_722_11 = utf8.len(var_722_9)
				local var_722_12 = var_722_10 <= 0 and var_722_7 or var_722_7 * (var_722_11 / var_722_10)

				if var_722_12 > 0 and var_722_7 < var_722_12 then
					arg_719_1.talkMaxDuration = var_722_12

					if var_722_12 + var_722_6 > arg_719_1.duration_ then
						arg_719_1.duration_ = var_722_12 + var_722_6
					end
				end

				arg_719_1.text_.text = var_722_9
				arg_719_1.typewritter.percent = 0

				arg_719_1.typewritter:SetDirty()
				arg_719_1:ShowNextGo(false)
				arg_719_1:RecordContent(arg_719_1.text_.text)
			end

			local var_722_13 = math.max(var_722_7, arg_719_1.talkMaxDuration)

			if var_722_6 <= arg_719_1.time_ and arg_719_1.time_ < var_722_6 + var_722_13 then
				arg_719_1.typewritter.percent = (arg_719_1.time_ - var_722_6) / var_722_13

				arg_719_1.typewritter:SetDirty()
			end

			if arg_719_1.time_ >= var_722_6 + var_722_13 and arg_719_1.time_ < var_722_6 + var_722_13 + arg_722_0 then
				arg_719_1.typewritter.percent = 1

				arg_719_1.typewritter:SetDirty()
				arg_719_1:ShowNextGo(true)
			end
		end
	end,
	Play411121171 = function(arg_723_0, arg_723_1)
		arg_723_1.time_ = 0
		arg_723_1.frameCnt_ = 0
		arg_723_1.state_ = "playing"
		arg_723_1.curTalkId_ = 411121171
		arg_723_1.duration_ = 9.733

		local var_723_0 = {
			zh = 9.733,
			ja = 7.933
		}
		local var_723_1 = manager.audio:GetLocalizationFlag()

		if var_723_0[var_723_1] ~= nil then
			arg_723_1.duration_ = var_723_0[var_723_1]
		end

		SetActive(arg_723_1.tipsGo_, false)

		function arg_723_1.onSingleLineFinish_()
			arg_723_1.onSingleLineUpdate_ = nil
			arg_723_1.onSingleLineFinish_ = nil
			arg_723_1.state_ = "waiting"
		end

		function arg_723_1.playNext_(arg_725_0)
			if arg_725_0 == 1 then
				arg_723_0:Play411121172(arg_723_1)
			end
		end

		function arg_723_1.onSingleLineUpdate_(arg_726_0)
			local var_726_0 = 0

			if var_726_0 < arg_723_1.time_ and arg_723_1.time_ <= var_726_0 + arg_726_0 then
				local var_726_1 = manager.ui.mainCamera.transform.localPosition
				local var_726_2 = Vector3.New(0, 0, 10) + Vector3.New(var_726_1.x, var_726_1.y, 0)
				local var_726_3 = arg_723_1.bgs_.B04f

				var_726_3.transform.localPosition = var_726_2
				var_726_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_726_4 = var_726_3:GetComponent("SpriteRenderer")

				if var_726_4 and var_726_4.sprite then
					local var_726_5 = (var_726_3.transform.localPosition - var_726_1).z
					local var_726_6 = manager.ui.mainCameraCom_
					local var_726_7 = 2 * var_726_5 * Mathf.Tan(var_726_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_726_8 = var_726_7 * var_726_6.aspect
					local var_726_9 = var_726_4.sprite.bounds.size.x
					local var_726_10 = var_726_4.sprite.bounds.size.y
					local var_726_11 = var_726_8 / var_726_9
					local var_726_12 = var_726_7 / var_726_10
					local var_726_13 = var_726_12 < var_726_11 and var_726_11 or var_726_12

					var_726_3.transform.localScale = Vector3.New(var_726_13, var_726_13, 0)
				end

				for iter_726_0, iter_726_1 in pairs(arg_723_1.bgs_) do
					if iter_726_0 ~= "B04f" then
						iter_726_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_726_14 = 2

			if var_726_14 < arg_723_1.time_ and arg_723_1.time_ <= var_726_14 + arg_726_0 then
				local var_726_15 = manager.ui.mainCamera.transform.localPosition
				local var_726_16 = Vector3.New(0, 0, 10) + Vector3.New(var_726_15.x, var_726_15.y, 0)
				local var_726_17 = arg_723_1.bgs_.B04f

				var_726_17.transform.localPosition = var_726_16
				var_726_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_726_18 = var_726_17:GetComponent("SpriteRenderer")

				if var_726_18 and var_726_18.sprite then
					local var_726_19 = (var_726_17.transform.localPosition - var_726_15).z
					local var_726_20 = manager.ui.mainCameraCom_
					local var_726_21 = 2 * var_726_19 * Mathf.Tan(var_726_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_726_22 = var_726_21 * var_726_20.aspect
					local var_726_23 = var_726_18.sprite.bounds.size.x
					local var_726_24 = var_726_18.sprite.bounds.size.y
					local var_726_25 = var_726_22 / var_726_23
					local var_726_26 = var_726_21 / var_726_24
					local var_726_27 = var_726_26 < var_726_25 and var_726_25 or var_726_26

					var_726_17.transform.localScale = Vector3.New(var_726_27, var_726_27, 0)
				end

				for iter_726_2, iter_726_3 in pairs(arg_723_1.bgs_) do
					if iter_726_2 ~= "B04f" then
						iter_726_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_726_28 = 0

			if var_726_28 < arg_723_1.time_ and arg_723_1.time_ <= var_726_28 + arg_726_0 then
				arg_723_1.mask_.enabled = true
				arg_723_1.mask_.raycastTarget = true

				arg_723_1:SetGaussion(false)
			end

			local var_726_29 = 2

			if var_726_28 <= arg_723_1.time_ and arg_723_1.time_ < var_726_28 + var_726_29 then
				local var_726_30 = (arg_723_1.time_ - var_726_28) / var_726_29
				local var_726_31 = Color.New(0, 0, 0)

				var_726_31.a = Mathf.Lerp(0, 1, var_726_30)
				arg_723_1.mask_.color = var_726_31
			end

			if arg_723_1.time_ >= var_726_28 + var_726_29 and arg_723_1.time_ < var_726_28 + var_726_29 + arg_726_0 then
				local var_726_32 = Color.New(0, 0, 0)

				var_726_32.a = 1
				arg_723_1.mask_.color = var_726_32
			end

			local var_726_33 = 2

			if var_726_33 < arg_723_1.time_ and arg_723_1.time_ <= var_726_33 + arg_726_0 then
				arg_723_1.mask_.enabled = true
				arg_723_1.mask_.raycastTarget = true

				arg_723_1:SetGaussion(false)
			end

			local var_726_34 = 2.03400000184774

			if var_726_33 <= arg_723_1.time_ and arg_723_1.time_ < var_726_33 + var_726_34 then
				local var_726_35 = (arg_723_1.time_ - var_726_33) / var_726_34
				local var_726_36 = Color.New(0, 0, 0)

				var_726_36.a = Mathf.Lerp(1, 0, var_726_35)
				arg_723_1.mask_.color = var_726_36
			end

			if arg_723_1.time_ >= var_726_33 + var_726_34 and arg_723_1.time_ < var_726_33 + var_726_34 + arg_726_0 then
				local var_726_37 = Color.New(0, 0, 0)
				local var_726_38 = 0

				arg_723_1.mask_.enabled = false
				var_726_37.a = var_726_38
				arg_723_1.mask_.color = var_726_37
			end

			local var_726_39 = arg_723_1.actors_["1095ui_story"].transform
			local var_726_40 = 4

			if var_726_40 < arg_723_1.time_ and arg_723_1.time_ <= var_726_40 + arg_726_0 then
				arg_723_1.var_.moveOldPos1095ui_story = var_726_39.localPosition
			end

			local var_726_41 = 0.001

			if var_726_40 <= arg_723_1.time_ and arg_723_1.time_ < var_726_40 + var_726_41 then
				local var_726_42 = (arg_723_1.time_ - var_726_40) / var_726_41
				local var_726_43 = Vector3.New(0, -0.98, -6.1)

				var_726_39.localPosition = Vector3.Lerp(arg_723_1.var_.moveOldPos1095ui_story, var_726_43, var_726_42)

				local var_726_44 = manager.ui.mainCamera.transform.position - var_726_39.position

				var_726_39.forward = Vector3.New(var_726_44.x, var_726_44.y, var_726_44.z)

				local var_726_45 = var_726_39.localEulerAngles

				var_726_45.z = 0
				var_726_45.x = 0
				var_726_39.localEulerAngles = var_726_45
			end

			if arg_723_1.time_ >= var_726_40 + var_726_41 and arg_723_1.time_ < var_726_40 + var_726_41 + arg_726_0 then
				var_726_39.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_726_46 = manager.ui.mainCamera.transform.position - var_726_39.position

				var_726_39.forward = Vector3.New(var_726_46.x, var_726_46.y, var_726_46.z)

				local var_726_47 = var_726_39.localEulerAngles

				var_726_47.z = 0
				var_726_47.x = 0
				var_726_39.localEulerAngles = var_726_47
			end

			local var_726_48 = arg_723_1.actors_["1095ui_story"]
			local var_726_49 = 4

			if var_726_49 < arg_723_1.time_ and arg_723_1.time_ <= var_726_49 + arg_726_0 and arg_723_1.var_.characterEffect1095ui_story == nil then
				arg_723_1.var_.characterEffect1095ui_story = var_726_48:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_726_50 = 0.200000002980232

			if var_726_49 <= arg_723_1.time_ and arg_723_1.time_ < var_726_49 + var_726_50 then
				local var_726_51 = (arg_723_1.time_ - var_726_49) / var_726_50

				if arg_723_1.var_.characterEffect1095ui_story then
					local var_726_52 = Mathf.Lerp(0, 0.5, var_726_51)

					arg_723_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_723_1.var_.characterEffect1095ui_story.fillRatio = var_726_52
				end
			end

			if arg_723_1.time_ >= var_726_49 + var_726_50 and arg_723_1.time_ < var_726_49 + var_726_50 + arg_726_0 and arg_723_1.var_.characterEffect1095ui_story then
				local var_726_53 = 0.5

				arg_723_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_723_1.var_.characterEffect1095ui_story.fillRatio = var_726_53
			end

			local var_726_54 = 4

			if var_726_54 < arg_723_1.time_ and arg_723_1.time_ <= var_726_54 + arg_726_0 then
				arg_723_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_726_55 = 4

			if var_726_55 < arg_723_1.time_ and arg_723_1.time_ <= var_726_55 + arg_726_0 then
				arg_723_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_726_56 = arg_723_1.actors_["1095ui_story"].transform
			local var_726_57 = 2

			if var_726_57 < arg_723_1.time_ and arg_723_1.time_ <= var_726_57 + arg_726_0 then
				arg_723_1.var_.moveOldPos1095ui_story = var_726_56.localPosition
			end

			local var_726_58 = 0.001

			if var_726_57 <= arg_723_1.time_ and arg_723_1.time_ < var_726_57 + var_726_58 then
				local var_726_59 = (arg_723_1.time_ - var_726_57) / var_726_58
				local var_726_60 = Vector3.New(0, 100, 0)

				var_726_56.localPosition = Vector3.Lerp(arg_723_1.var_.moveOldPos1095ui_story, var_726_60, var_726_59)

				local var_726_61 = manager.ui.mainCamera.transform.position - var_726_56.position

				var_726_56.forward = Vector3.New(var_726_61.x, var_726_61.y, var_726_61.z)

				local var_726_62 = var_726_56.localEulerAngles

				var_726_62.z = 0
				var_726_62.x = 0
				var_726_56.localEulerAngles = var_726_62
			end

			if arg_723_1.time_ >= var_726_57 + var_726_58 and arg_723_1.time_ < var_726_57 + var_726_58 + arg_726_0 then
				var_726_56.localPosition = Vector3.New(0, 100, 0)

				local var_726_63 = manager.ui.mainCamera.transform.position - var_726_56.position

				var_726_56.forward = Vector3.New(var_726_63.x, var_726_63.y, var_726_63.z)

				local var_726_64 = var_726_56.localEulerAngles

				var_726_64.z = 0
				var_726_64.x = 0
				var_726_56.localEulerAngles = var_726_64
			end

			local var_726_65 = 0
			local var_726_66 = 1

			if var_726_65 < arg_723_1.time_ and arg_723_1.time_ <= var_726_65 + arg_726_0 then
				local var_726_67 = "stop"
				local var_726_68 = "effect"

				arg_723_1:AudioAction(var_726_67, var_726_68, "se_story_123_01", "se_story_123_01_medical", "")
			end

			if arg_723_1.frameCnt_ <= 1 then
				arg_723_1.dialog_:SetActive(false)
			end

			local var_726_69 = 4
			local var_726_70 = 0.425

			if var_726_69 < arg_723_1.time_ and arg_723_1.time_ <= var_726_69 + arg_726_0 then
				arg_723_1.talkMaxDuration = 0

				arg_723_1.dialog_:SetActive(true)

				local var_726_71 = LeanTween.value(arg_723_1.dialog_, 0, 1, 0.3)

				var_726_71:setOnUpdate(LuaHelper.FloatAction(function(arg_727_0)
					arg_723_1.dialogCg_.alpha = arg_727_0
				end))
				var_726_71:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_723_1.dialog_)
					var_726_71:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_723_1.duration_ = arg_723_1.duration_ + 0.3

				SetActive(arg_723_1.leftNameGo_, true)

				local var_726_72 = arg_723_1:FormatText(StoryNameCfg[471].name)

				arg_723_1.leftNameTxt_.text = var_726_72

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_723_1.leftNameTxt_.transform)

				arg_723_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_723_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_723_1:RecordName(arg_723_1.leftNameTxt_.text)
				SetActive(arg_723_1.iconTrs_.gameObject, false)
				arg_723_1.callingController_:SetSelectedState("normal")

				local var_726_73 = arg_723_1:GetWordFromCfg(411121171)
				local var_726_74 = arg_723_1:FormatText(var_726_73.content)

				arg_723_1.text_.text = var_726_74

				LuaForUtil.ClearLinePrefixSymbol(arg_723_1.text_)

				local var_726_75 = 17
				local var_726_76 = utf8.len(var_726_74)
				local var_726_77 = var_726_75 <= 0 and var_726_70 or var_726_70 * (var_726_76 / var_726_75)

				if var_726_77 > 0 and var_726_70 < var_726_77 then
					arg_723_1.talkMaxDuration = var_726_77
					var_726_69 = var_726_69 + 0.3

					if var_726_77 + var_726_69 > arg_723_1.duration_ then
						arg_723_1.duration_ = var_726_77 + var_726_69
					end
				end

				arg_723_1.text_.text = var_726_74
				arg_723_1.typewritter.percent = 0

				arg_723_1.typewritter:SetDirty()
				arg_723_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121171", "story_v_out_411121.awb") ~= 0 then
					local var_726_78 = manager.audio:GetVoiceLength("story_v_out_411121", "411121171", "story_v_out_411121.awb") / 1000

					if var_726_78 + var_726_69 > arg_723_1.duration_ then
						arg_723_1.duration_ = var_726_78 + var_726_69
					end

					if var_726_73.prefab_name ~= "" and arg_723_1.actors_[var_726_73.prefab_name] ~= nil then
						local var_726_79 = LuaForUtil.PlayVoiceWithCriLipsync(arg_723_1.actors_[var_726_73.prefab_name].transform, "story_v_out_411121", "411121171", "story_v_out_411121.awb")

						arg_723_1:RecordAudio("411121171", var_726_79)
						arg_723_1:RecordAudio("411121171", var_726_79)
					else
						arg_723_1:AudioAction("play", "voice", "story_v_out_411121", "411121171", "story_v_out_411121.awb")
					end

					arg_723_1:RecordHistoryTalkVoice("story_v_out_411121", "411121171", "story_v_out_411121.awb")
				end

				arg_723_1:RecordContent(arg_723_1.text_.text)
			end

			local var_726_80 = var_726_69 + 0.3
			local var_726_81 = math.max(var_726_70, arg_723_1.talkMaxDuration)

			if var_726_80 <= arg_723_1.time_ and arg_723_1.time_ < var_726_80 + var_726_81 then
				arg_723_1.typewritter.percent = (arg_723_1.time_ - var_726_80) / var_726_81

				arg_723_1.typewritter:SetDirty()
			end

			if arg_723_1.time_ >= var_726_80 + var_726_81 and arg_723_1.time_ < var_726_80 + var_726_81 + arg_726_0 then
				arg_723_1.typewritter.percent = 1

				arg_723_1.typewritter:SetDirty()
				arg_723_1:ShowNextGo(true)
			end
		end
	end,
	Play411121172 = function(arg_729_0, arg_729_1)
		arg_729_1.time_ = 0
		arg_729_1.frameCnt_ = 0
		arg_729_1.state_ = "playing"
		arg_729_1.curTalkId_ = 411121172
		arg_729_1.duration_ = 5

		SetActive(arg_729_1.tipsGo_, false)

		function arg_729_1.onSingleLineFinish_()
			arg_729_1.onSingleLineUpdate_ = nil
			arg_729_1.onSingleLineFinish_ = nil
			arg_729_1.state_ = "waiting"
		end

		function arg_729_1.playNext_(arg_731_0)
			if arg_731_0 == 1 then
				arg_729_0:Play411121173(arg_729_1)
			end
		end

		function arg_729_1.onSingleLineUpdate_(arg_732_0)
			local var_732_0 = arg_729_1.actors_["1095ui_story"]
			local var_732_1 = 0

			if var_732_1 < arg_729_1.time_ and arg_729_1.time_ <= var_732_1 + arg_732_0 and arg_729_1.var_.characterEffect1095ui_story == nil then
				arg_729_1.var_.characterEffect1095ui_story = var_732_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_732_2 = 0.200000002980232

			if var_732_1 <= arg_729_1.time_ and arg_729_1.time_ < var_732_1 + var_732_2 then
				local var_732_3 = (arg_729_1.time_ - var_732_1) / var_732_2

				if arg_729_1.var_.characterEffect1095ui_story then
					local var_732_4 = Mathf.Lerp(0, 0.5, var_732_3)

					arg_729_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_729_1.var_.characterEffect1095ui_story.fillRatio = var_732_4
				end
			end

			if arg_729_1.time_ >= var_732_1 + var_732_2 and arg_729_1.time_ < var_732_1 + var_732_2 + arg_732_0 and arg_729_1.var_.characterEffect1095ui_story then
				local var_732_5 = 0.5

				arg_729_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_729_1.var_.characterEffect1095ui_story.fillRatio = var_732_5
			end

			local var_732_6 = 0
			local var_732_7 = 1.025

			if var_732_6 < arg_729_1.time_ and arg_729_1.time_ <= var_732_6 + arg_732_0 then
				arg_729_1.talkMaxDuration = 0
				arg_729_1.dialogCg_.alpha = 1

				arg_729_1.dialog_:SetActive(true)
				SetActive(arg_729_1.leftNameGo_, false)

				arg_729_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_729_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_729_1:RecordName(arg_729_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_729_1.iconTrs_.gameObject, false)
				arg_729_1.callingController_:SetSelectedState("normal")

				local var_732_8 = arg_729_1:GetWordFromCfg(411121172)
				local var_732_9 = arg_729_1:FormatText(var_732_8.content)

				arg_729_1.text_.text = var_732_9

				LuaForUtil.ClearLinePrefixSymbol(arg_729_1.text_)

				local var_732_10 = 41
				local var_732_11 = utf8.len(var_732_9)
				local var_732_12 = var_732_10 <= 0 and var_732_7 or var_732_7 * (var_732_11 / var_732_10)

				if var_732_12 > 0 and var_732_7 < var_732_12 then
					arg_729_1.talkMaxDuration = var_732_12

					if var_732_12 + var_732_6 > arg_729_1.duration_ then
						arg_729_1.duration_ = var_732_12 + var_732_6
					end
				end

				arg_729_1.text_.text = var_732_9
				arg_729_1.typewritter.percent = 0

				arg_729_1.typewritter:SetDirty()
				arg_729_1:ShowNextGo(false)
				arg_729_1:RecordContent(arg_729_1.text_.text)
			end

			local var_732_13 = math.max(var_732_7, arg_729_1.talkMaxDuration)

			if var_732_6 <= arg_729_1.time_ and arg_729_1.time_ < var_732_6 + var_732_13 then
				arg_729_1.typewritter.percent = (arg_729_1.time_ - var_732_6) / var_732_13

				arg_729_1.typewritter:SetDirty()
			end

			if arg_729_1.time_ >= var_732_6 + var_732_13 and arg_729_1.time_ < var_732_6 + var_732_13 + arg_732_0 then
				arg_729_1.typewritter.percent = 1

				arg_729_1.typewritter:SetDirty()
				arg_729_1:ShowNextGo(true)
			end
		end
	end,
	Play411121173 = function(arg_733_0, arg_733_1)
		arg_733_1.time_ = 0
		arg_733_1.frameCnt_ = 0
		arg_733_1.state_ = "playing"
		arg_733_1.curTalkId_ = 411121173
		arg_733_1.duration_ = 3.833

		local var_733_0 = {
			zh = 3.833,
			ja = 1.433
		}
		local var_733_1 = manager.audio:GetLocalizationFlag()

		if var_733_0[var_733_1] ~= nil then
			arg_733_1.duration_ = var_733_0[var_733_1]
		end

		SetActive(arg_733_1.tipsGo_, false)

		function arg_733_1.onSingleLineFinish_()
			arg_733_1.onSingleLineUpdate_ = nil
			arg_733_1.onSingleLineFinish_ = nil
			arg_733_1.state_ = "waiting"
		end

		function arg_733_1.playNext_(arg_735_0)
			if arg_735_0 == 1 then
				arg_733_0:Play411121174(arg_733_1)
			end
		end

		function arg_733_1.onSingleLineUpdate_(arg_736_0)
			local var_736_0 = arg_733_1.actors_["1095ui_story"]
			local var_736_1 = 0

			if var_736_1 < arg_733_1.time_ and arg_733_1.time_ <= var_736_1 + arg_736_0 and arg_733_1.var_.characterEffect1095ui_story == nil then
				arg_733_1.var_.characterEffect1095ui_story = var_736_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_736_2 = 0.200000002980232

			if var_736_1 <= arg_733_1.time_ and arg_733_1.time_ < var_736_1 + var_736_2 then
				local var_736_3 = (arg_733_1.time_ - var_736_1) / var_736_2

				if arg_733_1.var_.characterEffect1095ui_story then
					arg_733_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_733_1.time_ >= var_736_1 + var_736_2 and arg_733_1.time_ < var_736_1 + var_736_2 + arg_736_0 and arg_733_1.var_.characterEffect1095ui_story then
				arg_733_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_736_4 = 0
			local var_736_5 = 0.375

			if var_736_4 < arg_733_1.time_ and arg_733_1.time_ <= var_736_4 + arg_736_0 then
				arg_733_1.talkMaxDuration = 0
				arg_733_1.dialogCg_.alpha = 1

				arg_733_1.dialog_:SetActive(true)
				SetActive(arg_733_1.leftNameGo_, true)

				local var_736_6 = arg_733_1:FormatText(StoryNameCfg[471].name)

				arg_733_1.leftNameTxt_.text = var_736_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_733_1.leftNameTxt_.transform)

				arg_733_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_733_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_733_1:RecordName(arg_733_1.leftNameTxt_.text)
				SetActive(arg_733_1.iconTrs_.gameObject, false)
				arg_733_1.callingController_:SetSelectedState("normal")

				local var_736_7 = arg_733_1:GetWordFromCfg(411121173)
				local var_736_8 = arg_733_1:FormatText(var_736_7.content)

				arg_733_1.text_.text = var_736_8

				LuaForUtil.ClearLinePrefixSymbol(arg_733_1.text_)

				local var_736_9 = 15
				local var_736_10 = utf8.len(var_736_8)
				local var_736_11 = var_736_9 <= 0 and var_736_5 or var_736_5 * (var_736_10 / var_736_9)

				if var_736_11 > 0 and var_736_5 < var_736_11 then
					arg_733_1.talkMaxDuration = var_736_11

					if var_736_11 + var_736_4 > arg_733_1.duration_ then
						arg_733_1.duration_ = var_736_11 + var_736_4
					end
				end

				arg_733_1.text_.text = var_736_8
				arg_733_1.typewritter.percent = 0

				arg_733_1.typewritter:SetDirty()
				arg_733_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121173", "story_v_out_411121.awb") ~= 0 then
					local var_736_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121173", "story_v_out_411121.awb") / 1000

					if var_736_12 + var_736_4 > arg_733_1.duration_ then
						arg_733_1.duration_ = var_736_12 + var_736_4
					end

					if var_736_7.prefab_name ~= "" and arg_733_1.actors_[var_736_7.prefab_name] ~= nil then
						local var_736_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_733_1.actors_[var_736_7.prefab_name].transform, "story_v_out_411121", "411121173", "story_v_out_411121.awb")

						arg_733_1:RecordAudio("411121173", var_736_13)
						arg_733_1:RecordAudio("411121173", var_736_13)
					else
						arg_733_1:AudioAction("play", "voice", "story_v_out_411121", "411121173", "story_v_out_411121.awb")
					end

					arg_733_1:RecordHistoryTalkVoice("story_v_out_411121", "411121173", "story_v_out_411121.awb")
				end

				arg_733_1:RecordContent(arg_733_1.text_.text)
			end

			local var_736_14 = math.max(var_736_5, arg_733_1.talkMaxDuration)

			if var_736_4 <= arg_733_1.time_ and arg_733_1.time_ < var_736_4 + var_736_14 then
				arg_733_1.typewritter.percent = (arg_733_1.time_ - var_736_4) / var_736_14

				arg_733_1.typewritter:SetDirty()
			end

			if arg_733_1.time_ >= var_736_4 + var_736_14 and arg_733_1.time_ < var_736_4 + var_736_14 + arg_736_0 then
				arg_733_1.typewritter.percent = 1

				arg_733_1.typewritter:SetDirty()
				arg_733_1:ShowNextGo(true)
			end
		end
	end,
	Play411121174 = function(arg_737_0, arg_737_1)
		arg_737_1.time_ = 0
		arg_737_1.frameCnt_ = 0
		arg_737_1.state_ = "playing"
		arg_737_1.curTalkId_ = 411121174
		arg_737_1.duration_ = 10.8

		local var_737_0 = {
			zh = 10.8,
			ja = 9.566
		}
		local var_737_1 = manager.audio:GetLocalizationFlag()

		if var_737_0[var_737_1] ~= nil then
			arg_737_1.duration_ = var_737_0[var_737_1]
		end

		SetActive(arg_737_1.tipsGo_, false)

		function arg_737_1.onSingleLineFinish_()
			arg_737_1.onSingleLineUpdate_ = nil
			arg_737_1.onSingleLineFinish_ = nil
			arg_737_1.state_ = "waiting"
		end

		function arg_737_1.playNext_(arg_739_0)
			if arg_739_0 == 1 then
				arg_737_0:Play411121175(arg_737_1)
			end
		end

		function arg_737_1.onSingleLineUpdate_(arg_740_0)
			local var_740_0 = arg_737_1.actors_["1095ui_story"]
			local var_740_1 = 0

			if var_740_1 < arg_737_1.time_ and arg_737_1.time_ <= var_740_1 + arg_740_0 and arg_737_1.var_.characterEffect1095ui_story == nil then
				arg_737_1.var_.characterEffect1095ui_story = var_740_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_740_2 = 0.200000002980232

			if var_740_1 <= arg_737_1.time_ and arg_737_1.time_ < var_740_1 + var_740_2 then
				local var_740_3 = (arg_737_1.time_ - var_740_1) / var_740_2

				if arg_737_1.var_.characterEffect1095ui_story then
					local var_740_4 = Mathf.Lerp(0, 0.5, var_740_3)

					arg_737_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_737_1.var_.characterEffect1095ui_story.fillRatio = var_740_4
				end
			end

			if arg_737_1.time_ >= var_740_1 + var_740_2 and arg_737_1.time_ < var_740_1 + var_740_2 + arg_740_0 and arg_737_1.var_.characterEffect1095ui_story then
				local var_740_5 = 0.5

				arg_737_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_737_1.var_.characterEffect1095ui_story.fillRatio = var_740_5
			end

			local var_740_6 = 0
			local var_740_7 = 0.85

			if var_740_6 < arg_737_1.time_ and arg_737_1.time_ <= var_740_6 + arg_740_0 then
				arg_737_1.talkMaxDuration = 0
				arg_737_1.dialogCg_.alpha = 1

				arg_737_1.dialog_:SetActive(true)
				SetActive(arg_737_1.leftNameGo_, true)

				local var_740_8 = arg_737_1:FormatText(StoryNameCfg[670].name)

				arg_737_1.leftNameTxt_.text = var_740_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_737_1.leftNameTxt_.transform)

				arg_737_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_737_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_737_1:RecordName(arg_737_1.leftNameTxt_.text)
				SetActive(arg_737_1.iconTrs_.gameObject, true)
				arg_737_1.iconController_:SetSelectedState("hero")

				arg_737_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_737_1.callingController_:SetSelectedState("normal")

				local var_740_9 = arg_737_1:GetWordFromCfg(411121174)
				local var_740_10 = arg_737_1:FormatText(var_740_9.content)

				arg_737_1.text_.text = var_740_10

				LuaForUtil.ClearLinePrefixSymbol(arg_737_1.text_)

				local var_740_11 = 34
				local var_740_12 = utf8.len(var_740_10)
				local var_740_13 = var_740_11 <= 0 and var_740_7 or var_740_7 * (var_740_12 / var_740_11)

				if var_740_13 > 0 and var_740_7 < var_740_13 then
					arg_737_1.talkMaxDuration = var_740_13

					if var_740_13 + var_740_6 > arg_737_1.duration_ then
						arg_737_1.duration_ = var_740_13 + var_740_6
					end
				end

				arg_737_1.text_.text = var_740_10
				arg_737_1.typewritter.percent = 0

				arg_737_1.typewritter:SetDirty()
				arg_737_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121174", "story_v_out_411121.awb") ~= 0 then
					local var_740_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121174", "story_v_out_411121.awb") / 1000

					if var_740_14 + var_740_6 > arg_737_1.duration_ then
						arg_737_1.duration_ = var_740_14 + var_740_6
					end

					if var_740_9.prefab_name ~= "" and arg_737_1.actors_[var_740_9.prefab_name] ~= nil then
						local var_740_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_737_1.actors_[var_740_9.prefab_name].transform, "story_v_out_411121", "411121174", "story_v_out_411121.awb")

						arg_737_1:RecordAudio("411121174", var_740_15)
						arg_737_1:RecordAudio("411121174", var_740_15)
					else
						arg_737_1:AudioAction("play", "voice", "story_v_out_411121", "411121174", "story_v_out_411121.awb")
					end

					arg_737_1:RecordHistoryTalkVoice("story_v_out_411121", "411121174", "story_v_out_411121.awb")
				end

				arg_737_1:RecordContent(arg_737_1.text_.text)
			end

			local var_740_16 = math.max(var_740_7, arg_737_1.talkMaxDuration)

			if var_740_6 <= arg_737_1.time_ and arg_737_1.time_ < var_740_6 + var_740_16 then
				arg_737_1.typewritter.percent = (arg_737_1.time_ - var_740_6) / var_740_16

				arg_737_1.typewritter:SetDirty()
			end

			if arg_737_1.time_ >= var_740_6 + var_740_16 and arg_737_1.time_ < var_740_6 + var_740_16 + arg_740_0 then
				arg_737_1.typewritter.percent = 1

				arg_737_1.typewritter:SetDirty()
				arg_737_1:ShowNextGo(true)
			end
		end
	end,
	Play411121175 = function(arg_741_0, arg_741_1)
		arg_741_1.time_ = 0
		arg_741_1.frameCnt_ = 0
		arg_741_1.state_ = "playing"
		arg_741_1.curTalkId_ = 411121175
		arg_741_1.duration_ = 9.03400000184774

		SetActive(arg_741_1.tipsGo_, false)

		function arg_741_1.onSingleLineFinish_()
			arg_741_1.onSingleLineUpdate_ = nil
			arg_741_1.onSingleLineFinish_ = nil
			arg_741_1.state_ = "waiting"
		end

		function arg_741_1.playNext_(arg_743_0)
			if arg_743_0 == 1 then
				arg_741_0:Play411121176(arg_741_1)
			end
		end

		function arg_741_1.onSingleLineUpdate_(arg_744_0)
			local var_744_0 = arg_741_1.actors_["1095ui_story"].transform
			local var_744_1 = 2

			if var_744_1 < arg_741_1.time_ and arg_741_1.time_ <= var_744_1 + arg_744_0 then
				arg_741_1.var_.moveOldPos1095ui_story = var_744_0.localPosition
			end

			local var_744_2 = 0.001

			if var_744_1 <= arg_741_1.time_ and arg_741_1.time_ < var_744_1 + var_744_2 then
				local var_744_3 = (arg_741_1.time_ - var_744_1) / var_744_2
				local var_744_4 = Vector3.New(0, 100, 0)

				var_744_0.localPosition = Vector3.Lerp(arg_741_1.var_.moveOldPos1095ui_story, var_744_4, var_744_3)

				local var_744_5 = manager.ui.mainCamera.transform.position - var_744_0.position

				var_744_0.forward = Vector3.New(var_744_5.x, var_744_5.y, var_744_5.z)

				local var_744_6 = var_744_0.localEulerAngles

				var_744_6.z = 0
				var_744_6.x = 0
				var_744_0.localEulerAngles = var_744_6
			end

			if arg_741_1.time_ >= var_744_1 + var_744_2 and arg_741_1.time_ < var_744_1 + var_744_2 + arg_744_0 then
				var_744_0.localPosition = Vector3.New(0, 100, 0)

				local var_744_7 = manager.ui.mainCamera.transform.position - var_744_0.position

				var_744_0.forward = Vector3.New(var_744_7.x, var_744_7.y, var_744_7.z)

				local var_744_8 = var_744_0.localEulerAngles

				var_744_8.z = 0
				var_744_8.x = 0
				var_744_0.localEulerAngles = var_744_8
			end

			local var_744_9 = 0

			if var_744_9 < arg_741_1.time_ and arg_741_1.time_ <= var_744_9 + arg_744_0 then
				local var_744_10 = manager.ui.mainCamera.transform.localPosition
				local var_744_11 = Vector3.New(0, 0, 10) + Vector3.New(var_744_10.x, var_744_10.y, 0)
				local var_744_12 = arg_741_1.bgs_.B04f

				var_744_12.transform.localPosition = var_744_11
				var_744_12.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_744_13 = var_744_12:GetComponent("SpriteRenderer")

				if var_744_13 and var_744_13.sprite then
					local var_744_14 = (var_744_12.transform.localPosition - var_744_10).z
					local var_744_15 = manager.ui.mainCameraCom_
					local var_744_16 = 2 * var_744_14 * Mathf.Tan(var_744_15.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_744_17 = var_744_16 * var_744_15.aspect
					local var_744_18 = var_744_13.sprite.bounds.size.x
					local var_744_19 = var_744_13.sprite.bounds.size.y
					local var_744_20 = var_744_17 / var_744_18
					local var_744_21 = var_744_16 / var_744_19
					local var_744_22 = var_744_21 < var_744_20 and var_744_20 or var_744_21

					var_744_12.transform.localScale = Vector3.New(var_744_22, var_744_22, 0)
				end

				for iter_744_0, iter_744_1 in pairs(arg_741_1.bgs_) do
					if iter_744_0 ~= "B04f" then
						iter_744_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_744_23 = "ML0504"

			if arg_741_1.bgs_[var_744_23] == nil then
				local var_744_24 = Object.Instantiate(arg_741_1.paintGo_)

				var_744_24:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_744_23)
				var_744_24.name = var_744_23
				var_744_24.transform.parent = arg_741_1.stage_.transform
				var_744_24.transform.localPosition = Vector3.New(0, 100, 0)
				arg_741_1.bgs_[var_744_23] = var_744_24
			end

			local var_744_25 = 2

			if var_744_25 < arg_741_1.time_ and arg_741_1.time_ <= var_744_25 + arg_744_0 then
				local var_744_26 = manager.ui.mainCamera.transform.localPosition
				local var_744_27 = Vector3.New(0, 0, 10) + Vector3.New(var_744_26.x, var_744_26.y, 0)
				local var_744_28 = arg_741_1.bgs_.ML0504

				var_744_28.transform.localPosition = var_744_27
				var_744_28.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_744_29 = var_744_28:GetComponent("SpriteRenderer")

				if var_744_29 and var_744_29.sprite then
					local var_744_30 = (var_744_28.transform.localPosition - var_744_26).z
					local var_744_31 = manager.ui.mainCameraCom_
					local var_744_32 = 2 * var_744_30 * Mathf.Tan(var_744_31.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_744_33 = var_744_32 * var_744_31.aspect
					local var_744_34 = var_744_29.sprite.bounds.size.x
					local var_744_35 = var_744_29.sprite.bounds.size.y
					local var_744_36 = var_744_33 / var_744_34
					local var_744_37 = var_744_32 / var_744_35
					local var_744_38 = var_744_37 < var_744_36 and var_744_36 or var_744_37

					var_744_28.transform.localScale = Vector3.New(var_744_38, var_744_38, 0)
				end

				for iter_744_2, iter_744_3 in pairs(arg_741_1.bgs_) do
					if iter_744_2 ~= "ML0504" then
						iter_744_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_744_39 = 0

			if var_744_39 < arg_741_1.time_ and arg_741_1.time_ <= var_744_39 + arg_744_0 then
				arg_741_1.mask_.enabled = true
				arg_741_1.mask_.raycastTarget = true

				arg_741_1:SetGaussion(false)
			end

			local var_744_40 = 2

			if var_744_39 <= arg_741_1.time_ and arg_741_1.time_ < var_744_39 + var_744_40 then
				local var_744_41 = (arg_741_1.time_ - var_744_39) / var_744_40
				local var_744_42 = Color.New(0, 0, 0)

				var_744_42.a = Mathf.Lerp(0, 1, var_744_41)
				arg_741_1.mask_.color = var_744_42
			end

			if arg_741_1.time_ >= var_744_39 + var_744_40 and arg_741_1.time_ < var_744_39 + var_744_40 + arg_744_0 then
				local var_744_43 = Color.New(0, 0, 0)

				var_744_43.a = 1
				arg_741_1.mask_.color = var_744_43
			end

			local var_744_44 = 2

			if var_744_44 < arg_741_1.time_ and arg_741_1.time_ <= var_744_44 + arg_744_0 then
				arg_741_1.mask_.enabled = true
				arg_741_1.mask_.raycastTarget = true

				arg_741_1:SetGaussion(false)
			end

			local var_744_45 = 2.03400000184774

			if var_744_44 <= arg_741_1.time_ and arg_741_1.time_ < var_744_44 + var_744_45 then
				local var_744_46 = (arg_741_1.time_ - var_744_44) / var_744_45
				local var_744_47 = Color.New(0, 0, 0)

				var_744_47.a = Mathf.Lerp(1, 0, var_744_46)
				arg_741_1.mask_.color = var_744_47
			end

			if arg_741_1.time_ >= var_744_44 + var_744_45 and arg_741_1.time_ < var_744_44 + var_744_45 + arg_744_0 then
				local var_744_48 = Color.New(0, 0, 0)
				local var_744_49 = 0

				arg_741_1.mask_.enabled = false
				var_744_48.a = var_744_49
				arg_741_1.mask_.color = var_744_48
			end

			if arg_741_1.frameCnt_ <= 1 then
				arg_741_1.dialog_:SetActive(false)
			end

			local var_744_50 = 4.03400000184774
			local var_744_51 = 1.2

			if var_744_50 < arg_741_1.time_ and arg_741_1.time_ <= var_744_50 + arg_744_0 then
				arg_741_1.talkMaxDuration = 0

				arg_741_1.dialog_:SetActive(true)

				local var_744_52 = LeanTween.value(arg_741_1.dialog_, 0, 1, 0.3)

				var_744_52:setOnUpdate(LuaHelper.FloatAction(function(arg_745_0)
					arg_741_1.dialogCg_.alpha = arg_745_0
				end))
				var_744_52:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_741_1.dialog_)
					var_744_52:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_741_1.duration_ = arg_741_1.duration_ + 0.3

				SetActive(arg_741_1.leftNameGo_, false)

				arg_741_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_741_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_741_1:RecordName(arg_741_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_741_1.iconTrs_.gameObject, false)
				arg_741_1.callingController_:SetSelectedState("normal")

				local var_744_53 = arg_741_1:GetWordFromCfg(411121175)
				local var_744_54 = arg_741_1:FormatText(var_744_53.content)

				arg_741_1.text_.text = var_744_54

				LuaForUtil.ClearLinePrefixSymbol(arg_741_1.text_)

				local var_744_55 = 48
				local var_744_56 = utf8.len(var_744_54)
				local var_744_57 = var_744_55 <= 0 and var_744_51 or var_744_51 * (var_744_56 / var_744_55)

				if var_744_57 > 0 and var_744_51 < var_744_57 then
					arg_741_1.talkMaxDuration = var_744_57
					var_744_50 = var_744_50 + 0.3

					if var_744_57 + var_744_50 > arg_741_1.duration_ then
						arg_741_1.duration_ = var_744_57 + var_744_50
					end
				end

				arg_741_1.text_.text = var_744_54
				arg_741_1.typewritter.percent = 0

				arg_741_1.typewritter:SetDirty()
				arg_741_1:ShowNextGo(false)
				arg_741_1:RecordContent(arg_741_1.text_.text)
			end

			local var_744_58 = var_744_50 + 0.3
			local var_744_59 = math.max(var_744_51, arg_741_1.talkMaxDuration)

			if var_744_58 <= arg_741_1.time_ and arg_741_1.time_ < var_744_58 + var_744_59 then
				arg_741_1.typewritter.percent = (arg_741_1.time_ - var_744_58) / var_744_59

				arg_741_1.typewritter:SetDirty()
			end

			if arg_741_1.time_ >= var_744_58 + var_744_59 and arg_741_1.time_ < var_744_58 + var_744_59 + arg_744_0 then
				arg_741_1.typewritter.percent = 1

				arg_741_1.typewritter:SetDirty()
				arg_741_1:ShowNextGo(true)
			end
		end
	end,
	Play411121176 = function(arg_747_0, arg_747_1)
		arg_747_1.time_ = 0
		arg_747_1.frameCnt_ = 0
		arg_747_1.state_ = "playing"
		arg_747_1.curTalkId_ = 411121176
		arg_747_1.duration_ = 9.633

		local var_747_0 = {
			zh = 8.966,
			ja = 9.633
		}
		local var_747_1 = manager.audio:GetLocalizationFlag()

		if var_747_0[var_747_1] ~= nil then
			arg_747_1.duration_ = var_747_0[var_747_1]
		end

		SetActive(arg_747_1.tipsGo_, false)

		function arg_747_1.onSingleLineFinish_()
			arg_747_1.onSingleLineUpdate_ = nil
			arg_747_1.onSingleLineFinish_ = nil
			arg_747_1.state_ = "waiting"
		end

		function arg_747_1.playNext_(arg_749_0)
			if arg_749_0 == 1 then
				arg_747_0:Play411121177(arg_747_1)
			end
		end

		function arg_747_1.onSingleLineUpdate_(arg_750_0)
			local var_750_0 = 0
			local var_750_1 = 1

			if var_750_0 < arg_747_1.time_ and arg_747_1.time_ <= var_750_0 + arg_750_0 then
				arg_747_1.talkMaxDuration = 0
				arg_747_1.dialogCg_.alpha = 1

				arg_747_1.dialog_:SetActive(true)
				SetActive(arg_747_1.leftNameGo_, true)

				local var_750_2 = arg_747_1:FormatText(StoryNameCfg[471].name)

				arg_747_1.leftNameTxt_.text = var_750_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_747_1.leftNameTxt_.transform)

				arg_747_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_747_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_747_1:RecordName(arg_747_1.leftNameTxt_.text)
				SetActive(arg_747_1.iconTrs_.gameObject, false)
				arg_747_1.callingController_:SetSelectedState("normal")

				local var_750_3 = arg_747_1:GetWordFromCfg(411121176)
				local var_750_4 = arg_747_1:FormatText(var_750_3.content)

				arg_747_1.text_.text = var_750_4

				LuaForUtil.ClearLinePrefixSymbol(arg_747_1.text_)

				local var_750_5 = 40
				local var_750_6 = utf8.len(var_750_4)
				local var_750_7 = var_750_5 <= 0 and var_750_1 or var_750_1 * (var_750_6 / var_750_5)

				if var_750_7 > 0 and var_750_1 < var_750_7 then
					arg_747_1.talkMaxDuration = var_750_7

					if var_750_7 + var_750_0 > arg_747_1.duration_ then
						arg_747_1.duration_ = var_750_7 + var_750_0
					end
				end

				arg_747_1.text_.text = var_750_4
				arg_747_1.typewritter.percent = 0

				arg_747_1.typewritter:SetDirty()
				arg_747_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121176", "story_v_out_411121.awb") ~= 0 then
					local var_750_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121176", "story_v_out_411121.awb") / 1000

					if var_750_8 + var_750_0 > arg_747_1.duration_ then
						arg_747_1.duration_ = var_750_8 + var_750_0
					end

					if var_750_3.prefab_name ~= "" and arg_747_1.actors_[var_750_3.prefab_name] ~= nil then
						local var_750_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_747_1.actors_[var_750_3.prefab_name].transform, "story_v_out_411121", "411121176", "story_v_out_411121.awb")

						arg_747_1:RecordAudio("411121176", var_750_9)
						arg_747_1:RecordAudio("411121176", var_750_9)
					else
						arg_747_1:AudioAction("play", "voice", "story_v_out_411121", "411121176", "story_v_out_411121.awb")
					end

					arg_747_1:RecordHistoryTalkVoice("story_v_out_411121", "411121176", "story_v_out_411121.awb")
				end

				arg_747_1:RecordContent(arg_747_1.text_.text)
			end

			local var_750_10 = math.max(var_750_1, arg_747_1.talkMaxDuration)

			if var_750_0 <= arg_747_1.time_ and arg_747_1.time_ < var_750_0 + var_750_10 then
				arg_747_1.typewritter.percent = (arg_747_1.time_ - var_750_0) / var_750_10

				arg_747_1.typewritter:SetDirty()
			end

			if arg_747_1.time_ >= var_750_0 + var_750_10 and arg_747_1.time_ < var_750_0 + var_750_10 + arg_750_0 then
				arg_747_1.typewritter.percent = 1

				arg_747_1.typewritter:SetDirty()
				arg_747_1:ShowNextGo(true)
			end
		end
	end,
	Play411121177 = function(arg_751_0, arg_751_1)
		arg_751_1.time_ = 0
		arg_751_1.frameCnt_ = 0
		arg_751_1.state_ = "playing"
		arg_751_1.curTalkId_ = 411121177
		arg_751_1.duration_ = 1.5

		SetActive(arg_751_1.tipsGo_, false)

		function arg_751_1.onSingleLineFinish_()
			arg_751_1.onSingleLineUpdate_ = nil
			arg_751_1.onSingleLineFinish_ = nil
			arg_751_1.state_ = "waiting"
		end

		function arg_751_1.playNext_(arg_753_0)
			if arg_753_0 == 1 then
				arg_751_0:Play411121178(arg_751_1)
			end
		end

		function arg_751_1.onSingleLineUpdate_(arg_754_0)
			local var_754_0 = 0
			local var_754_1 = 0.15

			if var_754_0 < arg_751_1.time_ and arg_751_1.time_ <= var_754_0 + arg_754_0 then
				arg_751_1.talkMaxDuration = 0
				arg_751_1.dialogCg_.alpha = 1

				arg_751_1.dialog_:SetActive(true)
				SetActive(arg_751_1.leftNameGo_, true)

				local var_754_2 = arg_751_1:FormatText(StoryNameCfg[670].name)

				arg_751_1.leftNameTxt_.text = var_754_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_751_1.leftNameTxt_.transform)

				arg_751_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_751_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_751_1:RecordName(arg_751_1.leftNameTxt_.text)
				SetActive(arg_751_1.iconTrs_.gameObject, false)
				arg_751_1.callingController_:SetSelectedState("normal")

				local var_754_3 = arg_751_1:GetWordFromCfg(411121177)
				local var_754_4 = arg_751_1:FormatText(var_754_3.content)

				arg_751_1.text_.text = var_754_4

				LuaForUtil.ClearLinePrefixSymbol(arg_751_1.text_)

				local var_754_5 = 6
				local var_754_6 = utf8.len(var_754_4)
				local var_754_7 = var_754_5 <= 0 and var_754_1 or var_754_1 * (var_754_6 / var_754_5)

				if var_754_7 > 0 and var_754_1 < var_754_7 then
					arg_751_1.talkMaxDuration = var_754_7

					if var_754_7 + var_754_0 > arg_751_1.duration_ then
						arg_751_1.duration_ = var_754_7 + var_754_0
					end
				end

				arg_751_1.text_.text = var_754_4
				arg_751_1.typewritter.percent = 0

				arg_751_1.typewritter:SetDirty()
				arg_751_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121177", "story_v_out_411121.awb") ~= 0 then
					local var_754_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121177", "story_v_out_411121.awb") / 1000

					if var_754_8 + var_754_0 > arg_751_1.duration_ then
						arg_751_1.duration_ = var_754_8 + var_754_0
					end

					if var_754_3.prefab_name ~= "" and arg_751_1.actors_[var_754_3.prefab_name] ~= nil then
						local var_754_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_751_1.actors_[var_754_3.prefab_name].transform, "story_v_out_411121", "411121177", "story_v_out_411121.awb")

						arg_751_1:RecordAudio("411121177", var_754_9)
						arg_751_1:RecordAudio("411121177", var_754_9)
					else
						arg_751_1:AudioAction("play", "voice", "story_v_out_411121", "411121177", "story_v_out_411121.awb")
					end

					arg_751_1:RecordHistoryTalkVoice("story_v_out_411121", "411121177", "story_v_out_411121.awb")
				end

				arg_751_1:RecordContent(arg_751_1.text_.text)
			end

			local var_754_10 = math.max(var_754_1, arg_751_1.talkMaxDuration)

			if var_754_0 <= arg_751_1.time_ and arg_751_1.time_ < var_754_0 + var_754_10 then
				arg_751_1.typewritter.percent = (arg_751_1.time_ - var_754_0) / var_754_10

				arg_751_1.typewritter:SetDirty()
			end

			if arg_751_1.time_ >= var_754_0 + var_754_10 and arg_751_1.time_ < var_754_0 + var_754_10 + arg_754_0 then
				arg_751_1.typewritter.percent = 1

				arg_751_1.typewritter:SetDirty()
				arg_751_1:ShowNextGo(true)
			end
		end
	end,
	Play411121178 = function(arg_755_0, arg_755_1)
		arg_755_1.time_ = 0
		arg_755_1.frameCnt_ = 0
		arg_755_1.state_ = "playing"
		arg_755_1.curTalkId_ = 411121178
		arg_755_1.duration_ = 5.1

		local var_755_0 = {
			zh = 4.633,
			ja = 5.1
		}
		local var_755_1 = manager.audio:GetLocalizationFlag()

		if var_755_0[var_755_1] ~= nil then
			arg_755_1.duration_ = var_755_0[var_755_1]
		end

		SetActive(arg_755_1.tipsGo_, false)

		function arg_755_1.onSingleLineFinish_()
			arg_755_1.onSingleLineUpdate_ = nil
			arg_755_1.onSingleLineFinish_ = nil
			arg_755_1.state_ = "waiting"
		end

		function arg_755_1.playNext_(arg_757_0)
			if arg_757_0 == 1 then
				arg_755_0:Play411121179(arg_755_1)
			end
		end

		function arg_755_1.onSingleLineUpdate_(arg_758_0)
			local var_758_0 = 0
			local var_758_1 = 0.35

			if var_758_0 < arg_755_1.time_ and arg_755_1.time_ <= var_758_0 + arg_758_0 then
				arg_755_1.talkMaxDuration = 0
				arg_755_1.dialogCg_.alpha = 1

				arg_755_1.dialog_:SetActive(true)
				SetActive(arg_755_1.leftNameGo_, true)

				local var_758_2 = arg_755_1:FormatText(StoryNameCfg[670].name)

				arg_755_1.leftNameTxt_.text = var_758_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_755_1.leftNameTxt_.transform)

				arg_755_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_755_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_755_1:RecordName(arg_755_1.leftNameTxt_.text)
				SetActive(arg_755_1.iconTrs_.gameObject, false)
				arg_755_1.callingController_:SetSelectedState("normal")

				local var_758_3 = arg_755_1:GetWordFromCfg(411121178)
				local var_758_4 = arg_755_1:FormatText(var_758_3.content)

				arg_755_1.text_.text = var_758_4

				LuaForUtil.ClearLinePrefixSymbol(arg_755_1.text_)

				local var_758_5 = 14
				local var_758_6 = utf8.len(var_758_4)
				local var_758_7 = var_758_5 <= 0 and var_758_1 or var_758_1 * (var_758_6 / var_758_5)

				if var_758_7 > 0 and var_758_1 < var_758_7 then
					arg_755_1.talkMaxDuration = var_758_7

					if var_758_7 + var_758_0 > arg_755_1.duration_ then
						arg_755_1.duration_ = var_758_7 + var_758_0
					end
				end

				arg_755_1.text_.text = var_758_4
				arg_755_1.typewritter.percent = 0

				arg_755_1.typewritter:SetDirty()
				arg_755_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121178", "story_v_out_411121.awb") ~= 0 then
					local var_758_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121178", "story_v_out_411121.awb") / 1000

					if var_758_8 + var_758_0 > arg_755_1.duration_ then
						arg_755_1.duration_ = var_758_8 + var_758_0
					end

					if var_758_3.prefab_name ~= "" and arg_755_1.actors_[var_758_3.prefab_name] ~= nil then
						local var_758_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_755_1.actors_[var_758_3.prefab_name].transform, "story_v_out_411121", "411121178", "story_v_out_411121.awb")

						arg_755_1:RecordAudio("411121178", var_758_9)
						arg_755_1:RecordAudio("411121178", var_758_9)
					else
						arg_755_1:AudioAction("play", "voice", "story_v_out_411121", "411121178", "story_v_out_411121.awb")
					end

					arg_755_1:RecordHistoryTalkVoice("story_v_out_411121", "411121178", "story_v_out_411121.awb")
				end

				arg_755_1:RecordContent(arg_755_1.text_.text)
			end

			local var_758_10 = math.max(var_758_1, arg_755_1.talkMaxDuration)

			if var_758_0 <= arg_755_1.time_ and arg_755_1.time_ < var_758_0 + var_758_10 then
				arg_755_1.typewritter.percent = (arg_755_1.time_ - var_758_0) / var_758_10

				arg_755_1.typewritter:SetDirty()
			end

			if arg_755_1.time_ >= var_758_0 + var_758_10 and arg_755_1.time_ < var_758_0 + var_758_10 + arg_758_0 then
				arg_755_1.typewritter.percent = 1

				arg_755_1.typewritter:SetDirty()
				arg_755_1:ShowNextGo(true)
			end
		end
	end,
	Play411121179 = function(arg_759_0, arg_759_1)
		arg_759_1.time_ = 0
		arg_759_1.frameCnt_ = 0
		arg_759_1.state_ = "playing"
		arg_759_1.curTalkId_ = 411121179
		arg_759_1.duration_ = 5

		SetActive(arg_759_1.tipsGo_, false)

		function arg_759_1.onSingleLineFinish_()
			arg_759_1.onSingleLineUpdate_ = nil
			arg_759_1.onSingleLineFinish_ = nil
			arg_759_1.state_ = "waiting"
		end

		function arg_759_1.playNext_(arg_761_0)
			if arg_761_0 == 1 then
				arg_759_0:Play411121180(arg_759_1)
			end
		end

		function arg_759_1.onSingleLineUpdate_(arg_762_0)
			local var_762_0 = 0
			local var_762_1 = 0.65

			if var_762_0 < arg_759_1.time_ and arg_759_1.time_ <= var_762_0 + arg_762_0 then
				arg_759_1.talkMaxDuration = 0
				arg_759_1.dialogCg_.alpha = 1

				arg_759_1.dialog_:SetActive(true)
				SetActive(arg_759_1.leftNameGo_, false)

				arg_759_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_759_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_759_1:RecordName(arg_759_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_759_1.iconTrs_.gameObject, false)
				arg_759_1.callingController_:SetSelectedState("normal")

				local var_762_2 = arg_759_1:GetWordFromCfg(411121179)
				local var_762_3 = arg_759_1:FormatText(var_762_2.content)

				arg_759_1.text_.text = var_762_3

				LuaForUtil.ClearLinePrefixSymbol(arg_759_1.text_)

				local var_762_4 = 26
				local var_762_5 = utf8.len(var_762_3)
				local var_762_6 = var_762_4 <= 0 and var_762_1 or var_762_1 * (var_762_5 / var_762_4)

				if var_762_6 > 0 and var_762_1 < var_762_6 then
					arg_759_1.talkMaxDuration = var_762_6

					if var_762_6 + var_762_0 > arg_759_1.duration_ then
						arg_759_1.duration_ = var_762_6 + var_762_0
					end
				end

				arg_759_1.text_.text = var_762_3
				arg_759_1.typewritter.percent = 0

				arg_759_1.typewritter:SetDirty()
				arg_759_1:ShowNextGo(false)
				arg_759_1:RecordContent(arg_759_1.text_.text)
			end

			local var_762_7 = math.max(var_762_1, arg_759_1.talkMaxDuration)

			if var_762_0 <= arg_759_1.time_ and arg_759_1.time_ < var_762_0 + var_762_7 then
				arg_759_1.typewritter.percent = (arg_759_1.time_ - var_762_0) / var_762_7

				arg_759_1.typewritter:SetDirty()
			end

			if arg_759_1.time_ >= var_762_0 + var_762_7 and arg_759_1.time_ < var_762_0 + var_762_7 + arg_762_0 then
				arg_759_1.typewritter.percent = 1

				arg_759_1.typewritter:SetDirty()
				arg_759_1:ShowNextGo(true)
			end
		end
	end,
	Play411121180 = function(arg_763_0, arg_763_1)
		arg_763_1.time_ = 0
		arg_763_1.frameCnt_ = 0
		arg_763_1.state_ = "playing"
		arg_763_1.curTalkId_ = 411121180
		arg_763_1.duration_ = 7

		local var_763_0 = {
			zh = 5.6,
			ja = 7
		}
		local var_763_1 = manager.audio:GetLocalizationFlag()

		if var_763_0[var_763_1] ~= nil then
			arg_763_1.duration_ = var_763_0[var_763_1]
		end

		SetActive(arg_763_1.tipsGo_, false)

		function arg_763_1.onSingleLineFinish_()
			arg_763_1.onSingleLineUpdate_ = nil
			arg_763_1.onSingleLineFinish_ = nil
			arg_763_1.state_ = "waiting"
		end

		function arg_763_1.playNext_(arg_765_0)
			if arg_765_0 == 1 then
				arg_763_0:Play411121181(arg_763_1)
			end
		end

		function arg_763_1.onSingleLineUpdate_(arg_766_0)
			local var_766_0 = 0
			local var_766_1 = 0.55

			if var_766_0 < arg_763_1.time_ and arg_763_1.time_ <= var_766_0 + arg_766_0 then
				arg_763_1.talkMaxDuration = 0
				arg_763_1.dialogCg_.alpha = 1

				arg_763_1.dialog_:SetActive(true)
				SetActive(arg_763_1.leftNameGo_, true)

				local var_766_2 = arg_763_1:FormatText(StoryNameCfg[670].name)

				arg_763_1.leftNameTxt_.text = var_766_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_763_1.leftNameTxt_.transform)

				arg_763_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_763_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_763_1:RecordName(arg_763_1.leftNameTxt_.text)
				SetActive(arg_763_1.iconTrs_.gameObject, false)
				arg_763_1.callingController_:SetSelectedState("normal")

				local var_766_3 = arg_763_1:GetWordFromCfg(411121180)
				local var_766_4 = arg_763_1:FormatText(var_766_3.content)

				arg_763_1.text_.text = var_766_4

				LuaForUtil.ClearLinePrefixSymbol(arg_763_1.text_)

				local var_766_5 = 22
				local var_766_6 = utf8.len(var_766_4)
				local var_766_7 = var_766_5 <= 0 and var_766_1 or var_766_1 * (var_766_6 / var_766_5)

				if var_766_7 > 0 and var_766_1 < var_766_7 then
					arg_763_1.talkMaxDuration = var_766_7

					if var_766_7 + var_766_0 > arg_763_1.duration_ then
						arg_763_1.duration_ = var_766_7 + var_766_0
					end
				end

				arg_763_1.text_.text = var_766_4
				arg_763_1.typewritter.percent = 0

				arg_763_1.typewritter:SetDirty()
				arg_763_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121180", "story_v_out_411121.awb") ~= 0 then
					local var_766_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121180", "story_v_out_411121.awb") / 1000

					if var_766_8 + var_766_0 > arg_763_1.duration_ then
						arg_763_1.duration_ = var_766_8 + var_766_0
					end

					if var_766_3.prefab_name ~= "" and arg_763_1.actors_[var_766_3.prefab_name] ~= nil then
						local var_766_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_763_1.actors_[var_766_3.prefab_name].transform, "story_v_out_411121", "411121180", "story_v_out_411121.awb")

						arg_763_1:RecordAudio("411121180", var_766_9)
						arg_763_1:RecordAudio("411121180", var_766_9)
					else
						arg_763_1:AudioAction("play", "voice", "story_v_out_411121", "411121180", "story_v_out_411121.awb")
					end

					arg_763_1:RecordHistoryTalkVoice("story_v_out_411121", "411121180", "story_v_out_411121.awb")
				end

				arg_763_1:RecordContent(arg_763_1.text_.text)
			end

			local var_766_10 = math.max(var_766_1, arg_763_1.talkMaxDuration)

			if var_766_0 <= arg_763_1.time_ and arg_763_1.time_ < var_766_0 + var_766_10 then
				arg_763_1.typewritter.percent = (arg_763_1.time_ - var_766_0) / var_766_10

				arg_763_1.typewritter:SetDirty()
			end

			if arg_763_1.time_ >= var_766_0 + var_766_10 and arg_763_1.time_ < var_766_0 + var_766_10 + arg_766_0 then
				arg_763_1.typewritter.percent = 1

				arg_763_1.typewritter:SetDirty()
				arg_763_1:ShowNextGo(true)
			end
		end
	end,
	Play411121181 = function(arg_767_0, arg_767_1)
		arg_767_1.time_ = 0
		arg_767_1.frameCnt_ = 0
		arg_767_1.state_ = "playing"
		arg_767_1.curTalkId_ = 411121181
		arg_767_1.duration_ = 11.4

		local var_767_0 = {
			zh = 11.4,
			ja = 9.266
		}
		local var_767_1 = manager.audio:GetLocalizationFlag()

		if var_767_0[var_767_1] ~= nil then
			arg_767_1.duration_ = var_767_0[var_767_1]
		end

		SetActive(arg_767_1.tipsGo_, false)

		function arg_767_1.onSingleLineFinish_()
			arg_767_1.onSingleLineUpdate_ = nil
			arg_767_1.onSingleLineFinish_ = nil
			arg_767_1.state_ = "waiting"
		end

		function arg_767_1.playNext_(arg_769_0)
			if arg_769_0 == 1 then
				arg_767_0:Play411121182(arg_767_1)
			end
		end

		function arg_767_1.onSingleLineUpdate_(arg_770_0)
			local var_770_0 = 0
			local var_770_1 = 1.075

			if var_770_0 < arg_767_1.time_ and arg_767_1.time_ <= var_770_0 + arg_770_0 then
				arg_767_1.talkMaxDuration = 0
				arg_767_1.dialogCg_.alpha = 1

				arg_767_1.dialog_:SetActive(true)
				SetActive(arg_767_1.leftNameGo_, true)

				local var_770_2 = arg_767_1:FormatText(StoryNameCfg[670].name)

				arg_767_1.leftNameTxt_.text = var_770_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_767_1.leftNameTxt_.transform)

				arg_767_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_767_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_767_1:RecordName(arg_767_1.leftNameTxt_.text)
				SetActive(arg_767_1.iconTrs_.gameObject, false)
				arg_767_1.callingController_:SetSelectedState("normal")

				local var_770_3 = arg_767_1:GetWordFromCfg(411121181)
				local var_770_4 = arg_767_1:FormatText(var_770_3.content)

				arg_767_1.text_.text = var_770_4

				LuaForUtil.ClearLinePrefixSymbol(arg_767_1.text_)

				local var_770_5 = 43
				local var_770_6 = utf8.len(var_770_4)
				local var_770_7 = var_770_5 <= 0 and var_770_1 or var_770_1 * (var_770_6 / var_770_5)

				if var_770_7 > 0 and var_770_1 < var_770_7 then
					arg_767_1.talkMaxDuration = var_770_7

					if var_770_7 + var_770_0 > arg_767_1.duration_ then
						arg_767_1.duration_ = var_770_7 + var_770_0
					end
				end

				arg_767_1.text_.text = var_770_4
				arg_767_1.typewritter.percent = 0

				arg_767_1.typewritter:SetDirty()
				arg_767_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121181", "story_v_out_411121.awb") ~= 0 then
					local var_770_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121181", "story_v_out_411121.awb") / 1000

					if var_770_8 + var_770_0 > arg_767_1.duration_ then
						arg_767_1.duration_ = var_770_8 + var_770_0
					end

					if var_770_3.prefab_name ~= "" and arg_767_1.actors_[var_770_3.prefab_name] ~= nil then
						local var_770_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_767_1.actors_[var_770_3.prefab_name].transform, "story_v_out_411121", "411121181", "story_v_out_411121.awb")

						arg_767_1:RecordAudio("411121181", var_770_9)
						arg_767_1:RecordAudio("411121181", var_770_9)
					else
						arg_767_1:AudioAction("play", "voice", "story_v_out_411121", "411121181", "story_v_out_411121.awb")
					end

					arg_767_1:RecordHistoryTalkVoice("story_v_out_411121", "411121181", "story_v_out_411121.awb")
				end

				arg_767_1:RecordContent(arg_767_1.text_.text)
			end

			local var_770_10 = math.max(var_770_1, arg_767_1.talkMaxDuration)

			if var_770_0 <= arg_767_1.time_ and arg_767_1.time_ < var_770_0 + var_770_10 then
				arg_767_1.typewritter.percent = (arg_767_1.time_ - var_770_0) / var_770_10

				arg_767_1.typewritter:SetDirty()
			end

			if arg_767_1.time_ >= var_770_0 + var_770_10 and arg_767_1.time_ < var_770_0 + var_770_10 + arg_770_0 then
				arg_767_1.typewritter.percent = 1

				arg_767_1.typewritter:SetDirty()
				arg_767_1:ShowNextGo(true)
			end
		end
	end,
	Play411121182 = function(arg_771_0, arg_771_1)
		arg_771_1.time_ = 0
		arg_771_1.frameCnt_ = 0
		arg_771_1.state_ = "playing"
		arg_771_1.curTalkId_ = 411121182
		arg_771_1.duration_ = 9.1

		local var_771_0 = {
			zh = 4.9,
			ja = 9.1
		}
		local var_771_1 = manager.audio:GetLocalizationFlag()

		if var_771_0[var_771_1] ~= nil then
			arg_771_1.duration_ = var_771_0[var_771_1]
		end

		SetActive(arg_771_1.tipsGo_, false)

		function arg_771_1.onSingleLineFinish_()
			arg_771_1.onSingleLineUpdate_ = nil
			arg_771_1.onSingleLineFinish_ = nil
			arg_771_1.state_ = "waiting"
		end

		function arg_771_1.playNext_(arg_773_0)
			if arg_773_0 == 1 then
				arg_771_0:Play411121183(arg_771_1)
			end
		end

		function arg_771_1.onSingleLineUpdate_(arg_774_0)
			local var_774_0 = 0
			local var_774_1 = 0.5

			if var_774_0 < arg_771_1.time_ and arg_771_1.time_ <= var_774_0 + arg_774_0 then
				arg_771_1.talkMaxDuration = 0
				arg_771_1.dialogCg_.alpha = 1

				arg_771_1.dialog_:SetActive(true)
				SetActive(arg_771_1.leftNameGo_, true)

				local var_774_2 = arg_771_1:FormatText(StoryNameCfg[670].name)

				arg_771_1.leftNameTxt_.text = var_774_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_771_1.leftNameTxt_.transform)

				arg_771_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_771_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_771_1:RecordName(arg_771_1.leftNameTxt_.text)
				SetActive(arg_771_1.iconTrs_.gameObject, false)
				arg_771_1.callingController_:SetSelectedState("normal")

				local var_774_3 = arg_771_1:GetWordFromCfg(411121182)
				local var_774_4 = arg_771_1:FormatText(var_774_3.content)

				arg_771_1.text_.text = var_774_4

				LuaForUtil.ClearLinePrefixSymbol(arg_771_1.text_)

				local var_774_5 = 20
				local var_774_6 = utf8.len(var_774_4)
				local var_774_7 = var_774_5 <= 0 and var_774_1 or var_774_1 * (var_774_6 / var_774_5)

				if var_774_7 > 0 and var_774_1 < var_774_7 then
					arg_771_1.talkMaxDuration = var_774_7

					if var_774_7 + var_774_0 > arg_771_1.duration_ then
						arg_771_1.duration_ = var_774_7 + var_774_0
					end
				end

				arg_771_1.text_.text = var_774_4
				arg_771_1.typewritter.percent = 0

				arg_771_1.typewritter:SetDirty()
				arg_771_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121182", "story_v_out_411121.awb") ~= 0 then
					local var_774_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121182", "story_v_out_411121.awb") / 1000

					if var_774_8 + var_774_0 > arg_771_1.duration_ then
						arg_771_1.duration_ = var_774_8 + var_774_0
					end

					if var_774_3.prefab_name ~= "" and arg_771_1.actors_[var_774_3.prefab_name] ~= nil then
						local var_774_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_771_1.actors_[var_774_3.prefab_name].transform, "story_v_out_411121", "411121182", "story_v_out_411121.awb")

						arg_771_1:RecordAudio("411121182", var_774_9)
						arg_771_1:RecordAudio("411121182", var_774_9)
					else
						arg_771_1:AudioAction("play", "voice", "story_v_out_411121", "411121182", "story_v_out_411121.awb")
					end

					arg_771_1:RecordHistoryTalkVoice("story_v_out_411121", "411121182", "story_v_out_411121.awb")
				end

				arg_771_1:RecordContent(arg_771_1.text_.text)
			end

			local var_774_10 = math.max(var_774_1, arg_771_1.talkMaxDuration)

			if var_774_0 <= arg_771_1.time_ and arg_771_1.time_ < var_774_0 + var_774_10 then
				arg_771_1.typewritter.percent = (arg_771_1.time_ - var_774_0) / var_774_10

				arg_771_1.typewritter:SetDirty()
			end

			if arg_771_1.time_ >= var_774_0 + var_774_10 and arg_771_1.time_ < var_774_0 + var_774_10 + arg_774_0 then
				arg_771_1.typewritter.percent = 1

				arg_771_1.typewritter:SetDirty()
				arg_771_1:ShowNextGo(true)
			end
		end
	end,
	Play411121183 = function(arg_775_0, arg_775_1)
		arg_775_1.time_ = 0
		arg_775_1.frameCnt_ = 0
		arg_775_1.state_ = "playing"
		arg_775_1.curTalkId_ = 411121183
		arg_775_1.duration_ = 13.266

		local var_775_0 = {
			zh = 13.266,
			ja = 8.566
		}
		local var_775_1 = manager.audio:GetLocalizationFlag()

		if var_775_0[var_775_1] ~= nil then
			arg_775_1.duration_ = var_775_0[var_775_1]
		end

		SetActive(arg_775_1.tipsGo_, false)

		function arg_775_1.onSingleLineFinish_()
			arg_775_1.onSingleLineUpdate_ = nil
			arg_775_1.onSingleLineFinish_ = nil
			arg_775_1.state_ = "waiting"
		end

		function arg_775_1.playNext_(arg_777_0)
			if arg_777_0 == 1 then
				arg_775_0:Play411121184(arg_775_1)
			end
		end

		function arg_775_1.onSingleLineUpdate_(arg_778_0)
			local var_778_0 = 0
			local var_778_1 = 1.05

			if var_778_0 < arg_775_1.time_ and arg_775_1.time_ <= var_778_0 + arg_778_0 then
				arg_775_1.talkMaxDuration = 0
				arg_775_1.dialogCg_.alpha = 1

				arg_775_1.dialog_:SetActive(true)
				SetActive(arg_775_1.leftNameGo_, true)

				local var_778_2 = arg_775_1:FormatText(StoryNameCfg[670].name)

				arg_775_1.leftNameTxt_.text = var_778_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_775_1.leftNameTxt_.transform)

				arg_775_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_775_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_775_1:RecordName(arg_775_1.leftNameTxt_.text)
				SetActive(arg_775_1.iconTrs_.gameObject, false)
				arg_775_1.callingController_:SetSelectedState("normal")

				local var_778_3 = arg_775_1:GetWordFromCfg(411121183)
				local var_778_4 = arg_775_1:FormatText(var_778_3.content)

				arg_775_1.text_.text = var_778_4

				LuaForUtil.ClearLinePrefixSymbol(arg_775_1.text_)

				local var_778_5 = 42
				local var_778_6 = utf8.len(var_778_4)
				local var_778_7 = var_778_5 <= 0 and var_778_1 or var_778_1 * (var_778_6 / var_778_5)

				if var_778_7 > 0 and var_778_1 < var_778_7 then
					arg_775_1.talkMaxDuration = var_778_7

					if var_778_7 + var_778_0 > arg_775_1.duration_ then
						arg_775_1.duration_ = var_778_7 + var_778_0
					end
				end

				arg_775_1.text_.text = var_778_4
				arg_775_1.typewritter.percent = 0

				arg_775_1.typewritter:SetDirty()
				arg_775_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121183", "story_v_out_411121.awb") ~= 0 then
					local var_778_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121183", "story_v_out_411121.awb") / 1000

					if var_778_8 + var_778_0 > arg_775_1.duration_ then
						arg_775_1.duration_ = var_778_8 + var_778_0
					end

					if var_778_3.prefab_name ~= "" and arg_775_1.actors_[var_778_3.prefab_name] ~= nil then
						local var_778_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_775_1.actors_[var_778_3.prefab_name].transform, "story_v_out_411121", "411121183", "story_v_out_411121.awb")

						arg_775_1:RecordAudio("411121183", var_778_9)
						arg_775_1:RecordAudio("411121183", var_778_9)
					else
						arg_775_1:AudioAction("play", "voice", "story_v_out_411121", "411121183", "story_v_out_411121.awb")
					end

					arg_775_1:RecordHistoryTalkVoice("story_v_out_411121", "411121183", "story_v_out_411121.awb")
				end

				arg_775_1:RecordContent(arg_775_1.text_.text)
			end

			local var_778_10 = math.max(var_778_1, arg_775_1.talkMaxDuration)

			if var_778_0 <= arg_775_1.time_ and arg_775_1.time_ < var_778_0 + var_778_10 then
				arg_775_1.typewritter.percent = (arg_775_1.time_ - var_778_0) / var_778_10

				arg_775_1.typewritter:SetDirty()
			end

			if arg_775_1.time_ >= var_778_0 + var_778_10 and arg_775_1.time_ < var_778_0 + var_778_10 + arg_778_0 then
				arg_775_1.typewritter.percent = 1

				arg_775_1.typewritter:SetDirty()
				arg_775_1:ShowNextGo(true)
			end
		end
	end,
	Play411121184 = function(arg_779_0, arg_779_1)
		arg_779_1.time_ = 0
		arg_779_1.frameCnt_ = 0
		arg_779_1.state_ = "playing"
		arg_779_1.curTalkId_ = 411121184
		arg_779_1.duration_ = 5.2

		local var_779_0 = {
			zh = 4.266,
			ja = 5.2
		}
		local var_779_1 = manager.audio:GetLocalizationFlag()

		if var_779_0[var_779_1] ~= nil then
			arg_779_1.duration_ = var_779_0[var_779_1]
		end

		SetActive(arg_779_1.tipsGo_, false)

		function arg_779_1.onSingleLineFinish_()
			arg_779_1.onSingleLineUpdate_ = nil
			arg_779_1.onSingleLineFinish_ = nil
			arg_779_1.state_ = "waiting"
		end

		function arg_779_1.playNext_(arg_781_0)
			if arg_781_0 == 1 then
				arg_779_0:Play411121185(arg_779_1)
			end
		end

		function arg_779_1.onSingleLineUpdate_(arg_782_0)
			local var_782_0 = 0
			local var_782_1 = 0.375

			if var_782_0 < arg_779_1.time_ and arg_779_1.time_ <= var_782_0 + arg_782_0 then
				arg_779_1.talkMaxDuration = 0
				arg_779_1.dialogCg_.alpha = 1

				arg_779_1.dialog_:SetActive(true)
				SetActive(arg_779_1.leftNameGo_, true)

				local var_782_2 = arg_779_1:FormatText(StoryNameCfg[670].name)

				arg_779_1.leftNameTxt_.text = var_782_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_779_1.leftNameTxt_.transform)

				arg_779_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_779_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_779_1:RecordName(arg_779_1.leftNameTxt_.text)
				SetActive(arg_779_1.iconTrs_.gameObject, false)
				arg_779_1.callingController_:SetSelectedState("normal")

				local var_782_3 = arg_779_1:GetWordFromCfg(411121184)
				local var_782_4 = arg_779_1:FormatText(var_782_3.content)

				arg_779_1.text_.text = var_782_4

				LuaForUtil.ClearLinePrefixSymbol(arg_779_1.text_)

				local var_782_5 = 15
				local var_782_6 = utf8.len(var_782_4)
				local var_782_7 = var_782_5 <= 0 and var_782_1 or var_782_1 * (var_782_6 / var_782_5)

				if var_782_7 > 0 and var_782_1 < var_782_7 then
					arg_779_1.talkMaxDuration = var_782_7

					if var_782_7 + var_782_0 > arg_779_1.duration_ then
						arg_779_1.duration_ = var_782_7 + var_782_0
					end
				end

				arg_779_1.text_.text = var_782_4
				arg_779_1.typewritter.percent = 0

				arg_779_1.typewritter:SetDirty()
				arg_779_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121184", "story_v_out_411121.awb") ~= 0 then
					local var_782_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121184", "story_v_out_411121.awb") / 1000

					if var_782_8 + var_782_0 > arg_779_1.duration_ then
						arg_779_1.duration_ = var_782_8 + var_782_0
					end

					if var_782_3.prefab_name ~= "" and arg_779_1.actors_[var_782_3.prefab_name] ~= nil then
						local var_782_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_779_1.actors_[var_782_3.prefab_name].transform, "story_v_out_411121", "411121184", "story_v_out_411121.awb")

						arg_779_1:RecordAudio("411121184", var_782_9)
						arg_779_1:RecordAudio("411121184", var_782_9)
					else
						arg_779_1:AudioAction("play", "voice", "story_v_out_411121", "411121184", "story_v_out_411121.awb")
					end

					arg_779_1:RecordHistoryTalkVoice("story_v_out_411121", "411121184", "story_v_out_411121.awb")
				end

				arg_779_1:RecordContent(arg_779_1.text_.text)
			end

			local var_782_10 = math.max(var_782_1, arg_779_1.talkMaxDuration)

			if var_782_0 <= arg_779_1.time_ and arg_779_1.time_ < var_782_0 + var_782_10 then
				arg_779_1.typewritter.percent = (arg_779_1.time_ - var_782_0) / var_782_10

				arg_779_1.typewritter:SetDirty()
			end

			if arg_779_1.time_ >= var_782_0 + var_782_10 and arg_779_1.time_ < var_782_0 + var_782_10 + arg_782_0 then
				arg_779_1.typewritter.percent = 1

				arg_779_1.typewritter:SetDirty()
				arg_779_1:ShowNextGo(true)
			end
		end
	end,
	Play411121185 = function(arg_783_0, arg_783_1)
		arg_783_1.time_ = 0
		arg_783_1.frameCnt_ = 0
		arg_783_1.state_ = "playing"
		arg_783_1.curTalkId_ = 411121185
		arg_783_1.duration_ = 5

		SetActive(arg_783_1.tipsGo_, false)

		function arg_783_1.onSingleLineFinish_()
			arg_783_1.onSingleLineUpdate_ = nil
			arg_783_1.onSingleLineFinish_ = nil
			arg_783_1.state_ = "waiting"
		end

		function arg_783_1.playNext_(arg_785_0)
			if arg_785_0 == 1 then
				arg_783_0:Play411121186(arg_783_1)
			end
		end

		function arg_783_1.onSingleLineUpdate_(arg_786_0)
			local var_786_0 = 0
			local var_786_1 = 0.5

			if var_786_0 < arg_783_1.time_ and arg_783_1.time_ <= var_786_0 + arg_786_0 then
				arg_783_1.talkMaxDuration = 0
				arg_783_1.dialogCg_.alpha = 1

				arg_783_1.dialog_:SetActive(true)
				SetActive(arg_783_1.leftNameGo_, false)

				arg_783_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_783_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_783_1:RecordName(arg_783_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_783_1.iconTrs_.gameObject, false)
				arg_783_1.callingController_:SetSelectedState("normal")

				local var_786_2 = arg_783_1:GetWordFromCfg(411121185)
				local var_786_3 = arg_783_1:FormatText(var_786_2.content)

				arg_783_1.text_.text = var_786_3

				LuaForUtil.ClearLinePrefixSymbol(arg_783_1.text_)

				local var_786_4 = 20
				local var_786_5 = utf8.len(var_786_3)
				local var_786_6 = var_786_4 <= 0 and var_786_1 or var_786_1 * (var_786_5 / var_786_4)

				if var_786_6 > 0 and var_786_1 < var_786_6 then
					arg_783_1.talkMaxDuration = var_786_6

					if var_786_6 + var_786_0 > arg_783_1.duration_ then
						arg_783_1.duration_ = var_786_6 + var_786_0
					end
				end

				arg_783_1.text_.text = var_786_3
				arg_783_1.typewritter.percent = 0

				arg_783_1.typewritter:SetDirty()
				arg_783_1:ShowNextGo(false)
				arg_783_1:RecordContent(arg_783_1.text_.text)
			end

			local var_786_7 = math.max(var_786_1, arg_783_1.talkMaxDuration)

			if var_786_0 <= arg_783_1.time_ and arg_783_1.time_ < var_786_0 + var_786_7 then
				arg_783_1.typewritter.percent = (arg_783_1.time_ - var_786_0) / var_786_7

				arg_783_1.typewritter:SetDirty()
			end

			if arg_783_1.time_ >= var_786_0 + var_786_7 and arg_783_1.time_ < var_786_0 + var_786_7 + arg_786_0 then
				arg_783_1.typewritter.percent = 1

				arg_783_1.typewritter:SetDirty()
				arg_783_1:ShowNextGo(true)
			end
		end
	end,
	Play411121186 = function(arg_787_0, arg_787_1)
		arg_787_1.time_ = 0
		arg_787_1.frameCnt_ = 0
		arg_787_1.state_ = "playing"
		arg_787_1.curTalkId_ = 411121186
		arg_787_1.duration_ = 5.2

		local var_787_0 = {
			zh = 4.633,
			ja = 5.2
		}
		local var_787_1 = manager.audio:GetLocalizationFlag()

		if var_787_0[var_787_1] ~= nil then
			arg_787_1.duration_ = var_787_0[var_787_1]
		end

		SetActive(arg_787_1.tipsGo_, false)

		function arg_787_1.onSingleLineFinish_()
			arg_787_1.onSingleLineUpdate_ = nil
			arg_787_1.onSingleLineFinish_ = nil
			arg_787_1.state_ = "waiting"
		end

		function arg_787_1.playNext_(arg_789_0)
			if arg_789_0 == 1 then
				arg_787_0:Play411121187(arg_787_1)
			end
		end

		function arg_787_1.onSingleLineUpdate_(arg_790_0)
			local var_790_0 = 0
			local var_790_1 = 0.425

			if var_790_0 < arg_787_1.time_ and arg_787_1.time_ <= var_790_0 + arg_790_0 then
				arg_787_1.talkMaxDuration = 0
				arg_787_1.dialogCg_.alpha = 1

				arg_787_1.dialog_:SetActive(true)
				SetActive(arg_787_1.leftNameGo_, true)

				local var_790_2 = arg_787_1:FormatText(StoryNameCfg[670].name)

				arg_787_1.leftNameTxt_.text = var_790_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_787_1.leftNameTxt_.transform)

				arg_787_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_787_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_787_1:RecordName(arg_787_1.leftNameTxt_.text)
				SetActive(arg_787_1.iconTrs_.gameObject, false)
				arg_787_1.callingController_:SetSelectedState("normal")

				local var_790_3 = arg_787_1:GetWordFromCfg(411121186)
				local var_790_4 = arg_787_1:FormatText(var_790_3.content)

				arg_787_1.text_.text = var_790_4

				LuaForUtil.ClearLinePrefixSymbol(arg_787_1.text_)

				local var_790_5 = 17
				local var_790_6 = utf8.len(var_790_4)
				local var_790_7 = var_790_5 <= 0 and var_790_1 or var_790_1 * (var_790_6 / var_790_5)

				if var_790_7 > 0 and var_790_1 < var_790_7 then
					arg_787_1.talkMaxDuration = var_790_7

					if var_790_7 + var_790_0 > arg_787_1.duration_ then
						arg_787_1.duration_ = var_790_7 + var_790_0
					end
				end

				arg_787_1.text_.text = var_790_4
				arg_787_1.typewritter.percent = 0

				arg_787_1.typewritter:SetDirty()
				arg_787_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121186", "story_v_out_411121.awb") ~= 0 then
					local var_790_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121186", "story_v_out_411121.awb") / 1000

					if var_790_8 + var_790_0 > arg_787_1.duration_ then
						arg_787_1.duration_ = var_790_8 + var_790_0
					end

					if var_790_3.prefab_name ~= "" and arg_787_1.actors_[var_790_3.prefab_name] ~= nil then
						local var_790_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_787_1.actors_[var_790_3.prefab_name].transform, "story_v_out_411121", "411121186", "story_v_out_411121.awb")

						arg_787_1:RecordAudio("411121186", var_790_9)
						arg_787_1:RecordAudio("411121186", var_790_9)
					else
						arg_787_1:AudioAction("play", "voice", "story_v_out_411121", "411121186", "story_v_out_411121.awb")
					end

					arg_787_1:RecordHistoryTalkVoice("story_v_out_411121", "411121186", "story_v_out_411121.awb")
				end

				arg_787_1:RecordContent(arg_787_1.text_.text)
			end

			local var_790_10 = math.max(var_790_1, arg_787_1.talkMaxDuration)

			if var_790_0 <= arg_787_1.time_ and arg_787_1.time_ < var_790_0 + var_790_10 then
				arg_787_1.typewritter.percent = (arg_787_1.time_ - var_790_0) / var_790_10

				arg_787_1.typewritter:SetDirty()
			end

			if arg_787_1.time_ >= var_790_0 + var_790_10 and arg_787_1.time_ < var_790_0 + var_790_10 + arg_790_0 then
				arg_787_1.typewritter.percent = 1

				arg_787_1.typewritter:SetDirty()
				arg_787_1:ShowNextGo(true)
			end
		end
	end,
	Play411121187 = function(arg_791_0, arg_791_1)
		arg_791_1.time_ = 0
		arg_791_1.frameCnt_ = 0
		arg_791_1.state_ = "playing"
		arg_791_1.curTalkId_ = 411121187
		arg_791_1.duration_ = 8.1

		local var_791_0 = {
			zh = 8.1,
			ja = 6.5
		}
		local var_791_1 = manager.audio:GetLocalizationFlag()

		if var_791_0[var_791_1] ~= nil then
			arg_791_1.duration_ = var_791_0[var_791_1]
		end

		SetActive(arg_791_1.tipsGo_, false)

		function arg_791_1.onSingleLineFinish_()
			arg_791_1.onSingleLineUpdate_ = nil
			arg_791_1.onSingleLineFinish_ = nil
			arg_791_1.state_ = "waiting"
		end

		function arg_791_1.playNext_(arg_793_0)
			if arg_793_0 == 1 then
				arg_791_0:Play411121188(arg_791_1)
			end
		end

		function arg_791_1.onSingleLineUpdate_(arg_794_0)
			local var_794_0 = 0
			local var_794_1 = 0.775

			if var_794_0 < arg_791_1.time_ and arg_791_1.time_ <= var_794_0 + arg_794_0 then
				arg_791_1.talkMaxDuration = 0
				arg_791_1.dialogCg_.alpha = 1

				arg_791_1.dialog_:SetActive(true)
				SetActive(arg_791_1.leftNameGo_, true)

				local var_794_2 = arg_791_1:FormatText(StoryNameCfg[670].name)

				arg_791_1.leftNameTxt_.text = var_794_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_791_1.leftNameTxt_.transform)

				arg_791_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_791_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_791_1:RecordName(arg_791_1.leftNameTxt_.text)
				SetActive(arg_791_1.iconTrs_.gameObject, false)
				arg_791_1.callingController_:SetSelectedState("normal")

				local var_794_3 = arg_791_1:GetWordFromCfg(411121187)
				local var_794_4 = arg_791_1:FormatText(var_794_3.content)

				arg_791_1.text_.text = var_794_4

				LuaForUtil.ClearLinePrefixSymbol(arg_791_1.text_)

				local var_794_5 = 31
				local var_794_6 = utf8.len(var_794_4)
				local var_794_7 = var_794_5 <= 0 and var_794_1 or var_794_1 * (var_794_6 / var_794_5)

				if var_794_7 > 0 and var_794_1 < var_794_7 then
					arg_791_1.talkMaxDuration = var_794_7

					if var_794_7 + var_794_0 > arg_791_1.duration_ then
						arg_791_1.duration_ = var_794_7 + var_794_0
					end
				end

				arg_791_1.text_.text = var_794_4
				arg_791_1.typewritter.percent = 0

				arg_791_1.typewritter:SetDirty()
				arg_791_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121187", "story_v_out_411121.awb") ~= 0 then
					local var_794_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121187", "story_v_out_411121.awb") / 1000

					if var_794_8 + var_794_0 > arg_791_1.duration_ then
						arg_791_1.duration_ = var_794_8 + var_794_0
					end

					if var_794_3.prefab_name ~= "" and arg_791_1.actors_[var_794_3.prefab_name] ~= nil then
						local var_794_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_791_1.actors_[var_794_3.prefab_name].transform, "story_v_out_411121", "411121187", "story_v_out_411121.awb")

						arg_791_1:RecordAudio("411121187", var_794_9)
						arg_791_1:RecordAudio("411121187", var_794_9)
					else
						arg_791_1:AudioAction("play", "voice", "story_v_out_411121", "411121187", "story_v_out_411121.awb")
					end

					arg_791_1:RecordHistoryTalkVoice("story_v_out_411121", "411121187", "story_v_out_411121.awb")
				end

				arg_791_1:RecordContent(arg_791_1.text_.text)
			end

			local var_794_10 = math.max(var_794_1, arg_791_1.talkMaxDuration)

			if var_794_0 <= arg_791_1.time_ and arg_791_1.time_ < var_794_0 + var_794_10 then
				arg_791_1.typewritter.percent = (arg_791_1.time_ - var_794_0) / var_794_10

				arg_791_1.typewritter:SetDirty()
			end

			if arg_791_1.time_ >= var_794_0 + var_794_10 and arg_791_1.time_ < var_794_0 + var_794_10 + arg_794_0 then
				arg_791_1.typewritter.percent = 1

				arg_791_1.typewritter:SetDirty()
				arg_791_1:ShowNextGo(true)
			end
		end
	end,
	Play411121188 = function(arg_795_0, arg_795_1)
		arg_795_1.time_ = 0
		arg_795_1.frameCnt_ = 0
		arg_795_1.state_ = "playing"
		arg_795_1.curTalkId_ = 411121188
		arg_795_1.duration_ = 7.73230289765634

		SetActive(arg_795_1.tipsGo_, false)

		function arg_795_1.onSingleLineFinish_()
			arg_795_1.onSingleLineUpdate_ = nil
			arg_795_1.onSingleLineFinish_ = nil
			arg_795_1.state_ = "waiting"
		end

		function arg_795_1.playNext_(arg_797_0)
			if arg_797_0 == 1 then
				arg_795_0:Play411121189(arg_795_1)
			end
		end

		function arg_795_1.onSingleLineUpdate_(arg_798_0)
			local var_798_0 = 0

			if var_798_0 < arg_795_1.time_ and arg_795_1.time_ <= var_798_0 + arg_798_0 then
				arg_795_1.mask_.enabled = true
				arg_795_1.mask_.raycastTarget = true

				arg_795_1:SetGaussion(false)
			end

			local var_798_1 = 1.33333333333333

			if var_798_0 <= arg_795_1.time_ and arg_795_1.time_ < var_798_0 + var_798_1 then
				local var_798_2 = (arg_795_1.time_ - var_798_0) / var_798_1
				local var_798_3 = Color.New(1, 1, 1)

				var_798_3.a = Mathf.Lerp(0, 1, var_798_2)
				arg_795_1.mask_.color = var_798_3
			end

			if arg_795_1.time_ >= var_798_0 + var_798_1 and arg_795_1.time_ < var_798_0 + var_798_1 + arg_798_0 then
				local var_798_4 = Color.New(1, 1, 1)

				var_798_4.a = 1
				arg_795_1.mask_.color = var_798_4
			end

			local var_798_5 = 1.33333333333333

			if var_798_5 < arg_795_1.time_ and arg_795_1.time_ <= var_798_5 + arg_798_0 then
				arg_795_1.mask_.enabled = true
				arg_795_1.mask_.raycastTarget = true

				arg_795_1:SetGaussion(false)
			end

			local var_798_6 = 1.43333333333333

			if var_798_5 <= arg_795_1.time_ and arg_795_1.time_ < var_798_5 + var_798_6 then
				local var_798_7 = (arg_795_1.time_ - var_798_5) / var_798_6
				local var_798_8 = Color.New(1, 1, 1)

				var_798_8.a = Mathf.Lerp(1, 0, var_798_7)
				arg_795_1.mask_.color = var_798_8
			end

			if arg_795_1.time_ >= var_798_5 + var_798_6 and arg_795_1.time_ < var_798_5 + var_798_6 + arg_798_0 then
				local var_798_9 = Color.New(1, 1, 1)
				local var_798_10 = 0

				arg_795_1.mask_.enabled = false
				var_798_9.a = var_798_10
				arg_795_1.mask_.color = var_798_9
			end

			local var_798_11 = 0

			if var_798_11 < arg_795_1.time_ and arg_795_1.time_ <= var_798_11 + arg_798_0 then
				local var_798_12 = manager.ui.mainCamera.transform.localPosition
				local var_798_13 = Vector3.New(0, 0, 10) + Vector3.New(var_798_12.x, var_798_12.y, 0)
				local var_798_14 = arg_795_1.bgs_.ML0504

				var_798_14.transform.localPosition = var_798_13
				var_798_14.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_798_15 = var_798_14:GetComponent("SpriteRenderer")

				if var_798_15 and var_798_15.sprite then
					local var_798_16 = (var_798_14.transform.localPosition - var_798_12).z
					local var_798_17 = manager.ui.mainCameraCom_
					local var_798_18 = 2 * var_798_16 * Mathf.Tan(var_798_17.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_798_19 = var_798_18 * var_798_17.aspect
					local var_798_20 = var_798_15.sprite.bounds.size.x
					local var_798_21 = var_798_15.sprite.bounds.size.y
					local var_798_22 = var_798_19 / var_798_20
					local var_798_23 = var_798_18 / var_798_21
					local var_798_24 = var_798_23 < var_798_22 and var_798_22 or var_798_23

					var_798_14.transform.localScale = Vector3.New(var_798_24, var_798_24, 0)
				end

				for iter_798_0, iter_798_1 in pairs(arg_795_1.bgs_) do
					if iter_798_0 ~= "ML0504" then
						iter_798_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_798_25 = 1.33333333333333

			if var_798_25 < arg_795_1.time_ and arg_795_1.time_ <= var_798_25 + arg_798_0 then
				local var_798_26 = manager.ui.mainCamera.transform.localPosition
				local var_798_27 = Vector3.New(0, 0, 10) + Vector3.New(var_798_26.x, var_798_26.y, 0)
				local var_798_28 = arg_795_1.bgs_.ML0504

				var_798_28.transform.localPosition = var_798_27
				var_798_28.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_798_29 = var_798_28:GetComponent("SpriteRenderer")

				if var_798_29 and var_798_29.sprite then
					local var_798_30 = (var_798_28.transform.localPosition - var_798_26).z
					local var_798_31 = manager.ui.mainCameraCom_
					local var_798_32 = 2 * var_798_30 * Mathf.Tan(var_798_31.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_798_33 = var_798_32 * var_798_31.aspect
					local var_798_34 = var_798_29.sprite.bounds.size.x
					local var_798_35 = var_798_29.sprite.bounds.size.y
					local var_798_36 = var_798_33 / var_798_34
					local var_798_37 = var_798_32 / var_798_35
					local var_798_38 = var_798_37 < var_798_36 and var_798_36 or var_798_37

					var_798_28.transform.localScale = Vector3.New(var_798_38, var_798_38, 0)
				end

				for iter_798_2, iter_798_3 in pairs(arg_795_1.bgs_) do
					if iter_798_2 ~= "ML0504" then
						iter_798_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			if arg_795_1.frameCnt_ <= 1 then
				arg_795_1.dialog_:SetActive(false)
			end

			local var_798_39 = 2.73230289765634
			local var_798_40 = 0.925

			if var_798_39 < arg_795_1.time_ and arg_795_1.time_ <= var_798_39 + arg_798_0 then
				arg_795_1.talkMaxDuration = 0

				arg_795_1.dialog_:SetActive(true)

				local var_798_41 = LeanTween.value(arg_795_1.dialog_, 0, 1, 0.3)

				var_798_41:setOnUpdate(LuaHelper.FloatAction(function(arg_799_0)
					arg_795_1.dialogCg_.alpha = arg_799_0
				end))
				var_798_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_795_1.dialog_)
					var_798_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_795_1.duration_ = arg_795_1.duration_ + 0.3

				SetActive(arg_795_1.leftNameGo_, false)

				arg_795_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_795_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_795_1:RecordName(arg_795_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_795_1.iconTrs_.gameObject, false)
				arg_795_1.callingController_:SetSelectedState("normal")

				local var_798_42 = arg_795_1:GetWordFromCfg(411121188)
				local var_798_43 = arg_795_1:FormatText(var_798_42.content)

				arg_795_1.text_.text = var_798_43

				LuaForUtil.ClearLinePrefixSymbol(arg_795_1.text_)

				local var_798_44 = 37
				local var_798_45 = utf8.len(var_798_43)
				local var_798_46 = var_798_44 <= 0 and var_798_40 or var_798_40 * (var_798_45 / var_798_44)

				if var_798_46 > 0 and var_798_40 < var_798_46 then
					arg_795_1.talkMaxDuration = var_798_46
					var_798_39 = var_798_39 + 0.3

					if var_798_46 + var_798_39 > arg_795_1.duration_ then
						arg_795_1.duration_ = var_798_46 + var_798_39
					end
				end

				arg_795_1.text_.text = var_798_43
				arg_795_1.typewritter.percent = 0

				arg_795_1.typewritter:SetDirty()
				arg_795_1:ShowNextGo(false)
				arg_795_1:RecordContent(arg_795_1.text_.text)
			end

			local var_798_47 = var_798_39 + 0.3
			local var_798_48 = math.max(var_798_40, arg_795_1.talkMaxDuration)

			if var_798_47 <= arg_795_1.time_ and arg_795_1.time_ < var_798_47 + var_798_48 then
				arg_795_1.typewritter.percent = (arg_795_1.time_ - var_798_47) / var_798_48

				arg_795_1.typewritter:SetDirty()
			end

			if arg_795_1.time_ >= var_798_47 + var_798_48 and arg_795_1.time_ < var_798_47 + var_798_48 + arg_798_0 then
				arg_795_1.typewritter.percent = 1

				arg_795_1.typewritter:SetDirty()
				arg_795_1:ShowNextGo(true)
			end
		end
	end,
	Play411121189 = function(arg_801_0, arg_801_1)
		arg_801_1.time_ = 0
		arg_801_1.frameCnt_ = 0
		arg_801_1.state_ = "playing"
		arg_801_1.curTalkId_ = 411121189
		arg_801_1.duration_ = 4.866

		local var_801_0 = {
			zh = 4.366,
			ja = 4.866
		}
		local var_801_1 = manager.audio:GetLocalizationFlag()

		if var_801_0[var_801_1] ~= nil then
			arg_801_1.duration_ = var_801_0[var_801_1]
		end

		SetActive(arg_801_1.tipsGo_, false)

		function arg_801_1.onSingleLineFinish_()
			arg_801_1.onSingleLineUpdate_ = nil
			arg_801_1.onSingleLineFinish_ = nil
			arg_801_1.state_ = "waiting"
		end

		function arg_801_1.playNext_(arg_803_0)
			if arg_803_0 == 1 then
				arg_801_0:Play411121190(arg_801_1)
			end
		end

		function arg_801_1.onSingleLineUpdate_(arg_804_0)
			local var_804_0 = 0
			local var_804_1 = 0.45

			if var_804_0 < arg_801_1.time_ and arg_801_1.time_ <= var_804_0 + arg_804_0 then
				arg_801_1.talkMaxDuration = 0
				arg_801_1.dialogCg_.alpha = 1

				arg_801_1.dialog_:SetActive(true)
				SetActive(arg_801_1.leftNameGo_, true)

				local var_804_2 = arg_801_1:FormatText(StoryNameCfg[670].name)

				arg_801_1.leftNameTxt_.text = var_804_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_801_1.leftNameTxt_.transform)

				arg_801_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_801_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_801_1:RecordName(arg_801_1.leftNameTxt_.text)
				SetActive(arg_801_1.iconTrs_.gameObject, false)
				arg_801_1.callingController_:SetSelectedState("normal")

				local var_804_3 = arg_801_1:GetWordFromCfg(411121189)
				local var_804_4 = arg_801_1:FormatText(var_804_3.content)

				arg_801_1.text_.text = var_804_4

				LuaForUtil.ClearLinePrefixSymbol(arg_801_1.text_)

				local var_804_5 = 18
				local var_804_6 = utf8.len(var_804_4)
				local var_804_7 = var_804_5 <= 0 and var_804_1 or var_804_1 * (var_804_6 / var_804_5)

				if var_804_7 > 0 and var_804_1 < var_804_7 then
					arg_801_1.talkMaxDuration = var_804_7

					if var_804_7 + var_804_0 > arg_801_1.duration_ then
						arg_801_1.duration_ = var_804_7 + var_804_0
					end
				end

				arg_801_1.text_.text = var_804_4
				arg_801_1.typewritter.percent = 0

				arg_801_1.typewritter:SetDirty()
				arg_801_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121189", "story_v_out_411121.awb") ~= 0 then
					local var_804_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121189", "story_v_out_411121.awb") / 1000

					if var_804_8 + var_804_0 > arg_801_1.duration_ then
						arg_801_1.duration_ = var_804_8 + var_804_0
					end

					if var_804_3.prefab_name ~= "" and arg_801_1.actors_[var_804_3.prefab_name] ~= nil then
						local var_804_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_801_1.actors_[var_804_3.prefab_name].transform, "story_v_out_411121", "411121189", "story_v_out_411121.awb")

						arg_801_1:RecordAudio("411121189", var_804_9)
						arg_801_1:RecordAudio("411121189", var_804_9)
					else
						arg_801_1:AudioAction("play", "voice", "story_v_out_411121", "411121189", "story_v_out_411121.awb")
					end

					arg_801_1:RecordHistoryTalkVoice("story_v_out_411121", "411121189", "story_v_out_411121.awb")
				end

				arg_801_1:RecordContent(arg_801_1.text_.text)
			end

			local var_804_10 = math.max(var_804_1, arg_801_1.talkMaxDuration)

			if var_804_0 <= arg_801_1.time_ and arg_801_1.time_ < var_804_0 + var_804_10 then
				arg_801_1.typewritter.percent = (arg_801_1.time_ - var_804_0) / var_804_10

				arg_801_1.typewritter:SetDirty()
			end

			if arg_801_1.time_ >= var_804_0 + var_804_10 and arg_801_1.time_ < var_804_0 + var_804_10 + arg_804_0 then
				arg_801_1.typewritter.percent = 1

				arg_801_1.typewritter:SetDirty()
				arg_801_1:ShowNextGo(true)
			end
		end
	end,
	Play411121190 = function(arg_805_0, arg_805_1)
		arg_805_1.time_ = 0
		arg_805_1.frameCnt_ = 0
		arg_805_1.state_ = "playing"
		arg_805_1.curTalkId_ = 411121190
		arg_805_1.duration_ = 7.4

		local var_805_0 = {
			zh = 7.4,
			ja = 5.1
		}
		local var_805_1 = manager.audio:GetLocalizationFlag()

		if var_805_0[var_805_1] ~= nil then
			arg_805_1.duration_ = var_805_0[var_805_1]
		end

		SetActive(arg_805_1.tipsGo_, false)

		function arg_805_1.onSingleLineFinish_()
			arg_805_1.onSingleLineUpdate_ = nil
			arg_805_1.onSingleLineFinish_ = nil
			arg_805_1.state_ = "waiting"
		end

		function arg_805_1.playNext_(arg_807_0)
			if arg_807_0 == 1 then
				arg_805_0:Play411121191(arg_805_1)
			end
		end

		function arg_805_1.onSingleLineUpdate_(arg_808_0)
			local var_808_0 = 0
			local var_808_1 = 0.675

			if var_808_0 < arg_805_1.time_ and arg_805_1.time_ <= var_808_0 + arg_808_0 then
				arg_805_1.talkMaxDuration = 0
				arg_805_1.dialogCg_.alpha = 1

				arg_805_1.dialog_:SetActive(true)
				SetActive(arg_805_1.leftNameGo_, true)

				local var_808_2 = arg_805_1:FormatText(StoryNameCfg[670].name)

				arg_805_1.leftNameTxt_.text = var_808_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_805_1.leftNameTxt_.transform)

				arg_805_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_805_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_805_1:RecordName(arg_805_1.leftNameTxt_.text)
				SetActive(arg_805_1.iconTrs_.gameObject, false)
				arg_805_1.callingController_:SetSelectedState("normal")

				local var_808_3 = arg_805_1:GetWordFromCfg(411121190)
				local var_808_4 = arg_805_1:FormatText(var_808_3.content)

				arg_805_1.text_.text = var_808_4

				LuaForUtil.ClearLinePrefixSymbol(arg_805_1.text_)

				local var_808_5 = 27
				local var_808_6 = utf8.len(var_808_4)
				local var_808_7 = var_808_5 <= 0 and var_808_1 or var_808_1 * (var_808_6 / var_808_5)

				if var_808_7 > 0 and var_808_1 < var_808_7 then
					arg_805_1.talkMaxDuration = var_808_7

					if var_808_7 + var_808_0 > arg_805_1.duration_ then
						arg_805_1.duration_ = var_808_7 + var_808_0
					end
				end

				arg_805_1.text_.text = var_808_4
				arg_805_1.typewritter.percent = 0

				arg_805_1.typewritter:SetDirty()
				arg_805_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121190", "story_v_out_411121.awb") ~= 0 then
					local var_808_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121190", "story_v_out_411121.awb") / 1000

					if var_808_8 + var_808_0 > arg_805_1.duration_ then
						arg_805_1.duration_ = var_808_8 + var_808_0
					end

					if var_808_3.prefab_name ~= "" and arg_805_1.actors_[var_808_3.prefab_name] ~= nil then
						local var_808_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_805_1.actors_[var_808_3.prefab_name].transform, "story_v_out_411121", "411121190", "story_v_out_411121.awb")

						arg_805_1:RecordAudio("411121190", var_808_9)
						arg_805_1:RecordAudio("411121190", var_808_9)
					else
						arg_805_1:AudioAction("play", "voice", "story_v_out_411121", "411121190", "story_v_out_411121.awb")
					end

					arg_805_1:RecordHistoryTalkVoice("story_v_out_411121", "411121190", "story_v_out_411121.awb")
				end

				arg_805_1:RecordContent(arg_805_1.text_.text)
			end

			local var_808_10 = math.max(var_808_1, arg_805_1.talkMaxDuration)

			if var_808_0 <= arg_805_1.time_ and arg_805_1.time_ < var_808_0 + var_808_10 then
				arg_805_1.typewritter.percent = (arg_805_1.time_ - var_808_0) / var_808_10

				arg_805_1.typewritter:SetDirty()
			end

			if arg_805_1.time_ >= var_808_0 + var_808_10 and arg_805_1.time_ < var_808_0 + var_808_10 + arg_808_0 then
				arg_805_1.typewritter.percent = 1

				arg_805_1.typewritter:SetDirty()
				arg_805_1:ShowNextGo(true)
			end
		end
	end,
	Play411121191 = function(arg_809_0, arg_809_1)
		arg_809_1.time_ = 0
		arg_809_1.frameCnt_ = 0
		arg_809_1.state_ = "playing"
		arg_809_1.curTalkId_ = 411121191
		arg_809_1.duration_ = 7.266

		local var_809_0 = {
			zh = 4.9,
			ja = 7.266
		}
		local var_809_1 = manager.audio:GetLocalizationFlag()

		if var_809_0[var_809_1] ~= nil then
			arg_809_1.duration_ = var_809_0[var_809_1]
		end

		SetActive(arg_809_1.tipsGo_, false)

		function arg_809_1.onSingleLineFinish_()
			arg_809_1.onSingleLineUpdate_ = nil
			arg_809_1.onSingleLineFinish_ = nil
			arg_809_1.state_ = "waiting"
		end

		function arg_809_1.playNext_(arg_811_0)
			if arg_811_0 == 1 then
				arg_809_0:Play411121192(arg_809_1)
			end
		end

		function arg_809_1.onSingleLineUpdate_(arg_812_0)
			local var_812_0 = 0
			local var_812_1 = 0.425

			if var_812_0 < arg_809_1.time_ and arg_809_1.time_ <= var_812_0 + arg_812_0 then
				arg_809_1.talkMaxDuration = 0
				arg_809_1.dialogCg_.alpha = 1

				arg_809_1.dialog_:SetActive(true)
				SetActive(arg_809_1.leftNameGo_, true)

				local var_812_2 = arg_809_1:FormatText(StoryNameCfg[670].name)

				arg_809_1.leftNameTxt_.text = var_812_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_809_1.leftNameTxt_.transform)

				arg_809_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_809_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_809_1:RecordName(arg_809_1.leftNameTxt_.text)
				SetActive(arg_809_1.iconTrs_.gameObject, false)
				arg_809_1.callingController_:SetSelectedState("normal")

				local var_812_3 = arg_809_1:GetWordFromCfg(411121191)
				local var_812_4 = arg_809_1:FormatText(var_812_3.content)

				arg_809_1.text_.text = var_812_4

				LuaForUtil.ClearLinePrefixSymbol(arg_809_1.text_)

				local var_812_5 = 17
				local var_812_6 = utf8.len(var_812_4)
				local var_812_7 = var_812_5 <= 0 and var_812_1 or var_812_1 * (var_812_6 / var_812_5)

				if var_812_7 > 0 and var_812_1 < var_812_7 then
					arg_809_1.talkMaxDuration = var_812_7

					if var_812_7 + var_812_0 > arg_809_1.duration_ then
						arg_809_1.duration_ = var_812_7 + var_812_0
					end
				end

				arg_809_1.text_.text = var_812_4
				arg_809_1.typewritter.percent = 0

				arg_809_1.typewritter:SetDirty()
				arg_809_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121191", "story_v_out_411121.awb") ~= 0 then
					local var_812_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121191", "story_v_out_411121.awb") / 1000

					if var_812_8 + var_812_0 > arg_809_1.duration_ then
						arg_809_1.duration_ = var_812_8 + var_812_0
					end

					if var_812_3.prefab_name ~= "" and arg_809_1.actors_[var_812_3.prefab_name] ~= nil then
						local var_812_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_809_1.actors_[var_812_3.prefab_name].transform, "story_v_out_411121", "411121191", "story_v_out_411121.awb")

						arg_809_1:RecordAudio("411121191", var_812_9)
						arg_809_1:RecordAudio("411121191", var_812_9)
					else
						arg_809_1:AudioAction("play", "voice", "story_v_out_411121", "411121191", "story_v_out_411121.awb")
					end

					arg_809_1:RecordHistoryTalkVoice("story_v_out_411121", "411121191", "story_v_out_411121.awb")
				end

				arg_809_1:RecordContent(arg_809_1.text_.text)
			end

			local var_812_10 = math.max(var_812_1, arg_809_1.talkMaxDuration)

			if var_812_0 <= arg_809_1.time_ and arg_809_1.time_ < var_812_0 + var_812_10 then
				arg_809_1.typewritter.percent = (arg_809_1.time_ - var_812_0) / var_812_10

				arg_809_1.typewritter:SetDirty()
			end

			if arg_809_1.time_ >= var_812_0 + var_812_10 and arg_809_1.time_ < var_812_0 + var_812_10 + arg_812_0 then
				arg_809_1.typewritter.percent = 1

				arg_809_1.typewritter:SetDirty()
				arg_809_1:ShowNextGo(true)
			end
		end
	end,
	Play411121192 = function(arg_813_0, arg_813_1)
		arg_813_1.time_ = 0
		arg_813_1.frameCnt_ = 0
		arg_813_1.state_ = "playing"
		arg_813_1.curTalkId_ = 411121192
		arg_813_1.duration_ = 9.565999999999

		local var_813_0 = {
			zh = 9.565999999999,
			ja = 9.032999999999
		}
		local var_813_1 = manager.audio:GetLocalizationFlag()

		if var_813_0[var_813_1] ~= nil then
			arg_813_1.duration_ = var_813_0[var_813_1]
		end

		SetActive(arg_813_1.tipsGo_, false)

		function arg_813_1.onSingleLineFinish_()
			arg_813_1.onSingleLineUpdate_ = nil
			arg_813_1.onSingleLineFinish_ = nil
			arg_813_1.state_ = "waiting"
		end

		function arg_813_1.playNext_(arg_815_0)
			if arg_815_0 == 1 then
				arg_813_0:Play411121193(arg_813_1)
			end
		end

		function arg_813_1.onSingleLineUpdate_(arg_816_0)
			local var_816_0 = 0

			if var_816_0 < arg_813_1.time_ and arg_813_1.time_ <= var_816_0 + arg_816_0 then
				local var_816_1 = manager.ui.mainCamera.transform.localPosition
				local var_816_2 = Vector3.New(0, 0, 10) + Vector3.New(var_816_1.x, var_816_1.y, 0)
				local var_816_3 = arg_813_1.bgs_.ML0504

				var_816_3.transform.localPosition = var_816_2
				var_816_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_816_4 = var_816_3:GetComponent("SpriteRenderer")

				if var_816_4 and var_816_4.sprite then
					local var_816_5 = (var_816_3.transform.localPosition - var_816_1).z
					local var_816_6 = manager.ui.mainCameraCom_
					local var_816_7 = 2 * var_816_5 * Mathf.Tan(var_816_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_816_8 = var_816_7 * var_816_6.aspect
					local var_816_9 = var_816_4.sprite.bounds.size.x
					local var_816_10 = var_816_4.sprite.bounds.size.y
					local var_816_11 = var_816_8 / var_816_9
					local var_816_12 = var_816_7 / var_816_10
					local var_816_13 = var_816_12 < var_816_11 and var_816_11 or var_816_12

					var_816_3.transform.localScale = Vector3.New(var_816_13, var_816_13, 0)
				end

				for iter_816_0, iter_816_1 in pairs(arg_813_1.bgs_) do
					if iter_816_0 ~= "ML0504" then
						iter_816_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_816_14 = 2.06666666666667

			if var_816_14 < arg_813_1.time_ and arg_813_1.time_ <= var_816_14 + arg_816_0 then
				local var_816_15 = manager.ui.mainCamera.transform.localPosition
				local var_816_16 = Vector3.New(0, 0, 10) + Vector3.New(var_816_15.x, var_816_15.y, 0)
				local var_816_17 = arg_813_1.bgs_.STblack

				var_816_17.transform.localPosition = var_816_16
				var_816_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_816_18 = var_816_17:GetComponent("SpriteRenderer")

				if var_816_18 and var_816_18.sprite then
					local var_816_19 = (var_816_17.transform.localPosition - var_816_15).z
					local var_816_20 = manager.ui.mainCameraCom_
					local var_816_21 = 2 * var_816_19 * Mathf.Tan(var_816_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_816_22 = var_816_21 * var_816_20.aspect
					local var_816_23 = var_816_18.sprite.bounds.size.x
					local var_816_24 = var_816_18.sprite.bounds.size.y
					local var_816_25 = var_816_22 / var_816_23
					local var_816_26 = var_816_21 / var_816_24
					local var_816_27 = var_816_26 < var_816_25 and var_816_25 or var_816_26

					var_816_17.transform.localScale = Vector3.New(var_816_27, var_816_27, 0)
				end

				for iter_816_2, iter_816_3 in pairs(arg_813_1.bgs_) do
					if iter_816_2 ~= "STblack" then
						iter_816_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_816_28 = 0

			if var_816_28 < arg_813_1.time_ and arg_813_1.time_ <= var_816_28 + arg_816_0 then
				arg_813_1.mask_.enabled = true
				arg_813_1.mask_.raycastTarget = true

				arg_813_1:SetGaussion(false)
			end

			local var_816_29 = 2.06666666666667

			if var_816_28 <= arg_813_1.time_ and arg_813_1.time_ < var_816_28 + var_816_29 then
				local var_816_30 = (arg_813_1.time_ - var_816_28) / var_816_29
				local var_816_31 = Color.New(0, 0, 0)

				var_816_31.a = Mathf.Lerp(0, 1, var_816_30)
				arg_813_1.mask_.color = var_816_31
			end

			if arg_813_1.time_ >= var_816_28 + var_816_29 and arg_813_1.time_ < var_816_28 + var_816_29 + arg_816_0 then
				local var_816_32 = Color.New(0, 0, 0)

				var_816_32.a = 1
				arg_813_1.mask_.color = var_816_32
			end

			local var_816_33 = 2.06666666666667

			if var_816_33 < arg_813_1.time_ and arg_813_1.time_ <= var_816_33 + arg_816_0 then
				arg_813_1.mask_.enabled = true
				arg_813_1.mask_.raycastTarget = true

				arg_813_1:SetGaussion(false)
			end

			local var_816_34 = 1.63333333333333

			if var_816_33 <= arg_813_1.time_ and arg_813_1.time_ < var_816_33 + var_816_34 then
				local var_816_35 = (arg_813_1.time_ - var_816_33) / var_816_34
				local var_816_36 = Color.New(0, 0, 0)

				var_816_36.a = Mathf.Lerp(1, 0, var_816_35)
				arg_813_1.mask_.color = var_816_36
			end

			if arg_813_1.time_ >= var_816_33 + var_816_34 and arg_813_1.time_ < var_816_33 + var_816_34 + arg_816_0 then
				local var_816_37 = Color.New(0, 0, 0)
				local var_816_38 = 0

				arg_813_1.mask_.enabled = false
				var_816_37.a = var_816_38
				arg_813_1.mask_.color = var_816_37
			end

			if arg_813_1.frameCnt_ <= 1 then
				arg_813_1.dialog_:SetActive(false)
			end

			local var_816_39 = 3.699999999999
			local var_816_40 = 0.225

			if var_816_39 < arg_813_1.time_ and arg_813_1.time_ <= var_816_39 + arg_816_0 then
				arg_813_1.talkMaxDuration = 0

				arg_813_1.dialog_:SetActive(true)

				local var_816_41 = LeanTween.value(arg_813_1.dialog_, 0, 1, 0.3)

				var_816_41:setOnUpdate(LuaHelper.FloatAction(function(arg_817_0)
					arg_813_1.dialogCg_.alpha = arg_817_0
				end))
				var_816_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_813_1.dialog_)
					var_816_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_813_1.duration_ = arg_813_1.duration_ + 0.3

				SetActive(arg_813_1.leftNameGo_, true)

				local var_816_42 = arg_813_1:FormatText(StoryNameCfg[670].name)

				arg_813_1.leftNameTxt_.text = var_816_42

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_813_1.leftNameTxt_.transform)

				arg_813_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_813_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_813_1:RecordName(arg_813_1.leftNameTxt_.text)
				SetActive(arg_813_1.iconTrs_.gameObject, false)
				arg_813_1.callingController_:SetSelectedState("normal")

				local var_816_43 = arg_813_1:GetWordFromCfg(411121192)
				local var_816_44 = arg_813_1:FormatText(var_816_43.content)

				arg_813_1.text_.text = var_816_44

				LuaForUtil.ClearLinePrefixSymbol(arg_813_1.text_)

				local var_816_45 = 9
				local var_816_46 = utf8.len(var_816_44)
				local var_816_47 = var_816_45 <= 0 and var_816_40 or var_816_40 * (var_816_46 / var_816_45)

				if var_816_47 > 0 and var_816_40 < var_816_47 then
					arg_813_1.talkMaxDuration = var_816_47
					var_816_39 = var_816_39 + 0.3

					if var_816_47 + var_816_39 > arg_813_1.duration_ then
						arg_813_1.duration_ = var_816_47 + var_816_39
					end
				end

				arg_813_1.text_.text = var_816_44
				arg_813_1.typewritter.percent = 0

				arg_813_1.typewritter:SetDirty()
				arg_813_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121192", "story_v_out_411121.awb") ~= 0 then
					local var_816_48 = manager.audio:GetVoiceLength("story_v_out_411121", "411121192", "story_v_out_411121.awb") / 1000

					if var_816_48 + var_816_39 > arg_813_1.duration_ then
						arg_813_1.duration_ = var_816_48 + var_816_39
					end

					if var_816_43.prefab_name ~= "" and arg_813_1.actors_[var_816_43.prefab_name] ~= nil then
						local var_816_49 = LuaForUtil.PlayVoiceWithCriLipsync(arg_813_1.actors_[var_816_43.prefab_name].transform, "story_v_out_411121", "411121192", "story_v_out_411121.awb")

						arg_813_1:RecordAudio("411121192", var_816_49)
						arg_813_1:RecordAudio("411121192", var_816_49)
					else
						arg_813_1:AudioAction("play", "voice", "story_v_out_411121", "411121192", "story_v_out_411121.awb")
					end

					arg_813_1:RecordHistoryTalkVoice("story_v_out_411121", "411121192", "story_v_out_411121.awb")
				end

				arg_813_1:RecordContent(arg_813_1.text_.text)
			end

			local var_816_50 = var_816_39 + 0.3
			local var_816_51 = math.max(var_816_40, arg_813_1.talkMaxDuration)

			if var_816_50 <= arg_813_1.time_ and arg_813_1.time_ < var_816_50 + var_816_51 then
				arg_813_1.typewritter.percent = (arg_813_1.time_ - var_816_50) / var_816_51

				arg_813_1.typewritter:SetDirty()
			end

			if arg_813_1.time_ >= var_816_50 + var_816_51 and arg_813_1.time_ < var_816_50 + var_816_51 + arg_816_0 then
				arg_813_1.typewritter.percent = 1

				arg_813_1.typewritter:SetDirty()
				arg_813_1:ShowNextGo(true)
			end
		end
	end,
	Play411121193 = function(arg_819_0, arg_819_1)
		arg_819_1.time_ = 0
		arg_819_1.frameCnt_ = 0
		arg_819_1.state_ = "playing"
		arg_819_1.curTalkId_ = 411121193
		arg_819_1.duration_ = 7.93266666481892

		SetActive(arg_819_1.tipsGo_, false)

		function arg_819_1.onSingleLineFinish_()
			arg_819_1.onSingleLineUpdate_ = nil
			arg_819_1.onSingleLineFinish_ = nil
			arg_819_1.state_ = "waiting"
		end

		function arg_819_1.playNext_(arg_821_0)
			if arg_821_0 == 1 then
				arg_819_0:Play411121194(arg_819_1)
			end
		end

		function arg_819_1.onSingleLineUpdate_(arg_822_0)
			local var_822_0 = 0

			if var_822_0 < arg_819_1.time_ and arg_819_1.time_ <= var_822_0 + arg_822_0 then
				local var_822_1 = manager.ui.mainCamera.transform.localPosition
				local var_822_2 = Vector3.New(0, 0, 10) + Vector3.New(var_822_1.x, var_822_1.y, 0)
				local var_822_3 = arg_819_1.bgs_.STblack

				var_822_3.transform.localPosition = var_822_2
				var_822_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_822_4 = var_822_3:GetComponent("SpriteRenderer")

				if var_822_4 and var_822_4.sprite then
					local var_822_5 = (var_822_3.transform.localPosition - var_822_1).z
					local var_822_6 = manager.ui.mainCameraCom_
					local var_822_7 = 2 * var_822_5 * Mathf.Tan(var_822_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_822_8 = var_822_7 * var_822_6.aspect
					local var_822_9 = var_822_4.sprite.bounds.size.x
					local var_822_10 = var_822_4.sprite.bounds.size.y
					local var_822_11 = var_822_8 / var_822_9
					local var_822_12 = var_822_7 / var_822_10
					local var_822_13 = var_822_12 < var_822_11 and var_822_11 or var_822_12

					var_822_3.transform.localScale = Vector3.New(var_822_13, var_822_13, 0)
				end

				for iter_822_0, iter_822_1 in pairs(arg_819_1.bgs_) do
					if iter_822_0 ~= "STblack" then
						iter_822_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_822_14 = 0

			if var_822_14 < arg_819_1.time_ and arg_819_1.time_ <= var_822_14 + arg_822_0 then
				arg_819_1.mask_.enabled = true
				arg_819_1.mask_.raycastTarget = true

				arg_819_1:SetGaussion(false)
			end

			local var_822_15 = 2.93266666481892

			if var_822_14 <= arg_819_1.time_ and arg_819_1.time_ < var_822_14 + var_822_15 then
				local var_822_16 = (arg_819_1.time_ - var_822_14) / var_822_15
				local var_822_17 = Color.New(0, 0, 0)

				var_822_17.a = Mathf.Lerp(1, 0, var_822_16)
				arg_819_1.mask_.color = var_822_17
			end

			if arg_819_1.time_ >= var_822_14 + var_822_15 and arg_819_1.time_ < var_822_14 + var_822_15 + arg_822_0 then
				local var_822_18 = Color.New(0, 0, 0)
				local var_822_19 = 0

				arg_819_1.mask_.enabled = false
				var_822_18.a = var_822_19
				arg_819_1.mask_.color = var_822_18
			end

			if arg_819_1.frameCnt_ <= 1 then
				arg_819_1.dialog_:SetActive(false)
			end

			local var_822_20 = 2.93266666481892
			local var_822_21 = 0.775

			if var_822_20 < arg_819_1.time_ and arg_819_1.time_ <= var_822_20 + arg_822_0 then
				arg_819_1.talkMaxDuration = 0

				arg_819_1.dialog_:SetActive(true)

				local var_822_22 = LeanTween.value(arg_819_1.dialog_, 0, 1, 0.3)

				var_822_22:setOnUpdate(LuaHelper.FloatAction(function(arg_823_0)
					arg_819_1.dialogCg_.alpha = arg_823_0
				end))
				var_822_22:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_819_1.dialog_)
					var_822_22:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_819_1.duration_ = arg_819_1.duration_ + 0.3

				SetActive(arg_819_1.leftNameGo_, false)

				arg_819_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_819_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_819_1:RecordName(arg_819_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_819_1.iconTrs_.gameObject, false)
				arg_819_1.callingController_:SetSelectedState("normal")

				local var_822_23 = arg_819_1:GetWordFromCfg(411121193)
				local var_822_24 = arg_819_1:FormatText(var_822_23.content)

				arg_819_1.text_.text = var_822_24

				LuaForUtil.ClearLinePrefixSymbol(arg_819_1.text_)

				local var_822_25 = 31
				local var_822_26 = utf8.len(var_822_24)
				local var_822_27 = var_822_25 <= 0 and var_822_21 or var_822_21 * (var_822_26 / var_822_25)

				if var_822_27 > 0 and var_822_21 < var_822_27 then
					arg_819_1.talkMaxDuration = var_822_27
					var_822_20 = var_822_20 + 0.3

					if var_822_27 + var_822_20 > arg_819_1.duration_ then
						arg_819_1.duration_ = var_822_27 + var_822_20
					end
				end

				arg_819_1.text_.text = var_822_24
				arg_819_1.typewritter.percent = 0

				arg_819_1.typewritter:SetDirty()
				arg_819_1:ShowNextGo(false)
				arg_819_1:RecordContent(arg_819_1.text_.text)
			end

			local var_822_28 = var_822_20 + 0.3
			local var_822_29 = math.max(var_822_21, arg_819_1.talkMaxDuration)

			if var_822_28 <= arg_819_1.time_ and arg_819_1.time_ < var_822_28 + var_822_29 then
				arg_819_1.typewritter.percent = (arg_819_1.time_ - var_822_28) / var_822_29

				arg_819_1.typewritter:SetDirty()
			end

			if arg_819_1.time_ >= var_822_28 + var_822_29 and arg_819_1.time_ < var_822_28 + var_822_29 + arg_822_0 then
				arg_819_1.typewritter.percent = 1

				arg_819_1.typewritter:SetDirty()
				arg_819_1:ShowNextGo(true)
			end
		end
	end,
	Play411121194 = function(arg_825_0, arg_825_1)
		arg_825_1.time_ = 0
		arg_825_1.frameCnt_ = 0
		arg_825_1.state_ = "playing"
		arg_825_1.curTalkId_ = 411121194
		arg_825_1.duration_ = 10.0996666666667

		local var_825_0 = {
			zh = 7.83266666666667,
			ja = 10.0996666666667
		}
		local var_825_1 = manager.audio:GetLocalizationFlag()

		if var_825_0[var_825_1] ~= nil then
			arg_825_1.duration_ = var_825_0[var_825_1]
		end

		SetActive(arg_825_1.tipsGo_, false)

		function arg_825_1.onSingleLineFinish_()
			arg_825_1.onSingleLineUpdate_ = nil
			arg_825_1.onSingleLineFinish_ = nil
			arg_825_1.state_ = "waiting"
		end

		function arg_825_1.playNext_(arg_827_0)
			if arg_827_0 == 1 then
				arg_825_0:Play411121195(arg_825_1)
			end
		end

		function arg_825_1.onSingleLineUpdate_(arg_828_0)
			local var_828_0 = arg_825_1.actors_["10014ui_story"].transform
			local var_828_1 = 3.66666666666667

			if var_828_1 < arg_825_1.time_ and arg_825_1.time_ <= var_828_1 + arg_828_0 then
				arg_825_1.var_.moveOldPos10014ui_story = var_828_0.localPosition
			end

			local var_828_2 = 0.001

			if var_828_1 <= arg_825_1.time_ and arg_825_1.time_ < var_828_1 + var_828_2 then
				local var_828_3 = (arg_825_1.time_ - var_828_1) / var_828_2
				local var_828_4 = Vector3.New(0, -1.06, -6.2)

				var_828_0.localPosition = Vector3.Lerp(arg_825_1.var_.moveOldPos10014ui_story, var_828_4, var_828_3)

				local var_828_5 = manager.ui.mainCamera.transform.position - var_828_0.position

				var_828_0.forward = Vector3.New(var_828_5.x, var_828_5.y, var_828_5.z)

				local var_828_6 = var_828_0.localEulerAngles

				var_828_6.z = 0
				var_828_6.x = 0
				var_828_0.localEulerAngles = var_828_6
			end

			if arg_825_1.time_ >= var_828_1 + var_828_2 and arg_825_1.time_ < var_828_1 + var_828_2 + arg_828_0 then
				var_828_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_828_7 = manager.ui.mainCamera.transform.position - var_828_0.position

				var_828_0.forward = Vector3.New(var_828_7.x, var_828_7.y, var_828_7.z)

				local var_828_8 = var_828_0.localEulerAngles

				var_828_8.z = 0
				var_828_8.x = 0
				var_828_0.localEulerAngles = var_828_8
			end

			local var_828_9 = arg_825_1.actors_["10014ui_story"]
			local var_828_10 = 3.66666666666667

			if var_828_10 < arg_825_1.time_ and arg_825_1.time_ <= var_828_10 + arg_828_0 and arg_825_1.var_.characterEffect10014ui_story == nil then
				arg_825_1.var_.characterEffect10014ui_story = var_828_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_828_11 = 0.200000002980232

			if var_828_10 <= arg_825_1.time_ and arg_825_1.time_ < var_828_10 + var_828_11 then
				local var_828_12 = (arg_825_1.time_ - var_828_10) / var_828_11

				if arg_825_1.var_.characterEffect10014ui_story then
					arg_825_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_825_1.time_ >= var_828_10 + var_828_11 and arg_825_1.time_ < var_828_10 + var_828_11 + arg_828_0 and arg_825_1.var_.characterEffect10014ui_story then
				arg_825_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_828_13 = 3.66666666666667

			if var_828_13 < arg_825_1.time_ and arg_825_1.time_ <= var_828_13 + arg_828_0 then
				arg_825_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_2")
			end

			local var_828_14 = 3.66666666666667

			if var_828_14 < arg_825_1.time_ and arg_825_1.time_ <= var_828_14 + arg_828_0 then
				arg_825_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_828_15 = 0

			if var_828_15 < arg_825_1.time_ and arg_825_1.time_ <= var_828_15 + arg_828_0 then
				local var_828_16 = manager.ui.mainCamera.transform.localPosition
				local var_828_17 = Vector3.New(0, 0, 10) + Vector3.New(var_828_16.x, var_828_16.y, 0)
				local var_828_18 = arg_825_1.bgs_.STblack

				var_828_18.transform.localPosition = var_828_17
				var_828_18.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_828_19 = var_828_18:GetComponent("SpriteRenderer")

				if var_828_19 and var_828_19.sprite then
					local var_828_20 = (var_828_18.transform.localPosition - var_828_16).z
					local var_828_21 = manager.ui.mainCameraCom_
					local var_828_22 = 2 * var_828_20 * Mathf.Tan(var_828_21.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_828_23 = var_828_22 * var_828_21.aspect
					local var_828_24 = var_828_19.sprite.bounds.size.x
					local var_828_25 = var_828_19.sprite.bounds.size.y
					local var_828_26 = var_828_23 / var_828_24
					local var_828_27 = var_828_22 / var_828_25
					local var_828_28 = var_828_27 < var_828_26 and var_828_26 or var_828_27

					var_828_18.transform.localScale = Vector3.New(var_828_28, var_828_28, 0)
				end

				for iter_828_0, iter_828_1 in pairs(arg_825_1.bgs_) do
					if iter_828_0 ~= "STblack" then
						iter_828_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_828_29 = "B14"

			if arg_825_1.bgs_[var_828_29] == nil then
				local var_828_30 = Object.Instantiate(arg_825_1.paintGo_)

				var_828_30:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_828_29)
				var_828_30.name = var_828_29
				var_828_30.transform.parent = arg_825_1.stage_.transform
				var_828_30.transform.localPosition = Vector3.New(0, 100, 0)
				arg_825_1.bgs_[var_828_29] = var_828_30
			end

			local var_828_31 = 1.66666666666667

			if var_828_31 < arg_825_1.time_ and arg_825_1.time_ <= var_828_31 + arg_828_0 then
				local var_828_32 = manager.ui.mainCamera.transform.localPosition
				local var_828_33 = Vector3.New(0, 0, 10) + Vector3.New(var_828_32.x, var_828_32.y, 0)
				local var_828_34 = arg_825_1.bgs_.B14

				var_828_34.transform.localPosition = var_828_33
				var_828_34.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_828_35 = var_828_34:GetComponent("SpriteRenderer")

				if var_828_35 and var_828_35.sprite then
					local var_828_36 = (var_828_34.transform.localPosition - var_828_32).z
					local var_828_37 = manager.ui.mainCameraCom_
					local var_828_38 = 2 * var_828_36 * Mathf.Tan(var_828_37.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_828_39 = var_828_38 * var_828_37.aspect
					local var_828_40 = var_828_35.sprite.bounds.size.x
					local var_828_41 = var_828_35.sprite.bounds.size.y
					local var_828_42 = var_828_39 / var_828_40
					local var_828_43 = var_828_38 / var_828_41
					local var_828_44 = var_828_43 < var_828_42 and var_828_42 or var_828_43

					var_828_34.transform.localScale = Vector3.New(var_828_44, var_828_44, 0)
				end

				for iter_828_2, iter_828_3 in pairs(arg_825_1.bgs_) do
					if iter_828_2 ~= "B14" then
						iter_828_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_828_45 = 0

			if var_828_45 < arg_825_1.time_ and arg_825_1.time_ <= var_828_45 + arg_828_0 then
				arg_825_1.mask_.enabled = true
				arg_825_1.mask_.raycastTarget = true

				arg_825_1:SetGaussion(false)
			end

			local var_828_46 = 1.66666666666667

			if var_828_45 <= arg_825_1.time_ and arg_825_1.time_ < var_828_45 + var_828_46 then
				local var_828_47 = (arg_825_1.time_ - var_828_45) / var_828_46
				local var_828_48 = Color.New(0, 0, 0)

				var_828_48.a = Mathf.Lerp(0, 1, var_828_47)
				arg_825_1.mask_.color = var_828_48
			end

			if arg_825_1.time_ >= var_828_45 + var_828_46 and arg_825_1.time_ < var_828_45 + var_828_46 + arg_828_0 then
				local var_828_49 = Color.New(0, 0, 0)

				var_828_49.a = 1
				arg_825_1.mask_.color = var_828_49
			end

			local var_828_50 = 1.66666666666667

			if var_828_50 < arg_825_1.time_ and arg_825_1.time_ <= var_828_50 + arg_828_0 then
				arg_825_1.mask_.enabled = true
				arg_825_1.mask_.raycastTarget = true

				arg_825_1:SetGaussion(false)
			end

			local var_828_51 = 2

			if var_828_50 <= arg_825_1.time_ and arg_825_1.time_ < var_828_50 + var_828_51 then
				local var_828_52 = (arg_825_1.time_ - var_828_50) / var_828_51
				local var_828_53 = Color.New(0, 0, 0)

				var_828_53.a = Mathf.Lerp(1, 0, var_828_52)
				arg_825_1.mask_.color = var_828_53
			end

			if arg_825_1.time_ >= var_828_50 + var_828_51 and arg_825_1.time_ < var_828_50 + var_828_51 + arg_828_0 then
				local var_828_54 = Color.New(0, 0, 0)
				local var_828_55 = 0

				arg_825_1.mask_.enabled = false
				var_828_54.a = var_828_55
				arg_825_1.mask_.color = var_828_54
			end

			if arg_825_1.frameCnt_ <= 1 then
				arg_825_1.dialog_:SetActive(false)
			end

			local var_828_56 = 3.66666666666667
			local var_828_57 = 0.55

			if var_828_56 < arg_825_1.time_ and arg_825_1.time_ <= var_828_56 + arg_828_0 then
				arg_825_1.talkMaxDuration = 0

				arg_825_1.dialog_:SetActive(true)

				local var_828_58 = LeanTween.value(arg_825_1.dialog_, 0, 1, 0.3)

				var_828_58:setOnUpdate(LuaHelper.FloatAction(function(arg_829_0)
					arg_825_1.dialogCg_.alpha = arg_829_0
				end))
				var_828_58:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_825_1.dialog_)
					var_828_58:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_825_1.duration_ = arg_825_1.duration_ + 0.3

				SetActive(arg_825_1.leftNameGo_, true)

				local var_828_59 = arg_825_1:FormatText(StoryNameCfg[264].name)

				arg_825_1.leftNameTxt_.text = var_828_59

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_825_1.leftNameTxt_.transform)

				arg_825_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_825_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_825_1:RecordName(arg_825_1.leftNameTxt_.text)
				SetActive(arg_825_1.iconTrs_.gameObject, false)
				arg_825_1.callingController_:SetSelectedState("normal")

				local var_828_60 = arg_825_1:GetWordFromCfg(411121194)
				local var_828_61 = arg_825_1:FormatText(var_828_60.content)

				arg_825_1.text_.text = var_828_61

				LuaForUtil.ClearLinePrefixSymbol(arg_825_1.text_)

				local var_828_62 = 22
				local var_828_63 = utf8.len(var_828_61)
				local var_828_64 = var_828_62 <= 0 and var_828_57 or var_828_57 * (var_828_63 / var_828_62)

				if var_828_64 > 0 and var_828_57 < var_828_64 then
					arg_825_1.talkMaxDuration = var_828_64
					var_828_56 = var_828_56 + 0.3

					if var_828_64 + var_828_56 > arg_825_1.duration_ then
						arg_825_1.duration_ = var_828_64 + var_828_56
					end
				end

				arg_825_1.text_.text = var_828_61
				arg_825_1.typewritter.percent = 0

				arg_825_1.typewritter:SetDirty()
				arg_825_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121194", "story_v_out_411121.awb") ~= 0 then
					local var_828_65 = manager.audio:GetVoiceLength("story_v_out_411121", "411121194", "story_v_out_411121.awb") / 1000

					if var_828_65 + var_828_56 > arg_825_1.duration_ then
						arg_825_1.duration_ = var_828_65 + var_828_56
					end

					if var_828_60.prefab_name ~= "" and arg_825_1.actors_[var_828_60.prefab_name] ~= nil then
						local var_828_66 = LuaForUtil.PlayVoiceWithCriLipsync(arg_825_1.actors_[var_828_60.prefab_name].transform, "story_v_out_411121", "411121194", "story_v_out_411121.awb")

						arg_825_1:RecordAudio("411121194", var_828_66)
						arg_825_1:RecordAudio("411121194", var_828_66)
					else
						arg_825_1:AudioAction("play", "voice", "story_v_out_411121", "411121194", "story_v_out_411121.awb")
					end

					arg_825_1:RecordHistoryTalkVoice("story_v_out_411121", "411121194", "story_v_out_411121.awb")
				end

				arg_825_1:RecordContent(arg_825_1.text_.text)
			end

			local var_828_67 = var_828_56 + 0.3
			local var_828_68 = math.max(var_828_57, arg_825_1.talkMaxDuration)

			if var_828_67 <= arg_825_1.time_ and arg_825_1.time_ < var_828_67 + var_828_68 then
				arg_825_1.typewritter.percent = (arg_825_1.time_ - var_828_67) / var_828_68

				arg_825_1.typewritter:SetDirty()
			end

			if arg_825_1.time_ >= var_828_67 + var_828_68 and arg_825_1.time_ < var_828_67 + var_828_68 + arg_828_0 then
				arg_825_1.typewritter.percent = 1

				arg_825_1.typewritter:SetDirty()
				arg_825_1:ShowNextGo(true)
			end
		end
	end,
	Play411121195 = function(arg_831_0, arg_831_1)
		arg_831_1.time_ = 0
		arg_831_1.frameCnt_ = 0
		arg_831_1.state_ = "playing"
		arg_831_1.curTalkId_ = 411121195
		arg_831_1.duration_ = 8.466

		local var_831_0 = {
			zh = 4.166,
			ja = 8.466
		}
		local var_831_1 = manager.audio:GetLocalizationFlag()

		if var_831_0[var_831_1] ~= nil then
			arg_831_1.duration_ = var_831_0[var_831_1]
		end

		SetActive(arg_831_1.tipsGo_, false)

		function arg_831_1.onSingleLineFinish_()
			arg_831_1.onSingleLineUpdate_ = nil
			arg_831_1.onSingleLineFinish_ = nil
			arg_831_1.state_ = "waiting"
		end

		function arg_831_1.playNext_(arg_833_0)
			if arg_833_0 == 1 then
				arg_831_0:Play411121196(arg_831_1)
			end
		end

		function arg_831_1.onSingleLineUpdate_(arg_834_0)
			local var_834_0 = arg_831_1.actors_["1095ui_story"].transform
			local var_834_1 = 0

			if var_834_1 < arg_831_1.time_ and arg_831_1.time_ <= var_834_1 + arg_834_0 then
				arg_831_1.var_.moveOldPos1095ui_story = var_834_0.localPosition
			end

			local var_834_2 = 0.001

			if var_834_1 <= arg_831_1.time_ and arg_831_1.time_ < var_834_1 + var_834_2 then
				local var_834_3 = (arg_831_1.time_ - var_834_1) / var_834_2
				local var_834_4 = Vector3.New(0.7, -0.98, -6.1)

				var_834_0.localPosition = Vector3.Lerp(arg_831_1.var_.moveOldPos1095ui_story, var_834_4, var_834_3)

				local var_834_5 = manager.ui.mainCamera.transform.position - var_834_0.position

				var_834_0.forward = Vector3.New(var_834_5.x, var_834_5.y, var_834_5.z)

				local var_834_6 = var_834_0.localEulerAngles

				var_834_6.z = 0
				var_834_6.x = 0
				var_834_0.localEulerAngles = var_834_6
			end

			if arg_831_1.time_ >= var_834_1 + var_834_2 and arg_831_1.time_ < var_834_1 + var_834_2 + arg_834_0 then
				var_834_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_834_7 = manager.ui.mainCamera.transform.position - var_834_0.position

				var_834_0.forward = Vector3.New(var_834_7.x, var_834_7.y, var_834_7.z)

				local var_834_8 = var_834_0.localEulerAngles

				var_834_8.z = 0
				var_834_8.x = 0
				var_834_0.localEulerAngles = var_834_8
			end

			local var_834_9 = arg_831_1.actors_["1095ui_story"]
			local var_834_10 = 0

			if var_834_10 < arg_831_1.time_ and arg_831_1.time_ <= var_834_10 + arg_834_0 and arg_831_1.var_.characterEffect1095ui_story == nil then
				arg_831_1.var_.characterEffect1095ui_story = var_834_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_834_11 = 0.200000002980232

			if var_834_10 <= arg_831_1.time_ and arg_831_1.time_ < var_834_10 + var_834_11 then
				local var_834_12 = (arg_831_1.time_ - var_834_10) / var_834_11

				if arg_831_1.var_.characterEffect1095ui_story then
					arg_831_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_831_1.time_ >= var_834_10 + var_834_11 and arg_831_1.time_ < var_834_10 + var_834_11 + arg_834_0 and arg_831_1.var_.characterEffect1095ui_story then
				arg_831_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_834_13 = 0

			if var_834_13 < arg_831_1.time_ and arg_831_1.time_ <= var_834_13 + arg_834_0 then
				arg_831_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_834_14 = 0

			if var_834_14 < arg_831_1.time_ and arg_831_1.time_ <= var_834_14 + arg_834_0 then
				arg_831_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_834_15 = arg_831_1.actors_["10014ui_story"].transform
			local var_834_16 = 0

			if var_834_16 < arg_831_1.time_ and arg_831_1.time_ <= var_834_16 + arg_834_0 then
				arg_831_1.var_.moveOldPos10014ui_story = var_834_15.localPosition
			end

			local var_834_17 = 0.001

			if var_834_16 <= arg_831_1.time_ and arg_831_1.time_ < var_834_16 + var_834_17 then
				local var_834_18 = (arg_831_1.time_ - var_834_16) / var_834_17
				local var_834_19 = Vector3.New(-0.7, -1.06, -6.2)

				var_834_15.localPosition = Vector3.Lerp(arg_831_1.var_.moveOldPos10014ui_story, var_834_19, var_834_18)

				local var_834_20 = manager.ui.mainCamera.transform.position - var_834_15.position

				var_834_15.forward = Vector3.New(var_834_20.x, var_834_20.y, var_834_20.z)

				local var_834_21 = var_834_15.localEulerAngles

				var_834_21.z = 0
				var_834_21.x = 0
				var_834_15.localEulerAngles = var_834_21
			end

			if arg_831_1.time_ >= var_834_16 + var_834_17 and arg_831_1.time_ < var_834_16 + var_834_17 + arg_834_0 then
				var_834_15.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_834_22 = manager.ui.mainCamera.transform.position - var_834_15.position

				var_834_15.forward = Vector3.New(var_834_22.x, var_834_22.y, var_834_22.z)

				local var_834_23 = var_834_15.localEulerAngles

				var_834_23.z = 0
				var_834_23.x = 0
				var_834_15.localEulerAngles = var_834_23
			end

			local var_834_24 = arg_831_1.actors_["10014ui_story"]
			local var_834_25 = 0

			if var_834_25 < arg_831_1.time_ and arg_831_1.time_ <= var_834_25 + arg_834_0 and arg_831_1.var_.characterEffect10014ui_story == nil then
				arg_831_1.var_.characterEffect10014ui_story = var_834_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_834_26 = 0.200000002980232

			if var_834_25 <= arg_831_1.time_ and arg_831_1.time_ < var_834_25 + var_834_26 then
				local var_834_27 = (arg_831_1.time_ - var_834_25) / var_834_26

				if arg_831_1.var_.characterEffect10014ui_story then
					local var_834_28 = Mathf.Lerp(0, 0.5, var_834_27)

					arg_831_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_831_1.var_.characterEffect10014ui_story.fillRatio = var_834_28
				end
			end

			if arg_831_1.time_ >= var_834_25 + var_834_26 and arg_831_1.time_ < var_834_25 + var_834_26 + arg_834_0 and arg_831_1.var_.characterEffect10014ui_story then
				local var_834_29 = 0.5

				arg_831_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_831_1.var_.characterEffect10014ui_story.fillRatio = var_834_29
			end

			local var_834_30 = 0
			local var_834_31 = 0.525

			if var_834_30 < arg_831_1.time_ and arg_831_1.time_ <= var_834_30 + arg_834_0 then
				arg_831_1.talkMaxDuration = 0
				arg_831_1.dialogCg_.alpha = 1

				arg_831_1.dialog_:SetActive(true)
				SetActive(arg_831_1.leftNameGo_, true)

				local var_834_32 = arg_831_1:FormatText(StoryNameCfg[471].name)

				arg_831_1.leftNameTxt_.text = var_834_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_831_1.leftNameTxt_.transform)

				arg_831_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_831_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_831_1:RecordName(arg_831_1.leftNameTxt_.text)
				SetActive(arg_831_1.iconTrs_.gameObject, false)
				arg_831_1.callingController_:SetSelectedState("normal")

				local var_834_33 = arg_831_1:GetWordFromCfg(411121195)
				local var_834_34 = arg_831_1:FormatText(var_834_33.content)

				arg_831_1.text_.text = var_834_34

				LuaForUtil.ClearLinePrefixSymbol(arg_831_1.text_)

				local var_834_35 = 21
				local var_834_36 = utf8.len(var_834_34)
				local var_834_37 = var_834_35 <= 0 and var_834_31 or var_834_31 * (var_834_36 / var_834_35)

				if var_834_37 > 0 and var_834_31 < var_834_37 then
					arg_831_1.talkMaxDuration = var_834_37

					if var_834_37 + var_834_30 > arg_831_1.duration_ then
						arg_831_1.duration_ = var_834_37 + var_834_30
					end
				end

				arg_831_1.text_.text = var_834_34
				arg_831_1.typewritter.percent = 0

				arg_831_1.typewritter:SetDirty()
				arg_831_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121195", "story_v_out_411121.awb") ~= 0 then
					local var_834_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121195", "story_v_out_411121.awb") / 1000

					if var_834_38 + var_834_30 > arg_831_1.duration_ then
						arg_831_1.duration_ = var_834_38 + var_834_30
					end

					if var_834_33.prefab_name ~= "" and arg_831_1.actors_[var_834_33.prefab_name] ~= nil then
						local var_834_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_831_1.actors_[var_834_33.prefab_name].transform, "story_v_out_411121", "411121195", "story_v_out_411121.awb")

						arg_831_1:RecordAudio("411121195", var_834_39)
						arg_831_1:RecordAudio("411121195", var_834_39)
					else
						arg_831_1:AudioAction("play", "voice", "story_v_out_411121", "411121195", "story_v_out_411121.awb")
					end

					arg_831_1:RecordHistoryTalkVoice("story_v_out_411121", "411121195", "story_v_out_411121.awb")
				end

				arg_831_1:RecordContent(arg_831_1.text_.text)
			end

			local var_834_40 = math.max(var_834_31, arg_831_1.talkMaxDuration)

			if var_834_30 <= arg_831_1.time_ and arg_831_1.time_ < var_834_30 + var_834_40 then
				arg_831_1.typewritter.percent = (arg_831_1.time_ - var_834_30) / var_834_40

				arg_831_1.typewritter:SetDirty()
			end

			if arg_831_1.time_ >= var_834_30 + var_834_40 and arg_831_1.time_ < var_834_30 + var_834_40 + arg_834_0 then
				arg_831_1.typewritter.percent = 1

				arg_831_1.typewritter:SetDirty()
				arg_831_1:ShowNextGo(true)
			end
		end
	end,
	Play411121196 = function(arg_835_0, arg_835_1)
		arg_835_1.time_ = 0
		arg_835_1.frameCnt_ = 0
		arg_835_1.state_ = "playing"
		arg_835_1.curTalkId_ = 411121196
		arg_835_1.duration_ = 8.3

		local var_835_0 = {
			zh = 5.566,
			ja = 8.3
		}
		local var_835_1 = manager.audio:GetLocalizationFlag()

		if var_835_0[var_835_1] ~= nil then
			arg_835_1.duration_ = var_835_0[var_835_1]
		end

		SetActive(arg_835_1.tipsGo_, false)

		function arg_835_1.onSingleLineFinish_()
			arg_835_1.onSingleLineUpdate_ = nil
			arg_835_1.onSingleLineFinish_ = nil
			arg_835_1.state_ = "waiting"
		end

		function arg_835_1.playNext_(arg_837_0)
			if arg_837_0 == 1 then
				arg_835_0:Play411121197(arg_835_1)
			end
		end

		function arg_835_1.onSingleLineUpdate_(arg_838_0)
			local var_838_0 = arg_835_1.actors_["1095ui_story"]
			local var_838_1 = 0

			if var_838_1 < arg_835_1.time_ and arg_835_1.time_ <= var_838_1 + arg_838_0 and arg_835_1.var_.characterEffect1095ui_story == nil then
				arg_835_1.var_.characterEffect1095ui_story = var_838_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_838_2 = 0.200000002980232

			if var_838_1 <= arg_835_1.time_ and arg_835_1.time_ < var_838_1 + var_838_2 then
				local var_838_3 = (arg_835_1.time_ - var_838_1) / var_838_2

				if arg_835_1.var_.characterEffect1095ui_story then
					local var_838_4 = Mathf.Lerp(0, 0.5, var_838_3)

					arg_835_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_835_1.var_.characterEffect1095ui_story.fillRatio = var_838_4
				end
			end

			if arg_835_1.time_ >= var_838_1 + var_838_2 and arg_835_1.time_ < var_838_1 + var_838_2 + arg_838_0 and arg_835_1.var_.characterEffect1095ui_story then
				local var_838_5 = 0.5

				arg_835_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_835_1.var_.characterEffect1095ui_story.fillRatio = var_838_5
			end

			local var_838_6 = arg_835_1.actors_["10014ui_story"]
			local var_838_7 = 0

			if var_838_7 < arg_835_1.time_ and arg_835_1.time_ <= var_838_7 + arg_838_0 and arg_835_1.var_.characterEffect10014ui_story == nil then
				arg_835_1.var_.characterEffect10014ui_story = var_838_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_838_8 = 0.200000002980232

			if var_838_7 <= arg_835_1.time_ and arg_835_1.time_ < var_838_7 + var_838_8 then
				local var_838_9 = (arg_835_1.time_ - var_838_7) / var_838_8

				if arg_835_1.var_.characterEffect10014ui_story then
					arg_835_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_835_1.time_ >= var_838_7 + var_838_8 and arg_835_1.time_ < var_838_7 + var_838_8 + arg_838_0 and arg_835_1.var_.characterEffect10014ui_story then
				arg_835_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_838_10 = 0
			local var_838_11 = 0.65

			if var_838_10 < arg_835_1.time_ and arg_835_1.time_ <= var_838_10 + arg_838_0 then
				arg_835_1.talkMaxDuration = 0
				arg_835_1.dialogCg_.alpha = 1

				arg_835_1.dialog_:SetActive(true)
				SetActive(arg_835_1.leftNameGo_, true)

				local var_838_12 = arg_835_1:FormatText(StoryNameCfg[264].name)

				arg_835_1.leftNameTxt_.text = var_838_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_835_1.leftNameTxt_.transform)

				arg_835_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_835_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_835_1:RecordName(arg_835_1.leftNameTxt_.text)
				SetActive(arg_835_1.iconTrs_.gameObject, false)
				arg_835_1.callingController_:SetSelectedState("normal")

				local var_838_13 = arg_835_1:GetWordFromCfg(411121196)
				local var_838_14 = arg_835_1:FormatText(var_838_13.content)

				arg_835_1.text_.text = var_838_14

				LuaForUtil.ClearLinePrefixSymbol(arg_835_1.text_)

				local var_838_15 = 26
				local var_838_16 = utf8.len(var_838_14)
				local var_838_17 = var_838_15 <= 0 and var_838_11 or var_838_11 * (var_838_16 / var_838_15)

				if var_838_17 > 0 and var_838_11 < var_838_17 then
					arg_835_1.talkMaxDuration = var_838_17

					if var_838_17 + var_838_10 > arg_835_1.duration_ then
						arg_835_1.duration_ = var_838_17 + var_838_10
					end
				end

				arg_835_1.text_.text = var_838_14
				arg_835_1.typewritter.percent = 0

				arg_835_1.typewritter:SetDirty()
				arg_835_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121196", "story_v_out_411121.awb") ~= 0 then
					local var_838_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121196", "story_v_out_411121.awb") / 1000

					if var_838_18 + var_838_10 > arg_835_1.duration_ then
						arg_835_1.duration_ = var_838_18 + var_838_10
					end

					if var_838_13.prefab_name ~= "" and arg_835_1.actors_[var_838_13.prefab_name] ~= nil then
						local var_838_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_835_1.actors_[var_838_13.prefab_name].transform, "story_v_out_411121", "411121196", "story_v_out_411121.awb")

						arg_835_1:RecordAudio("411121196", var_838_19)
						arg_835_1:RecordAudio("411121196", var_838_19)
					else
						arg_835_1:AudioAction("play", "voice", "story_v_out_411121", "411121196", "story_v_out_411121.awb")
					end

					arg_835_1:RecordHistoryTalkVoice("story_v_out_411121", "411121196", "story_v_out_411121.awb")
				end

				arg_835_1:RecordContent(arg_835_1.text_.text)
			end

			local var_838_20 = math.max(var_838_11, arg_835_1.talkMaxDuration)

			if var_838_10 <= arg_835_1.time_ and arg_835_1.time_ < var_838_10 + var_838_20 then
				arg_835_1.typewritter.percent = (arg_835_1.time_ - var_838_10) / var_838_20

				arg_835_1.typewritter:SetDirty()
			end

			if arg_835_1.time_ >= var_838_10 + var_838_20 and arg_835_1.time_ < var_838_10 + var_838_20 + arg_838_0 then
				arg_835_1.typewritter.percent = 1

				arg_835_1.typewritter:SetDirty()
				arg_835_1:ShowNextGo(true)
			end
		end
	end,
	Play411121197 = function(arg_839_0, arg_839_1)
		arg_839_1.time_ = 0
		arg_839_1.frameCnt_ = 0
		arg_839_1.state_ = "playing"
		arg_839_1.curTalkId_ = 411121197
		arg_839_1.duration_ = 4.466

		local var_839_0 = {
			zh = 4.1,
			ja = 4.466
		}
		local var_839_1 = manager.audio:GetLocalizationFlag()

		if var_839_0[var_839_1] ~= nil then
			arg_839_1.duration_ = var_839_0[var_839_1]
		end

		SetActive(arg_839_1.tipsGo_, false)

		function arg_839_1.onSingleLineFinish_()
			arg_839_1.onSingleLineUpdate_ = nil
			arg_839_1.onSingleLineFinish_ = nil
			arg_839_1.state_ = "waiting"
		end

		function arg_839_1.playNext_(arg_841_0)
			if arg_841_0 == 1 then
				arg_839_0:Play411121198(arg_839_1)
			end
		end

		function arg_839_1.onSingleLineUpdate_(arg_842_0)
			local var_842_0 = 0
			local var_842_1 = 0.475

			if var_842_0 < arg_839_1.time_ and arg_839_1.time_ <= var_842_0 + arg_842_0 then
				arg_839_1.talkMaxDuration = 0
				arg_839_1.dialogCg_.alpha = 1

				arg_839_1.dialog_:SetActive(true)
				SetActive(arg_839_1.leftNameGo_, true)

				local var_842_2 = arg_839_1:FormatText(StoryNameCfg[264].name)

				arg_839_1.leftNameTxt_.text = var_842_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_839_1.leftNameTxt_.transform)

				arg_839_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_839_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_839_1:RecordName(arg_839_1.leftNameTxt_.text)
				SetActive(arg_839_1.iconTrs_.gameObject, false)
				arg_839_1.callingController_:SetSelectedState("normal")

				local var_842_3 = arg_839_1:GetWordFromCfg(411121197)
				local var_842_4 = arg_839_1:FormatText(var_842_3.content)

				arg_839_1.text_.text = var_842_4

				LuaForUtil.ClearLinePrefixSymbol(arg_839_1.text_)

				local var_842_5 = 19
				local var_842_6 = utf8.len(var_842_4)
				local var_842_7 = var_842_5 <= 0 and var_842_1 or var_842_1 * (var_842_6 / var_842_5)

				if var_842_7 > 0 and var_842_1 < var_842_7 then
					arg_839_1.talkMaxDuration = var_842_7

					if var_842_7 + var_842_0 > arg_839_1.duration_ then
						arg_839_1.duration_ = var_842_7 + var_842_0
					end
				end

				arg_839_1.text_.text = var_842_4
				arg_839_1.typewritter.percent = 0

				arg_839_1.typewritter:SetDirty()
				arg_839_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121197", "story_v_out_411121.awb") ~= 0 then
					local var_842_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121197", "story_v_out_411121.awb") / 1000

					if var_842_8 + var_842_0 > arg_839_1.duration_ then
						arg_839_1.duration_ = var_842_8 + var_842_0
					end

					if var_842_3.prefab_name ~= "" and arg_839_1.actors_[var_842_3.prefab_name] ~= nil then
						local var_842_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_839_1.actors_[var_842_3.prefab_name].transform, "story_v_out_411121", "411121197", "story_v_out_411121.awb")

						arg_839_1:RecordAudio("411121197", var_842_9)
						arg_839_1:RecordAudio("411121197", var_842_9)
					else
						arg_839_1:AudioAction("play", "voice", "story_v_out_411121", "411121197", "story_v_out_411121.awb")
					end

					arg_839_1:RecordHistoryTalkVoice("story_v_out_411121", "411121197", "story_v_out_411121.awb")
				end

				arg_839_1:RecordContent(arg_839_1.text_.text)
			end

			local var_842_10 = math.max(var_842_1, arg_839_1.talkMaxDuration)

			if var_842_0 <= arg_839_1.time_ and arg_839_1.time_ < var_842_0 + var_842_10 then
				arg_839_1.typewritter.percent = (arg_839_1.time_ - var_842_0) / var_842_10

				arg_839_1.typewritter:SetDirty()
			end

			if arg_839_1.time_ >= var_842_0 + var_842_10 and arg_839_1.time_ < var_842_0 + var_842_10 + arg_842_0 then
				arg_839_1.typewritter.percent = 1

				arg_839_1.typewritter:SetDirty()
				arg_839_1:ShowNextGo(true)
			end
		end
	end,
	Play411121198 = function(arg_843_0, arg_843_1)
		arg_843_1.time_ = 0
		arg_843_1.frameCnt_ = 0
		arg_843_1.state_ = "playing"
		arg_843_1.curTalkId_ = 411121198
		arg_843_1.duration_ = 6.333

		local var_843_0 = {
			zh = 6.3,
			ja = 6.333
		}
		local var_843_1 = manager.audio:GetLocalizationFlag()

		if var_843_0[var_843_1] ~= nil then
			arg_843_1.duration_ = var_843_0[var_843_1]
		end

		SetActive(arg_843_1.tipsGo_, false)

		function arg_843_1.onSingleLineFinish_()
			arg_843_1.onSingleLineUpdate_ = nil
			arg_843_1.onSingleLineFinish_ = nil
			arg_843_1.state_ = "waiting"
		end

		function arg_843_1.playNext_(arg_845_0)
			if arg_845_0 == 1 then
				arg_843_0:Play411121199(arg_843_1)
			end
		end

		function arg_843_1.onSingleLineUpdate_(arg_846_0)
			local var_846_0 = 0
			local var_846_1 = 0.675

			if var_846_0 < arg_843_1.time_ and arg_843_1.time_ <= var_846_0 + arg_846_0 then
				arg_843_1.talkMaxDuration = 0
				arg_843_1.dialogCg_.alpha = 1

				arg_843_1.dialog_:SetActive(true)
				SetActive(arg_843_1.leftNameGo_, true)

				local var_846_2 = arg_843_1:FormatText(StoryNameCfg[264].name)

				arg_843_1.leftNameTxt_.text = var_846_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_843_1.leftNameTxt_.transform)

				arg_843_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_843_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_843_1:RecordName(arg_843_1.leftNameTxt_.text)
				SetActive(arg_843_1.iconTrs_.gameObject, false)
				arg_843_1.callingController_:SetSelectedState("normal")

				local var_846_3 = arg_843_1:GetWordFromCfg(411121198)
				local var_846_4 = arg_843_1:FormatText(var_846_3.content)

				arg_843_1.text_.text = var_846_4

				LuaForUtil.ClearLinePrefixSymbol(arg_843_1.text_)

				local var_846_5 = 27
				local var_846_6 = utf8.len(var_846_4)
				local var_846_7 = var_846_5 <= 0 and var_846_1 or var_846_1 * (var_846_6 / var_846_5)

				if var_846_7 > 0 and var_846_1 < var_846_7 then
					arg_843_1.talkMaxDuration = var_846_7

					if var_846_7 + var_846_0 > arg_843_1.duration_ then
						arg_843_1.duration_ = var_846_7 + var_846_0
					end
				end

				arg_843_1.text_.text = var_846_4
				arg_843_1.typewritter.percent = 0

				arg_843_1.typewritter:SetDirty()
				arg_843_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121198", "story_v_out_411121.awb") ~= 0 then
					local var_846_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121198", "story_v_out_411121.awb") / 1000

					if var_846_8 + var_846_0 > arg_843_1.duration_ then
						arg_843_1.duration_ = var_846_8 + var_846_0
					end

					if var_846_3.prefab_name ~= "" and arg_843_1.actors_[var_846_3.prefab_name] ~= nil then
						local var_846_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_843_1.actors_[var_846_3.prefab_name].transform, "story_v_out_411121", "411121198", "story_v_out_411121.awb")

						arg_843_1:RecordAudio("411121198", var_846_9)
						arg_843_1:RecordAudio("411121198", var_846_9)
					else
						arg_843_1:AudioAction("play", "voice", "story_v_out_411121", "411121198", "story_v_out_411121.awb")
					end

					arg_843_1:RecordHistoryTalkVoice("story_v_out_411121", "411121198", "story_v_out_411121.awb")
				end

				arg_843_1:RecordContent(arg_843_1.text_.text)
			end

			local var_846_10 = math.max(var_846_1, arg_843_1.talkMaxDuration)

			if var_846_0 <= arg_843_1.time_ and arg_843_1.time_ < var_846_0 + var_846_10 then
				arg_843_1.typewritter.percent = (arg_843_1.time_ - var_846_0) / var_846_10

				arg_843_1.typewritter:SetDirty()
			end

			if arg_843_1.time_ >= var_846_0 + var_846_10 and arg_843_1.time_ < var_846_0 + var_846_10 + arg_846_0 then
				arg_843_1.typewritter.percent = 1

				arg_843_1.typewritter:SetDirty()
				arg_843_1:ShowNextGo(true)
			end
		end
	end,
	Play411121199 = function(arg_847_0, arg_847_1)
		arg_847_1.time_ = 0
		arg_847_1.frameCnt_ = 0
		arg_847_1.state_ = "playing"
		arg_847_1.curTalkId_ = 411121199
		arg_847_1.duration_ = 1.766

		local var_847_0 = {
			zh = 1.3,
			ja = 1.766
		}
		local var_847_1 = manager.audio:GetLocalizationFlag()

		if var_847_0[var_847_1] ~= nil then
			arg_847_1.duration_ = var_847_0[var_847_1]
		end

		SetActive(arg_847_1.tipsGo_, false)

		function arg_847_1.onSingleLineFinish_()
			arg_847_1.onSingleLineUpdate_ = nil
			arg_847_1.onSingleLineFinish_ = nil
			arg_847_1.state_ = "waiting"
		end

		function arg_847_1.playNext_(arg_849_0)
			if arg_849_0 == 1 then
				arg_847_0:Play411121200(arg_847_1)
			end
		end

		function arg_847_1.onSingleLineUpdate_(arg_850_0)
			local var_850_0 = arg_847_1.actors_["1095ui_story"]
			local var_850_1 = 0

			if var_850_1 < arg_847_1.time_ and arg_847_1.time_ <= var_850_1 + arg_850_0 and arg_847_1.var_.characterEffect1095ui_story == nil then
				arg_847_1.var_.characterEffect1095ui_story = var_850_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_850_2 = 0.200000002980232

			if var_850_1 <= arg_847_1.time_ and arg_847_1.time_ < var_850_1 + var_850_2 then
				local var_850_3 = (arg_847_1.time_ - var_850_1) / var_850_2

				if arg_847_1.var_.characterEffect1095ui_story then
					arg_847_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_847_1.time_ >= var_850_1 + var_850_2 and arg_847_1.time_ < var_850_1 + var_850_2 + arg_850_0 and arg_847_1.var_.characterEffect1095ui_story then
				arg_847_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_850_4 = arg_847_1.actors_["10014ui_story"]
			local var_850_5 = 0

			if var_850_5 < arg_847_1.time_ and arg_847_1.time_ <= var_850_5 + arg_850_0 and arg_847_1.var_.characterEffect10014ui_story == nil then
				arg_847_1.var_.characterEffect10014ui_story = var_850_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_850_6 = 0.200000002980232

			if var_850_5 <= arg_847_1.time_ and arg_847_1.time_ < var_850_5 + var_850_6 then
				local var_850_7 = (arg_847_1.time_ - var_850_5) / var_850_6

				if arg_847_1.var_.characterEffect10014ui_story then
					local var_850_8 = Mathf.Lerp(0, 0.5, var_850_7)

					arg_847_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_847_1.var_.characterEffect10014ui_story.fillRatio = var_850_8
				end
			end

			if arg_847_1.time_ >= var_850_5 + var_850_6 and arg_847_1.time_ < var_850_5 + var_850_6 + arg_850_0 and arg_847_1.var_.characterEffect10014ui_story then
				local var_850_9 = 0.5

				arg_847_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_847_1.var_.characterEffect10014ui_story.fillRatio = var_850_9
			end

			local var_850_10 = 0
			local var_850_11 = 0.125

			if var_850_10 < arg_847_1.time_ and arg_847_1.time_ <= var_850_10 + arg_850_0 then
				arg_847_1.talkMaxDuration = 0
				arg_847_1.dialogCg_.alpha = 1

				arg_847_1.dialog_:SetActive(true)
				SetActive(arg_847_1.leftNameGo_, true)

				local var_850_12 = arg_847_1:FormatText(StoryNameCfg[471].name)

				arg_847_1.leftNameTxt_.text = var_850_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_847_1.leftNameTxt_.transform)

				arg_847_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_847_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_847_1:RecordName(arg_847_1.leftNameTxt_.text)
				SetActive(arg_847_1.iconTrs_.gameObject, false)
				arg_847_1.callingController_:SetSelectedState("normal")

				local var_850_13 = arg_847_1:GetWordFromCfg(411121199)
				local var_850_14 = arg_847_1:FormatText(var_850_13.content)

				arg_847_1.text_.text = var_850_14

				LuaForUtil.ClearLinePrefixSymbol(arg_847_1.text_)

				local var_850_15 = 5
				local var_850_16 = utf8.len(var_850_14)
				local var_850_17 = var_850_15 <= 0 and var_850_11 or var_850_11 * (var_850_16 / var_850_15)

				if var_850_17 > 0 and var_850_11 < var_850_17 then
					arg_847_1.talkMaxDuration = var_850_17

					if var_850_17 + var_850_10 > arg_847_1.duration_ then
						arg_847_1.duration_ = var_850_17 + var_850_10
					end
				end

				arg_847_1.text_.text = var_850_14
				arg_847_1.typewritter.percent = 0

				arg_847_1.typewritter:SetDirty()
				arg_847_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121199", "story_v_out_411121.awb") ~= 0 then
					local var_850_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121199", "story_v_out_411121.awb") / 1000

					if var_850_18 + var_850_10 > arg_847_1.duration_ then
						arg_847_1.duration_ = var_850_18 + var_850_10
					end

					if var_850_13.prefab_name ~= "" and arg_847_1.actors_[var_850_13.prefab_name] ~= nil then
						local var_850_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_847_1.actors_[var_850_13.prefab_name].transform, "story_v_out_411121", "411121199", "story_v_out_411121.awb")

						arg_847_1:RecordAudio("411121199", var_850_19)
						arg_847_1:RecordAudio("411121199", var_850_19)
					else
						arg_847_1:AudioAction("play", "voice", "story_v_out_411121", "411121199", "story_v_out_411121.awb")
					end

					arg_847_1:RecordHistoryTalkVoice("story_v_out_411121", "411121199", "story_v_out_411121.awb")
				end

				arg_847_1:RecordContent(arg_847_1.text_.text)
			end

			local var_850_20 = math.max(var_850_11, arg_847_1.talkMaxDuration)

			if var_850_10 <= arg_847_1.time_ and arg_847_1.time_ < var_850_10 + var_850_20 then
				arg_847_1.typewritter.percent = (arg_847_1.time_ - var_850_10) / var_850_20

				arg_847_1.typewritter:SetDirty()
			end

			if arg_847_1.time_ >= var_850_10 + var_850_20 and arg_847_1.time_ < var_850_10 + var_850_20 + arg_850_0 then
				arg_847_1.typewritter.percent = 1

				arg_847_1.typewritter:SetDirty()
				arg_847_1:ShowNextGo(true)
			end
		end
	end,
	Play411121200 = function(arg_851_0, arg_851_1)
		arg_851_1.time_ = 0
		arg_851_1.frameCnt_ = 0
		arg_851_1.state_ = "playing"
		arg_851_1.curTalkId_ = 411121200
		arg_851_1.duration_ = 11.466

		local var_851_0 = {
			zh = 9.566,
			ja = 11.466
		}
		local var_851_1 = manager.audio:GetLocalizationFlag()

		if var_851_0[var_851_1] ~= nil then
			arg_851_1.duration_ = var_851_0[var_851_1]
		end

		SetActive(arg_851_1.tipsGo_, false)

		function arg_851_1.onSingleLineFinish_()
			arg_851_1.onSingleLineUpdate_ = nil
			arg_851_1.onSingleLineFinish_ = nil
			arg_851_1.state_ = "waiting"
		end

		function arg_851_1.playNext_(arg_853_0)
			if arg_853_0 == 1 then
				arg_851_0:Play411121201(arg_851_1)
			end
		end

		function arg_851_1.onSingleLineUpdate_(arg_854_0)
			local var_854_0 = arg_851_1.actors_["1095ui_story"]
			local var_854_1 = 0

			if var_854_1 < arg_851_1.time_ and arg_851_1.time_ <= var_854_1 + arg_854_0 and arg_851_1.var_.characterEffect1095ui_story == nil then
				arg_851_1.var_.characterEffect1095ui_story = var_854_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_854_2 = 0.200000002980232

			if var_854_1 <= arg_851_1.time_ and arg_851_1.time_ < var_854_1 + var_854_2 then
				local var_854_3 = (arg_851_1.time_ - var_854_1) / var_854_2

				if arg_851_1.var_.characterEffect1095ui_story then
					local var_854_4 = Mathf.Lerp(0, 0.5, var_854_3)

					arg_851_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_851_1.var_.characterEffect1095ui_story.fillRatio = var_854_4
				end
			end

			if arg_851_1.time_ >= var_854_1 + var_854_2 and arg_851_1.time_ < var_854_1 + var_854_2 + arg_854_0 and arg_851_1.var_.characterEffect1095ui_story then
				local var_854_5 = 0.5

				arg_851_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_851_1.var_.characterEffect1095ui_story.fillRatio = var_854_5
			end

			local var_854_6 = arg_851_1.actors_["10014ui_story"]
			local var_854_7 = 0

			if var_854_7 < arg_851_1.time_ and arg_851_1.time_ <= var_854_7 + arg_854_0 and arg_851_1.var_.characterEffect10014ui_story == nil then
				arg_851_1.var_.characterEffect10014ui_story = var_854_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_854_8 = 0.200000002980232

			if var_854_7 <= arg_851_1.time_ and arg_851_1.time_ < var_854_7 + var_854_8 then
				local var_854_9 = (arg_851_1.time_ - var_854_7) / var_854_8

				if arg_851_1.var_.characterEffect10014ui_story then
					arg_851_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_851_1.time_ >= var_854_7 + var_854_8 and arg_851_1.time_ < var_854_7 + var_854_8 + arg_854_0 and arg_851_1.var_.characterEffect10014ui_story then
				arg_851_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_854_10 = 0
			local var_854_11 = 1.2

			if var_854_10 < arg_851_1.time_ and arg_851_1.time_ <= var_854_10 + arg_854_0 then
				arg_851_1.talkMaxDuration = 0
				arg_851_1.dialogCg_.alpha = 1

				arg_851_1.dialog_:SetActive(true)
				SetActive(arg_851_1.leftNameGo_, true)

				local var_854_12 = arg_851_1:FormatText(StoryNameCfg[264].name)

				arg_851_1.leftNameTxt_.text = var_854_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_851_1.leftNameTxt_.transform)

				arg_851_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_851_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_851_1:RecordName(arg_851_1.leftNameTxt_.text)
				SetActive(arg_851_1.iconTrs_.gameObject, false)
				arg_851_1.callingController_:SetSelectedState("normal")

				local var_854_13 = arg_851_1:GetWordFromCfg(411121200)
				local var_854_14 = arg_851_1:FormatText(var_854_13.content)

				arg_851_1.text_.text = var_854_14

				LuaForUtil.ClearLinePrefixSymbol(arg_851_1.text_)

				local var_854_15 = 48
				local var_854_16 = utf8.len(var_854_14)
				local var_854_17 = var_854_15 <= 0 and var_854_11 or var_854_11 * (var_854_16 / var_854_15)

				if var_854_17 > 0 and var_854_11 < var_854_17 then
					arg_851_1.talkMaxDuration = var_854_17

					if var_854_17 + var_854_10 > arg_851_1.duration_ then
						arg_851_1.duration_ = var_854_17 + var_854_10
					end
				end

				arg_851_1.text_.text = var_854_14
				arg_851_1.typewritter.percent = 0

				arg_851_1.typewritter:SetDirty()
				arg_851_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121200", "story_v_out_411121.awb") ~= 0 then
					local var_854_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121200", "story_v_out_411121.awb") / 1000

					if var_854_18 + var_854_10 > arg_851_1.duration_ then
						arg_851_1.duration_ = var_854_18 + var_854_10
					end

					if var_854_13.prefab_name ~= "" and arg_851_1.actors_[var_854_13.prefab_name] ~= nil then
						local var_854_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_851_1.actors_[var_854_13.prefab_name].transform, "story_v_out_411121", "411121200", "story_v_out_411121.awb")

						arg_851_1:RecordAudio("411121200", var_854_19)
						arg_851_1:RecordAudio("411121200", var_854_19)
					else
						arg_851_1:AudioAction("play", "voice", "story_v_out_411121", "411121200", "story_v_out_411121.awb")
					end

					arg_851_1:RecordHistoryTalkVoice("story_v_out_411121", "411121200", "story_v_out_411121.awb")
				end

				arg_851_1:RecordContent(arg_851_1.text_.text)
			end

			local var_854_20 = math.max(var_854_11, arg_851_1.talkMaxDuration)

			if var_854_10 <= arg_851_1.time_ and arg_851_1.time_ < var_854_10 + var_854_20 then
				arg_851_1.typewritter.percent = (arg_851_1.time_ - var_854_10) / var_854_20

				arg_851_1.typewritter:SetDirty()
			end

			if arg_851_1.time_ >= var_854_10 + var_854_20 and arg_851_1.time_ < var_854_10 + var_854_20 + arg_854_0 then
				arg_851_1.typewritter.percent = 1

				arg_851_1.typewritter:SetDirty()
				arg_851_1:ShowNextGo(true)
			end
		end
	end,
	Play411121201 = function(arg_855_0, arg_855_1)
		arg_855_1.time_ = 0
		arg_855_1.frameCnt_ = 0
		arg_855_1.state_ = "playing"
		arg_855_1.curTalkId_ = 411121201
		arg_855_1.duration_ = 6.8

		local var_855_0 = {
			zh = 6.233,
			ja = 6.8
		}
		local var_855_1 = manager.audio:GetLocalizationFlag()

		if var_855_0[var_855_1] ~= nil then
			arg_855_1.duration_ = var_855_0[var_855_1]
		end

		SetActive(arg_855_1.tipsGo_, false)

		function arg_855_1.onSingleLineFinish_()
			arg_855_1.onSingleLineUpdate_ = nil
			arg_855_1.onSingleLineFinish_ = nil
			arg_855_1.state_ = "waiting"
		end

		function arg_855_1.playNext_(arg_857_0)
			if arg_857_0 == 1 then
				arg_855_0:Play411121202(arg_855_1)
			end
		end

		function arg_855_1.onSingleLineUpdate_(arg_858_0)
			local var_858_0 = arg_855_1.actors_["10014ui_story"]
			local var_858_1 = 0

			if var_858_1 < arg_855_1.time_ and arg_855_1.time_ <= var_858_1 + arg_858_0 and arg_855_1.var_.characterEffect10014ui_story == nil then
				arg_855_1.var_.characterEffect10014ui_story = var_858_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_858_2 = 0.200000002980232

			if var_858_1 <= arg_855_1.time_ and arg_855_1.time_ < var_858_1 + var_858_2 then
				local var_858_3 = (arg_855_1.time_ - var_858_1) / var_858_2

				if arg_855_1.var_.characterEffect10014ui_story then
					arg_855_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_855_1.time_ >= var_858_1 + var_858_2 and arg_855_1.time_ < var_858_1 + var_858_2 + arg_858_0 and arg_855_1.var_.characterEffect10014ui_story then
				arg_855_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_858_4 = 0

			if var_858_4 < arg_855_1.time_ and arg_855_1.time_ <= var_858_4 + arg_858_0 then
				arg_855_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action6_1")
			end

			local var_858_5 = 0

			if var_858_5 < arg_855_1.time_ and arg_855_1.time_ <= var_858_5 + arg_858_0 then
				arg_855_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_858_6 = arg_855_1.actors_["1095ui_story"]
			local var_858_7 = 0

			if var_858_7 < arg_855_1.time_ and arg_855_1.time_ <= var_858_7 + arg_858_0 and arg_855_1.var_.characterEffect1095ui_story == nil then
				arg_855_1.var_.characterEffect1095ui_story = var_858_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_858_8 = 0.200000002980232

			if var_858_7 <= arg_855_1.time_ and arg_855_1.time_ < var_858_7 + var_858_8 then
				local var_858_9 = (arg_855_1.time_ - var_858_7) / var_858_8

				if arg_855_1.var_.characterEffect1095ui_story then
					local var_858_10 = Mathf.Lerp(0, 0.5, var_858_9)

					arg_855_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_855_1.var_.characterEffect1095ui_story.fillRatio = var_858_10
				end
			end

			if arg_855_1.time_ >= var_858_7 + var_858_8 and arg_855_1.time_ < var_858_7 + var_858_8 + arg_858_0 and arg_855_1.var_.characterEffect1095ui_story then
				local var_858_11 = 0.5

				arg_855_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_855_1.var_.characterEffect1095ui_story.fillRatio = var_858_11
			end

			local var_858_12 = 0
			local var_858_13 = 0.725

			if var_858_12 < arg_855_1.time_ and arg_855_1.time_ <= var_858_12 + arg_858_0 then
				arg_855_1.talkMaxDuration = 0
				arg_855_1.dialogCg_.alpha = 1

				arg_855_1.dialog_:SetActive(true)
				SetActive(arg_855_1.leftNameGo_, true)

				local var_858_14 = arg_855_1:FormatText(StoryNameCfg[264].name)

				arg_855_1.leftNameTxt_.text = var_858_14

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_855_1.leftNameTxt_.transform)

				arg_855_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_855_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_855_1:RecordName(arg_855_1.leftNameTxt_.text)
				SetActive(arg_855_1.iconTrs_.gameObject, false)
				arg_855_1.callingController_:SetSelectedState("normal")

				local var_858_15 = arg_855_1:GetWordFromCfg(411121201)
				local var_858_16 = arg_855_1:FormatText(var_858_15.content)

				arg_855_1.text_.text = var_858_16

				LuaForUtil.ClearLinePrefixSymbol(arg_855_1.text_)

				local var_858_17 = 29
				local var_858_18 = utf8.len(var_858_16)
				local var_858_19 = var_858_17 <= 0 and var_858_13 or var_858_13 * (var_858_18 / var_858_17)

				if var_858_19 > 0 and var_858_13 < var_858_19 then
					arg_855_1.talkMaxDuration = var_858_19

					if var_858_19 + var_858_12 > arg_855_1.duration_ then
						arg_855_1.duration_ = var_858_19 + var_858_12
					end
				end

				arg_855_1.text_.text = var_858_16
				arg_855_1.typewritter.percent = 0

				arg_855_1.typewritter:SetDirty()
				arg_855_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121201", "story_v_out_411121.awb") ~= 0 then
					local var_858_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121201", "story_v_out_411121.awb") / 1000

					if var_858_20 + var_858_12 > arg_855_1.duration_ then
						arg_855_1.duration_ = var_858_20 + var_858_12
					end

					if var_858_15.prefab_name ~= "" and arg_855_1.actors_[var_858_15.prefab_name] ~= nil then
						local var_858_21 = LuaForUtil.PlayVoiceWithCriLipsync(arg_855_1.actors_[var_858_15.prefab_name].transform, "story_v_out_411121", "411121201", "story_v_out_411121.awb")

						arg_855_1:RecordAudio("411121201", var_858_21)
						arg_855_1:RecordAudio("411121201", var_858_21)
					else
						arg_855_1:AudioAction("play", "voice", "story_v_out_411121", "411121201", "story_v_out_411121.awb")
					end

					arg_855_1:RecordHistoryTalkVoice("story_v_out_411121", "411121201", "story_v_out_411121.awb")
				end

				arg_855_1:RecordContent(arg_855_1.text_.text)
			end

			local var_858_22 = math.max(var_858_13, arg_855_1.talkMaxDuration)

			if var_858_12 <= arg_855_1.time_ and arg_855_1.time_ < var_858_12 + var_858_22 then
				arg_855_1.typewritter.percent = (arg_855_1.time_ - var_858_12) / var_858_22

				arg_855_1.typewritter:SetDirty()
			end

			if arg_855_1.time_ >= var_858_12 + var_858_22 and arg_855_1.time_ < var_858_12 + var_858_22 + arg_858_0 then
				arg_855_1.typewritter.percent = 1

				arg_855_1.typewritter:SetDirty()
				arg_855_1:ShowNextGo(true)
			end
		end
	end,
	Play411121202 = function(arg_859_0, arg_859_1)
		arg_859_1.time_ = 0
		arg_859_1.frameCnt_ = 0
		arg_859_1.state_ = "playing"
		arg_859_1.curTalkId_ = 411121202
		arg_859_1.duration_ = 8.933

		local var_859_0 = {
			zh = 8.1,
			ja = 8.933
		}
		local var_859_1 = manager.audio:GetLocalizationFlag()

		if var_859_0[var_859_1] ~= nil then
			arg_859_1.duration_ = var_859_0[var_859_1]
		end

		SetActive(arg_859_1.tipsGo_, false)

		function arg_859_1.onSingleLineFinish_()
			arg_859_1.onSingleLineUpdate_ = nil
			arg_859_1.onSingleLineFinish_ = nil
			arg_859_1.state_ = "waiting"
		end

		function arg_859_1.playNext_(arg_861_0)
			if arg_861_0 == 1 then
				arg_859_0:Play411121203(arg_859_1)
			end
		end

		function arg_859_1.onSingleLineUpdate_(arg_862_0)
			local var_862_0 = arg_859_1.actors_["1095ui_story"].transform
			local var_862_1 = 0

			if var_862_1 < arg_859_1.time_ and arg_859_1.time_ <= var_862_1 + arg_862_0 then
				arg_859_1.var_.moveOldPos1095ui_story = var_862_0.localPosition
			end

			local var_862_2 = 0.001

			if var_862_1 <= arg_859_1.time_ and arg_859_1.time_ < var_862_1 + var_862_2 then
				local var_862_3 = (arg_859_1.time_ - var_862_1) / var_862_2
				local var_862_4 = Vector3.New(0.7, -0.98, -6.1)

				var_862_0.localPosition = Vector3.Lerp(arg_859_1.var_.moveOldPos1095ui_story, var_862_4, var_862_3)

				local var_862_5 = manager.ui.mainCamera.transform.position - var_862_0.position

				var_862_0.forward = Vector3.New(var_862_5.x, var_862_5.y, var_862_5.z)

				local var_862_6 = var_862_0.localEulerAngles

				var_862_6.z = 0
				var_862_6.x = 0
				var_862_0.localEulerAngles = var_862_6
			end

			if arg_859_1.time_ >= var_862_1 + var_862_2 and arg_859_1.time_ < var_862_1 + var_862_2 + arg_862_0 then
				var_862_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_862_7 = manager.ui.mainCamera.transform.position - var_862_0.position

				var_862_0.forward = Vector3.New(var_862_7.x, var_862_7.y, var_862_7.z)

				local var_862_8 = var_862_0.localEulerAngles

				var_862_8.z = 0
				var_862_8.x = 0
				var_862_0.localEulerAngles = var_862_8
			end

			local var_862_9 = arg_859_1.actors_["1095ui_story"]
			local var_862_10 = 0

			if var_862_10 < arg_859_1.time_ and arg_859_1.time_ <= var_862_10 + arg_862_0 and arg_859_1.var_.characterEffect1095ui_story == nil then
				arg_859_1.var_.characterEffect1095ui_story = var_862_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_862_11 = 0.200000002980232

			if var_862_10 <= arg_859_1.time_ and arg_859_1.time_ < var_862_10 + var_862_11 then
				local var_862_12 = (arg_859_1.time_ - var_862_10) / var_862_11

				if arg_859_1.var_.characterEffect1095ui_story then
					arg_859_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_859_1.time_ >= var_862_10 + var_862_11 and arg_859_1.time_ < var_862_10 + var_862_11 + arg_862_0 and arg_859_1.var_.characterEffect1095ui_story then
				arg_859_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_862_13 = 0

			if var_862_13 < arg_859_1.time_ and arg_859_1.time_ <= var_862_13 + arg_862_0 then
				arg_859_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_862_14 = 0

			if var_862_14 < arg_859_1.time_ and arg_859_1.time_ <= var_862_14 + arg_862_0 then
				arg_859_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_862_15 = arg_859_1.actors_["10014ui_story"]
			local var_862_16 = 0

			if var_862_16 < arg_859_1.time_ and arg_859_1.time_ <= var_862_16 + arg_862_0 and arg_859_1.var_.characterEffect10014ui_story == nil then
				arg_859_1.var_.characterEffect10014ui_story = var_862_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_862_17 = 0.200000002980232

			if var_862_16 <= arg_859_1.time_ and arg_859_1.time_ < var_862_16 + var_862_17 then
				local var_862_18 = (arg_859_1.time_ - var_862_16) / var_862_17

				if arg_859_1.var_.characterEffect10014ui_story then
					local var_862_19 = Mathf.Lerp(0, 0.5, var_862_18)

					arg_859_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_859_1.var_.characterEffect10014ui_story.fillRatio = var_862_19
				end
			end

			if arg_859_1.time_ >= var_862_16 + var_862_17 and arg_859_1.time_ < var_862_16 + var_862_17 + arg_862_0 and arg_859_1.var_.characterEffect10014ui_story then
				local var_862_20 = 0.5

				arg_859_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_859_1.var_.characterEffect10014ui_story.fillRatio = var_862_20
			end

			local var_862_21 = 0
			local var_862_22 = 0.575

			if var_862_21 < arg_859_1.time_ and arg_859_1.time_ <= var_862_21 + arg_862_0 then
				arg_859_1.talkMaxDuration = 0
				arg_859_1.dialogCg_.alpha = 1

				arg_859_1.dialog_:SetActive(true)
				SetActive(arg_859_1.leftNameGo_, true)

				local var_862_23 = arg_859_1:FormatText(StoryNameCfg[471].name)

				arg_859_1.leftNameTxt_.text = var_862_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_859_1.leftNameTxt_.transform)

				arg_859_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_859_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_859_1:RecordName(arg_859_1.leftNameTxt_.text)
				SetActive(arg_859_1.iconTrs_.gameObject, false)
				arg_859_1.callingController_:SetSelectedState("normal")

				local var_862_24 = arg_859_1:GetWordFromCfg(411121202)
				local var_862_25 = arg_859_1:FormatText(var_862_24.content)

				arg_859_1.text_.text = var_862_25

				LuaForUtil.ClearLinePrefixSymbol(arg_859_1.text_)

				local var_862_26 = 23
				local var_862_27 = utf8.len(var_862_25)
				local var_862_28 = var_862_26 <= 0 and var_862_22 or var_862_22 * (var_862_27 / var_862_26)

				if var_862_28 > 0 and var_862_22 < var_862_28 then
					arg_859_1.talkMaxDuration = var_862_28

					if var_862_28 + var_862_21 > arg_859_1.duration_ then
						arg_859_1.duration_ = var_862_28 + var_862_21
					end
				end

				arg_859_1.text_.text = var_862_25
				arg_859_1.typewritter.percent = 0

				arg_859_1.typewritter:SetDirty()
				arg_859_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121202", "story_v_out_411121.awb") ~= 0 then
					local var_862_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121202", "story_v_out_411121.awb") / 1000

					if var_862_29 + var_862_21 > arg_859_1.duration_ then
						arg_859_1.duration_ = var_862_29 + var_862_21
					end

					if var_862_24.prefab_name ~= "" and arg_859_1.actors_[var_862_24.prefab_name] ~= nil then
						local var_862_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_859_1.actors_[var_862_24.prefab_name].transform, "story_v_out_411121", "411121202", "story_v_out_411121.awb")

						arg_859_1:RecordAudio("411121202", var_862_30)
						arg_859_1:RecordAudio("411121202", var_862_30)
					else
						arg_859_1:AudioAction("play", "voice", "story_v_out_411121", "411121202", "story_v_out_411121.awb")
					end

					arg_859_1:RecordHistoryTalkVoice("story_v_out_411121", "411121202", "story_v_out_411121.awb")
				end

				arg_859_1:RecordContent(arg_859_1.text_.text)
			end

			local var_862_31 = math.max(var_862_22, arg_859_1.talkMaxDuration)

			if var_862_21 <= arg_859_1.time_ and arg_859_1.time_ < var_862_21 + var_862_31 then
				arg_859_1.typewritter.percent = (arg_859_1.time_ - var_862_21) / var_862_31

				arg_859_1.typewritter:SetDirty()
			end

			if arg_859_1.time_ >= var_862_21 + var_862_31 and arg_859_1.time_ < var_862_21 + var_862_31 + arg_862_0 then
				arg_859_1.typewritter.percent = 1

				arg_859_1.typewritter:SetDirty()
				arg_859_1:ShowNextGo(true)
			end
		end
	end,
	Play411121203 = function(arg_863_0, arg_863_1)
		arg_863_1.time_ = 0
		arg_863_1.frameCnt_ = 0
		arg_863_1.state_ = "playing"
		arg_863_1.curTalkId_ = 411121203
		arg_863_1.duration_ = 5

		SetActive(arg_863_1.tipsGo_, false)

		function arg_863_1.onSingleLineFinish_()
			arg_863_1.onSingleLineUpdate_ = nil
			arg_863_1.onSingleLineFinish_ = nil
			arg_863_1.state_ = "waiting"
		end

		function arg_863_1.playNext_(arg_865_0)
			if arg_865_0 == 1 then
				arg_863_0:Play411121204(arg_863_1)
			end
		end

		function arg_863_1.onSingleLineUpdate_(arg_866_0)
			local var_866_0 = arg_863_1.actors_["10014ui_story"].transform
			local var_866_1 = 0

			if var_866_1 < arg_863_1.time_ and arg_863_1.time_ <= var_866_1 + arg_866_0 then
				arg_863_1.var_.moveOldPos10014ui_story = var_866_0.localPosition
			end

			local var_866_2 = 0.001

			if var_866_1 <= arg_863_1.time_ and arg_863_1.time_ < var_866_1 + var_866_2 then
				local var_866_3 = (arg_863_1.time_ - var_866_1) / var_866_2
				local var_866_4 = Vector3.New(0, 100, 0)

				var_866_0.localPosition = Vector3.Lerp(arg_863_1.var_.moveOldPos10014ui_story, var_866_4, var_866_3)

				local var_866_5 = manager.ui.mainCamera.transform.position - var_866_0.position

				var_866_0.forward = Vector3.New(var_866_5.x, var_866_5.y, var_866_5.z)

				local var_866_6 = var_866_0.localEulerAngles

				var_866_6.z = 0
				var_866_6.x = 0
				var_866_0.localEulerAngles = var_866_6
			end

			if arg_863_1.time_ >= var_866_1 + var_866_2 and arg_863_1.time_ < var_866_1 + var_866_2 + arg_866_0 then
				var_866_0.localPosition = Vector3.New(0, 100, 0)

				local var_866_7 = manager.ui.mainCamera.transform.position - var_866_0.position

				var_866_0.forward = Vector3.New(var_866_7.x, var_866_7.y, var_866_7.z)

				local var_866_8 = var_866_0.localEulerAngles

				var_866_8.z = 0
				var_866_8.x = 0
				var_866_0.localEulerAngles = var_866_8
			end

			local var_866_9 = arg_863_1.actors_["1095ui_story"].transform
			local var_866_10 = 0

			if var_866_10 < arg_863_1.time_ and arg_863_1.time_ <= var_866_10 + arg_866_0 then
				arg_863_1.var_.moveOldPos1095ui_story = var_866_9.localPosition
			end

			local var_866_11 = 0.001

			if var_866_10 <= arg_863_1.time_ and arg_863_1.time_ < var_866_10 + var_866_11 then
				local var_866_12 = (arg_863_1.time_ - var_866_10) / var_866_11
				local var_866_13 = Vector3.New(0, 100, 0)

				var_866_9.localPosition = Vector3.Lerp(arg_863_1.var_.moveOldPos1095ui_story, var_866_13, var_866_12)

				local var_866_14 = manager.ui.mainCamera.transform.position - var_866_9.position

				var_866_9.forward = Vector3.New(var_866_14.x, var_866_14.y, var_866_14.z)

				local var_866_15 = var_866_9.localEulerAngles

				var_866_15.z = 0
				var_866_15.x = 0
				var_866_9.localEulerAngles = var_866_15
			end

			if arg_863_1.time_ >= var_866_10 + var_866_11 and arg_863_1.time_ < var_866_10 + var_866_11 + arg_866_0 then
				var_866_9.localPosition = Vector3.New(0, 100, 0)

				local var_866_16 = manager.ui.mainCamera.transform.position - var_866_9.position

				var_866_9.forward = Vector3.New(var_866_16.x, var_866_16.y, var_866_16.z)

				local var_866_17 = var_866_9.localEulerAngles

				var_866_17.z = 0
				var_866_17.x = 0
				var_866_9.localEulerAngles = var_866_17
			end

			local var_866_18 = 0
			local var_866_19 = 0.675

			if var_866_18 < arg_863_1.time_ and arg_863_1.time_ <= var_866_18 + arg_866_0 then
				arg_863_1.talkMaxDuration = 0
				arg_863_1.dialogCg_.alpha = 1

				arg_863_1.dialog_:SetActive(true)
				SetActive(arg_863_1.leftNameGo_, false)

				arg_863_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_863_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_863_1:RecordName(arg_863_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_863_1.iconTrs_.gameObject, false)
				arg_863_1.callingController_:SetSelectedState("normal")

				local var_866_20 = arg_863_1:GetWordFromCfg(411121203)
				local var_866_21 = arg_863_1:FormatText(var_866_20.content)

				arg_863_1.text_.text = var_866_21

				LuaForUtil.ClearLinePrefixSymbol(arg_863_1.text_)

				local var_866_22 = 27
				local var_866_23 = utf8.len(var_866_21)
				local var_866_24 = var_866_22 <= 0 and var_866_19 or var_866_19 * (var_866_23 / var_866_22)

				if var_866_24 > 0 and var_866_19 < var_866_24 then
					arg_863_1.talkMaxDuration = var_866_24

					if var_866_24 + var_866_18 > arg_863_1.duration_ then
						arg_863_1.duration_ = var_866_24 + var_866_18
					end
				end

				arg_863_1.text_.text = var_866_21
				arg_863_1.typewritter.percent = 0

				arg_863_1.typewritter:SetDirty()
				arg_863_1:ShowNextGo(false)
				arg_863_1:RecordContent(arg_863_1.text_.text)
			end

			local var_866_25 = math.max(var_866_19, arg_863_1.talkMaxDuration)

			if var_866_18 <= arg_863_1.time_ and arg_863_1.time_ < var_866_18 + var_866_25 then
				arg_863_1.typewritter.percent = (arg_863_1.time_ - var_866_18) / var_866_25

				arg_863_1.typewritter:SetDirty()
			end

			if arg_863_1.time_ >= var_866_18 + var_866_25 and arg_863_1.time_ < var_866_18 + var_866_25 + arg_866_0 then
				arg_863_1.typewritter.percent = 1

				arg_863_1.typewritter:SetDirty()
				arg_863_1:ShowNextGo(true)
			end
		end
	end,
	Play411121204 = function(arg_867_0, arg_867_1)
		arg_867_1.time_ = 0
		arg_867_1.frameCnt_ = 0
		arg_867_1.state_ = "playing"
		arg_867_1.curTalkId_ = 411121204
		arg_867_1.duration_ = 9.7

		local var_867_0 = {
			zh = 4.833,
			ja = 9.7
		}
		local var_867_1 = manager.audio:GetLocalizationFlag()

		if var_867_0[var_867_1] ~= nil then
			arg_867_1.duration_ = var_867_0[var_867_1]
		end

		SetActive(arg_867_1.tipsGo_, false)

		function arg_867_1.onSingleLineFinish_()
			arg_867_1.onSingleLineUpdate_ = nil
			arg_867_1.onSingleLineFinish_ = nil
			arg_867_1.state_ = "waiting"
		end

		function arg_867_1.playNext_(arg_869_0)
			if arg_869_0 == 1 then
				arg_867_0:Play411121205(arg_867_1)
			end
		end

		function arg_867_1.onSingleLineUpdate_(arg_870_0)
			local var_870_0 = arg_867_1.actors_["10014ui_story"].transform
			local var_870_1 = 0

			if var_870_1 < arg_867_1.time_ and arg_867_1.time_ <= var_870_1 + arg_870_0 then
				arg_867_1.var_.moveOldPos10014ui_story = var_870_0.localPosition
			end

			local var_870_2 = 0.001

			if var_870_1 <= arg_867_1.time_ and arg_867_1.time_ < var_870_1 + var_870_2 then
				local var_870_3 = (arg_867_1.time_ - var_870_1) / var_870_2
				local var_870_4 = Vector3.New(0, -1.06, -6.2)

				var_870_0.localPosition = Vector3.Lerp(arg_867_1.var_.moveOldPos10014ui_story, var_870_4, var_870_3)

				local var_870_5 = manager.ui.mainCamera.transform.position - var_870_0.position

				var_870_0.forward = Vector3.New(var_870_5.x, var_870_5.y, var_870_5.z)

				local var_870_6 = var_870_0.localEulerAngles

				var_870_6.z = 0
				var_870_6.x = 0
				var_870_0.localEulerAngles = var_870_6
			end

			if arg_867_1.time_ >= var_870_1 + var_870_2 and arg_867_1.time_ < var_870_1 + var_870_2 + arg_870_0 then
				var_870_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_870_7 = manager.ui.mainCamera.transform.position - var_870_0.position

				var_870_0.forward = Vector3.New(var_870_7.x, var_870_7.y, var_870_7.z)

				local var_870_8 = var_870_0.localEulerAngles

				var_870_8.z = 0
				var_870_8.x = 0
				var_870_0.localEulerAngles = var_870_8
			end

			local var_870_9 = arg_867_1.actors_["10014ui_story"]
			local var_870_10 = 0

			if var_870_10 < arg_867_1.time_ and arg_867_1.time_ <= var_870_10 + arg_870_0 and arg_867_1.var_.characterEffect10014ui_story == nil then
				arg_867_1.var_.characterEffect10014ui_story = var_870_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_870_11 = 0.200000002980232

			if var_870_10 <= arg_867_1.time_ and arg_867_1.time_ < var_870_10 + var_870_11 then
				local var_870_12 = (arg_867_1.time_ - var_870_10) / var_870_11

				if arg_867_1.var_.characterEffect10014ui_story then
					arg_867_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_867_1.time_ >= var_870_10 + var_870_11 and arg_867_1.time_ < var_870_10 + var_870_11 + arg_870_0 and arg_867_1.var_.characterEffect10014ui_story then
				arg_867_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_870_13 = 0
			local var_870_14 = 0.5

			if var_870_13 < arg_867_1.time_ and arg_867_1.time_ <= var_870_13 + arg_870_0 then
				arg_867_1.talkMaxDuration = 0
				arg_867_1.dialogCg_.alpha = 1

				arg_867_1.dialog_:SetActive(true)
				SetActive(arg_867_1.leftNameGo_, true)

				local var_870_15 = arg_867_1:FormatText(StoryNameCfg[264].name)

				arg_867_1.leftNameTxt_.text = var_870_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_867_1.leftNameTxt_.transform)

				arg_867_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_867_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_867_1:RecordName(arg_867_1.leftNameTxt_.text)
				SetActive(arg_867_1.iconTrs_.gameObject, false)
				arg_867_1.callingController_:SetSelectedState("normal")

				local var_870_16 = arg_867_1:GetWordFromCfg(411121204)
				local var_870_17 = arg_867_1:FormatText(var_870_16.content)

				arg_867_1.text_.text = var_870_17

				LuaForUtil.ClearLinePrefixSymbol(arg_867_1.text_)

				local var_870_18 = 20
				local var_870_19 = utf8.len(var_870_17)
				local var_870_20 = var_870_18 <= 0 and var_870_14 or var_870_14 * (var_870_19 / var_870_18)

				if var_870_20 > 0 and var_870_14 < var_870_20 then
					arg_867_1.talkMaxDuration = var_870_20

					if var_870_20 + var_870_13 > arg_867_1.duration_ then
						arg_867_1.duration_ = var_870_20 + var_870_13
					end
				end

				arg_867_1.text_.text = var_870_17
				arg_867_1.typewritter.percent = 0

				arg_867_1.typewritter:SetDirty()
				arg_867_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121204", "story_v_out_411121.awb") ~= 0 then
					local var_870_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121204", "story_v_out_411121.awb") / 1000

					if var_870_21 + var_870_13 > arg_867_1.duration_ then
						arg_867_1.duration_ = var_870_21 + var_870_13
					end

					if var_870_16.prefab_name ~= "" and arg_867_1.actors_[var_870_16.prefab_name] ~= nil then
						local var_870_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_867_1.actors_[var_870_16.prefab_name].transform, "story_v_out_411121", "411121204", "story_v_out_411121.awb")

						arg_867_1:RecordAudio("411121204", var_870_22)
						arg_867_1:RecordAudio("411121204", var_870_22)
					else
						arg_867_1:AudioAction("play", "voice", "story_v_out_411121", "411121204", "story_v_out_411121.awb")
					end

					arg_867_1:RecordHistoryTalkVoice("story_v_out_411121", "411121204", "story_v_out_411121.awb")
				end

				arg_867_1:RecordContent(arg_867_1.text_.text)
			end

			local var_870_23 = math.max(var_870_14, arg_867_1.talkMaxDuration)

			if var_870_13 <= arg_867_1.time_ and arg_867_1.time_ < var_870_13 + var_870_23 then
				arg_867_1.typewritter.percent = (arg_867_1.time_ - var_870_13) / var_870_23

				arg_867_1.typewritter:SetDirty()
			end

			if arg_867_1.time_ >= var_870_13 + var_870_23 and arg_867_1.time_ < var_870_13 + var_870_23 + arg_870_0 then
				arg_867_1.typewritter.percent = 1

				arg_867_1.typewritter:SetDirty()
				arg_867_1:ShowNextGo(true)
			end
		end
	end,
	Play411121205 = function(arg_871_0, arg_871_1)
		arg_871_1.time_ = 0
		arg_871_1.frameCnt_ = 0
		arg_871_1.state_ = "playing"
		arg_871_1.curTalkId_ = 411121205
		arg_871_1.duration_ = 5.233

		local var_871_0 = {
			zh = 4.766,
			ja = 5.233
		}
		local var_871_1 = manager.audio:GetLocalizationFlag()

		if var_871_0[var_871_1] ~= nil then
			arg_871_1.duration_ = var_871_0[var_871_1]
		end

		SetActive(arg_871_1.tipsGo_, false)

		function arg_871_1.onSingleLineFinish_()
			arg_871_1.onSingleLineUpdate_ = nil
			arg_871_1.onSingleLineFinish_ = nil
			arg_871_1.state_ = "waiting"
		end

		function arg_871_1.playNext_(arg_873_0)
			if arg_873_0 == 1 then
				arg_871_0:Play411121206(arg_871_1)
			end
		end

		function arg_871_1.onSingleLineUpdate_(arg_874_0)
			local var_874_0 = 0
			local var_874_1 = 0.525

			if var_874_0 < arg_871_1.time_ and arg_871_1.time_ <= var_874_0 + arg_874_0 then
				arg_871_1.talkMaxDuration = 0
				arg_871_1.dialogCg_.alpha = 1

				arg_871_1.dialog_:SetActive(true)
				SetActive(arg_871_1.leftNameGo_, true)

				local var_874_2 = arg_871_1:FormatText(StoryNameCfg[264].name)

				arg_871_1.leftNameTxt_.text = var_874_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_871_1.leftNameTxt_.transform)

				arg_871_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_871_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_871_1:RecordName(arg_871_1.leftNameTxt_.text)
				SetActive(arg_871_1.iconTrs_.gameObject, false)
				arg_871_1.callingController_:SetSelectedState("normal")

				local var_874_3 = arg_871_1:GetWordFromCfg(411121205)
				local var_874_4 = arg_871_1:FormatText(var_874_3.content)

				arg_871_1.text_.text = var_874_4

				LuaForUtil.ClearLinePrefixSymbol(arg_871_1.text_)

				local var_874_5 = 21
				local var_874_6 = utf8.len(var_874_4)
				local var_874_7 = var_874_5 <= 0 and var_874_1 or var_874_1 * (var_874_6 / var_874_5)

				if var_874_7 > 0 and var_874_1 < var_874_7 then
					arg_871_1.talkMaxDuration = var_874_7

					if var_874_7 + var_874_0 > arg_871_1.duration_ then
						arg_871_1.duration_ = var_874_7 + var_874_0
					end
				end

				arg_871_1.text_.text = var_874_4
				arg_871_1.typewritter.percent = 0

				arg_871_1.typewritter:SetDirty()
				arg_871_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121205", "story_v_out_411121.awb") ~= 0 then
					local var_874_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121205", "story_v_out_411121.awb") / 1000

					if var_874_8 + var_874_0 > arg_871_1.duration_ then
						arg_871_1.duration_ = var_874_8 + var_874_0
					end

					if var_874_3.prefab_name ~= "" and arg_871_1.actors_[var_874_3.prefab_name] ~= nil then
						local var_874_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_871_1.actors_[var_874_3.prefab_name].transform, "story_v_out_411121", "411121205", "story_v_out_411121.awb")

						arg_871_1:RecordAudio("411121205", var_874_9)
						arg_871_1:RecordAudio("411121205", var_874_9)
					else
						arg_871_1:AudioAction("play", "voice", "story_v_out_411121", "411121205", "story_v_out_411121.awb")
					end

					arg_871_1:RecordHistoryTalkVoice("story_v_out_411121", "411121205", "story_v_out_411121.awb")
				end

				arg_871_1:RecordContent(arg_871_1.text_.text)
			end

			local var_874_10 = math.max(var_874_1, arg_871_1.talkMaxDuration)

			if var_874_0 <= arg_871_1.time_ and arg_871_1.time_ < var_874_0 + var_874_10 then
				arg_871_1.typewritter.percent = (arg_871_1.time_ - var_874_0) / var_874_10

				arg_871_1.typewritter:SetDirty()
			end

			if arg_871_1.time_ >= var_874_0 + var_874_10 and arg_871_1.time_ < var_874_0 + var_874_10 + arg_874_0 then
				arg_871_1.typewritter.percent = 1

				arg_871_1.typewritter:SetDirty()
				arg_871_1:ShowNextGo(true)
			end
		end
	end,
	Play411121206 = function(arg_875_0, arg_875_1)
		arg_875_1.time_ = 0
		arg_875_1.frameCnt_ = 0
		arg_875_1.state_ = "playing"
		arg_875_1.curTalkId_ = 411121206
		arg_875_1.duration_ = 8.1

		local var_875_0 = {
			zh = 8.1,
			ja = 4.833
		}
		local var_875_1 = manager.audio:GetLocalizationFlag()

		if var_875_0[var_875_1] ~= nil then
			arg_875_1.duration_ = var_875_0[var_875_1]
		end

		SetActive(arg_875_1.tipsGo_, false)

		function arg_875_1.onSingleLineFinish_()
			arg_875_1.onSingleLineUpdate_ = nil
			arg_875_1.onSingleLineFinish_ = nil
			arg_875_1.state_ = "waiting"
			arg_875_1.auto_ = false
		end

		function arg_875_1.playNext_(arg_877_0)
			arg_875_1.onStoryFinished_()
		end

		function arg_875_1.onSingleLineUpdate_(arg_878_0)
			local var_878_0 = arg_875_1.actors_["10014ui_story"]
			local var_878_1 = 0

			if var_878_1 < arg_875_1.time_ and arg_875_1.time_ <= var_878_1 + arg_878_0 and arg_875_1.var_.characterEffect10014ui_story == nil then
				arg_875_1.var_.characterEffect10014ui_story = var_878_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_878_2 = 0.200000002980232

			if var_878_1 <= arg_875_1.time_ and arg_875_1.time_ < var_878_1 + var_878_2 then
				local var_878_3 = (arg_875_1.time_ - var_878_1) / var_878_2

				if arg_875_1.var_.characterEffect10014ui_story then
					arg_875_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_875_1.time_ >= var_878_1 + var_878_2 and arg_875_1.time_ < var_878_1 + var_878_2 + arg_878_0 and arg_875_1.var_.characterEffect10014ui_story then
				arg_875_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_878_4 = 0

			if var_878_4 < arg_875_1.time_ and arg_875_1.time_ <= var_878_4 + arg_878_0 then
				arg_875_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action6_2")
			end

			local var_878_5 = 0

			if var_878_5 < arg_875_1.time_ and arg_875_1.time_ <= var_878_5 + arg_878_0 then
				arg_875_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_878_6 = 0
			local var_878_7 = 0.825

			if var_878_6 < arg_875_1.time_ and arg_875_1.time_ <= var_878_6 + arg_878_0 then
				arg_875_1.talkMaxDuration = 0
				arg_875_1.dialogCg_.alpha = 1

				arg_875_1.dialog_:SetActive(true)
				SetActive(arg_875_1.leftNameGo_, true)

				local var_878_8 = arg_875_1:FormatText(StoryNameCfg[264].name)

				arg_875_1.leftNameTxt_.text = var_878_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_875_1.leftNameTxt_.transform)

				arg_875_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_875_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_875_1:RecordName(arg_875_1.leftNameTxt_.text)
				SetActive(arg_875_1.iconTrs_.gameObject, false)
				arg_875_1.callingController_:SetSelectedState("normal")

				local var_878_9 = arg_875_1:GetWordFromCfg(411121206)
				local var_878_10 = arg_875_1:FormatText(var_878_9.content)

				arg_875_1.text_.text = var_878_10

				LuaForUtil.ClearLinePrefixSymbol(arg_875_1.text_)

				local var_878_11 = 33
				local var_878_12 = utf8.len(var_878_10)
				local var_878_13 = var_878_11 <= 0 and var_878_7 or var_878_7 * (var_878_12 / var_878_11)

				if var_878_13 > 0 and var_878_7 < var_878_13 then
					arg_875_1.talkMaxDuration = var_878_13

					if var_878_13 + var_878_6 > arg_875_1.duration_ then
						arg_875_1.duration_ = var_878_13 + var_878_6
					end
				end

				arg_875_1.text_.text = var_878_10
				arg_875_1.typewritter.percent = 0

				arg_875_1.typewritter:SetDirty()
				arg_875_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121206", "story_v_out_411121.awb") ~= 0 then
					local var_878_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121206", "story_v_out_411121.awb") / 1000

					if var_878_14 + var_878_6 > arg_875_1.duration_ then
						arg_875_1.duration_ = var_878_14 + var_878_6
					end

					if var_878_9.prefab_name ~= "" and arg_875_1.actors_[var_878_9.prefab_name] ~= nil then
						local var_878_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_875_1.actors_[var_878_9.prefab_name].transform, "story_v_out_411121", "411121206", "story_v_out_411121.awb")

						arg_875_1:RecordAudio("411121206", var_878_15)
						arg_875_1:RecordAudio("411121206", var_878_15)
					else
						arg_875_1:AudioAction("play", "voice", "story_v_out_411121", "411121206", "story_v_out_411121.awb")
					end

					arg_875_1:RecordHistoryTalkVoice("story_v_out_411121", "411121206", "story_v_out_411121.awb")
				end

				arg_875_1:RecordContent(arg_875_1.text_.text)
			end

			local var_878_16 = math.max(var_878_7, arg_875_1.talkMaxDuration)

			if var_878_6 <= arg_875_1.time_ and arg_875_1.time_ < var_878_6 + var_878_16 then
				arg_875_1.typewritter.percent = (arg_875_1.time_ - var_878_6) / var_878_16

				arg_875_1.typewritter:SetDirty()
			end

			if arg_875_1.time_ >= var_878_6 + var_878_16 and arg_875_1.time_ < var_878_6 + var_878_16 + arg_878_0 then
				arg_875_1.typewritter.percent = 1

				arg_875_1.typewritter:SetDirty()
				arg_875_1:ShowNextGo(true)
			end
		end
	end,
	assets = {
		"Assets/UIResources/UI_AB/TextureConfig/Background/B04g",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B04f",
		"Assets/UIResources/UI_AB/TextureConfig/Background/STblack",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B07a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B03b",
		"Assets/UIResources/UI_AB/TextureConfig/Background/I11r",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST71a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST74a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/I11m",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ML0504",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B14"
	},
	voices = {
		"story_v_out_411121.awb"
	}
}
